"use strict";(self.webpackChunkuniversity_backend=self.webpackChunkuniversity_backend||[]).push([[179],{2011:(Ot,ke,F)=>{F.d(ke,{Dh:()=>Ce,GT:()=>se,cc:()=>Ie,hO:()=>Ae,on:()=>G,pX:()=>pe,xv:()=>we});var l=F(4650),H=F(9260),N=F(3324);Ot=F.hmd(Ot);const te=["ngOnDestroy"],pe=(Ne,Be,Ge,De={})=>new Proxy(Ne,{get:(Pe,Fe)=>Ge.runOutsideAngular(()=>{var Je;if(Ne[Fe])return!(null===(Je=De?.spy)||void 0===Je)&&Je.get&&De.spy.get(Fe,Ne[Fe]),Ne[Fe];if(te.indexOf(Fe)>-1)return()=>{};const $e=Be.toPromise().then(ae=>{const st=ae&&ae[Fe];return"function"==typeof st?st.bind(ae):st&&st.then?st.then(Nt=>Ge.run(()=>Nt)):Ge.run(()=>st)});return new Proxy(()=>{},{get:(ae,st)=>$e[st],apply:(ae,st,Nt)=>$e.then(gt=>{var en;const mt=gt&&gt(...Nt);return!(null===(en=De?.spy)||void 0===en)&&en.apply&&De.spy.apply(Fe,Nt,mt),mt})})})}),se=(Ne,Be)=>{Be.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(De=>{Object.defineProperty(Ne.prototype,De,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,De))})})};class ve{constructor(Be){return Be}}const Ce=new l.OlP("angularfire2.app.options"),we=new l.OlP("angularfire2.app.name");function G(Ne,Be,Ge){const Pe="object"==typeof Ge&&Ge||{};Pe.name=Pe.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const Je=H.Z.apps.filter($e=>$e&&$e.name===Pe.name)[0]||Be.runOutsideAngular(()=>H.Z.initializeApp(Ne,Pe));try{JSON.stringify(Ne)!==JSON.stringify(Je.options)&&q("error",`${Je.name} Firebase App already initialized with different options${Ot.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ve(Je)}const q=(Ne,...Be)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Ne](...Be)},J={provide:ve,useFactory:G,deps:[Ce,l.R0b,[new l.FiY,we]]};let Ae=(()=>{class Ne{constructor(Ge){H.Z.registerVersion("angularfire",N.q4.full,"core"),H.Z.registerVersion("angularfire",N.q4.full,"app-compat"),H.Z.registerVersion("angular",l.q4F.full,Ge.toString())}static initializeApp(Ge,De){return{ngModule:Ne,providers:[{provide:Ce,useValue:Ge},{provide:we,useValue:De}]}}}return Ne.\u0275fac=function(Ge){return new(Ge||Ne)(l.LFG(l.Lbi))},Ne.\u0275mod=l.oAB({type:Ne}),Ne.\u0275inj=l.cJS({providers:[J]}),Ne})();function Ie(Ne,Be,Ge,De,Pe){const[,Fe,Je]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===Ne)||[];if(Fe)return function qe(Ne,Be){try{return Ne.toString()===Be.toString()}catch{return Ne===Be}}(Pe,Je)||(ye("error",`${Be} was already initialized on the ${Ge} Firebase App with different settings.${_t?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:Pe,was:Je})),Fe;{const $e=De();return globalThis.\u0275AngularfireInstanceCache.push([Ne,$e,Pe]),$e}}const _t=!!Ot.hot,ye=(Ne,...Be)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Ne](...Be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3324:(Ot,ke,F)=>{F.d(ke,{q4:()=>ar,iC:()=>Na,fc:()=>zc,HU:()=>Zs,vb:()=>ms,JM:()=>ka,u3:()=>ld});var l=F(4650),H=F(259),N=F(5861),te=F(6881),pe=F(2090),se=F(4859),ve=F(1877);F(4727);const we="@firebase/remote-config",G="0.4.4",Ie=new pe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Se{constructor(O,j,ce,Ee){this.client=O,this.storage=j,this.storageCache=ce,this.logger=Ee}isCachedDataFresh(O,j){if(!j)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ce=Date.now()-j,Ee=ce<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ce}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${Ee}.`),Ee}fetch(O){var j=this;return(0,N.Z)(function*(){const[ce,Ee]=yield Promise.all([j.storage.getLastSuccessfulFetchTimestampMillis(),j.storage.getLastSuccessfulFetchResponse()]);if(Ee&&j.isCachedDataFresh(O.cacheMaxAgeMillis,ce))return Ee;O.eTag=Ee&&Ee.eTag;const We=yield j.client.fetch(O),ht=[j.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===We.status&&ht.push(j.storage.setLastSuccessfulFetchResponse(We)),yield Promise.all(ht),We})()}}function Le(I=navigator){return I.languages&&I.languages[0]||I.language}class Ye{constructor(O,j,ce,Ee,We,ht){this.firebaseInstallations=O,this.sdkVersion=j,this.namespace=ce,this.projectId=Ee,this.apiKey=We,this.appId=ht}fetch(O){var j=this;return(0,N.Z)(function*(){const[ce,Ee]=yield Promise.all([j.firebaseInstallations.getId(),j.firebaseInstallations.getToken()]),ht=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${j.projectId}/namespaces/${j.namespace}:fetch?key=${j.apiKey}`,gn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},Cn={sdk_version:j.sdkVersion,app_instance_id:ce,app_instance_id_token:Ee,app_id:j.appId,language_code:Le()},$n={method:"POST",headers:gn,body:JSON.stringify(Cn)},Fn=fetch(ht,$n),mn=new Promise((Lr,bi)=>{O.signal.addEventListener(()=>{const ys=new Error("The operation was aborted.");ys.name="AbortError",bi(ys)})});let si;try{yield Promise.race([Fn,mn]),si=yield Fn}catch(Lr){let bi="fetch-client-network";throw"AbortError"===Lr?.name&&(bi="fetch-timeout"),Ie.create(bi,{originalErrorMessage:Lr?.message})}let cr=si.status;const eo=si.headers.get("ETag")||void 0;let ki,qo;if(200===si.status){let Lr;try{Lr=yield si.json()}catch(bi){throw Ie.create("fetch-client-parse",{originalErrorMessage:bi?.message})}ki=Lr.entries,qo=Lr.state}if("INSTANCE_STATE_UNSPECIFIED"===qo?cr=500:"NO_CHANGE"===qo?cr=304:("NO_TEMPLATE"===qo||"EMPTY_CONFIG"===qo)&&(ki={}),304!==cr&&200!==cr)throw Ie.create("fetch-status",{httpStatus:cr});return{status:cr,eTag:eo,config:ki}})()}}class je{constructor(O,j){this.client=O,this.storage=j}fetch(O){var j=this;return(0,N.Z)(function*(){const ce=(yield j.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return j.attemptFetch(O,ce)})()}attemptFetch(O,{throttleEndTimeMillis:j,backoffCount:ce}){var Ee=this;return(0,N.Z)(function*(){yield function Ze(I,O){return new Promise((j,ce)=>{const Ee=Math.max(O-Date.now(),0),We=setTimeout(j,Ee);I.addEventListener(()=>{clearTimeout(We),ce(Ie.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,j);try{const We=yield Ee.client.fetch(O);return yield Ee.storage.deleteThrottleMetadata(),We}catch(We){if(!function yt(I){if(!(I instanceof pe.ZR&&I.customData))return!1;const O=Number(I.customData.httpStatus);return 429===O||500===O||503===O||504===O}(We))throw We;const ht={throttleEndTimeMillis:Date.now()+(0,pe.$s)(ce),backoffCount:ce+1};return yield Ee.storage.setThrottleMetadata(ht),Ee.attemptFetch(O,ht)}})()}}class tn{constructor(O,j,ce,Ee,We){this.app=O,this._client=j,this._storageCache=ce,this._storage=Ee,this._logger=We,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function It(I,O){const j=I.target.error||void 0;return Ie.create(O,{originalErrorMessage:j&&j?.message})}const Ut="app_namespace_store";class Hn{constructor(O,j,ce,Ee=function mr(){return new Promise((I,O)=>{try{const j=indexedDB.open("firebase_remote_config",1);j.onerror=ce=>{O(It(ce,"storage-open"))},j.onsuccess=ce=>{I(ce.target.result)},j.onupgradeneeded=ce=>{0===ce.oldVersion&&ce.target.result.createObjectStore(Ut,{keyPath:"compositeKey"})}}catch(j){O(Ie.create("storage-open",{originalErrorMessage:j?.message}))}})}()){this.appId=O,this.appName=j,this.namespace=ce,this.openDbPromise=Ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var j=this;return(0,N.Z)(function*(){const ce=yield j.openDbPromise;return new Promise((Ee,We)=>{const gn=ce.transaction([Ut],"readonly").objectStore(Ut),Cn=j.createCompositeKey(O);try{const $n=gn.get(Cn);$n.onerror=Fn=>{We(It(Fn,"storage-get"))},$n.onsuccess=Fn=>{const mn=Fn.target.result;Ee(mn?mn.value:void 0)}}catch($n){We(Ie.create("storage-get",{originalErrorMessage:$n?.message}))}})})()}set(O,j){var ce=this;return(0,N.Z)(function*(){const Ee=yield ce.openDbPromise;return new Promise((We,ht)=>{const Cn=Ee.transaction([Ut],"readwrite").objectStore(Ut),$n=ce.createCompositeKey(O);try{const Fn=Cn.put({compositeKey:$n,value:j});Fn.onerror=mn=>{ht(It(mn,"storage-set"))},Fn.onsuccess=()=>{We()}}catch(Fn){ht(Ie.create("storage-set",{originalErrorMessage:Fn?.message}))}})})()}delete(O){var j=this;return(0,N.Z)(function*(){const ce=yield j.openDbPromise;return new Promise((Ee,We)=>{const gn=ce.transaction([Ut],"readwrite").objectStore(Ut),Cn=j.createCompositeKey(O);try{const $n=gn.delete(Cn);$n.onerror=Fn=>{We(It(Fn,"storage-delete"))},$n.onsuccess=()=>{Ee()}}catch($n){We(Ie.create("storage-delete",{originalErrorMessage:$n?.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class Hr{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,N.Z)(function*(){const j=O.storage.getLastFetchStatus(),ce=O.storage.getLastSuccessfulFetchTimestampMillis(),Ee=O.storage.getActiveConfig(),We=yield j;We&&(O.lastFetchStatus=We);const ht=yield ce;ht&&(O.lastSuccessfulFetchTimestampMillis=ht);const gn=yield Ee;gn&&(O.activeConfig=gn)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function No(){return xn.apply(this,arguments)}function xn(){return(xn=(0,N.Z)(function*(){if(!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch{return!1}})).apply(this,arguments)}!function Ar(){(0,te._registerComponent)(new se.wA("remote-config",function I(O,{instanceIdentifier:j}){const ce=O.getProvider("app").getImmediate(),Ee=O.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ie.create("registration-window");if(!(0,pe.hl)())throw Ie.create("indexed-db-unavailable");const{projectId:We,apiKey:ht,appId:gn}=ce.options;if(!We)throw Ie.create("registration-project-id");if(!ht)throw Ie.create("registration-api-key");if(!gn)throw Ie.create("registration-app-id");const Cn=new Hn(gn,ce.name,j=j||"firebase"),$n=new Hr(Cn),Fn=new ve.Yd(we);Fn.logLevel=ve.in.ERROR;const mn=new Ye(Ee,te.SDK_VERSION,j,We,ht,gn),si=new je(mn,Cn),cr=new Se(si,Cn,$n,Fn),eo=new tn(ce,cr,$n,Cn,Fn);return function Je(I){const O=(0,pe.m9)(I);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(eo),eo},"PUBLIC").setMultipleInstances(!0)),(0,te.registerVersion)(we,G),(0,te.registerVersion)(we,G,"esm2017")}();const vt=(I,O)=>O.some(j=>I instanceof j);let kn,Qr;const Kn=new WeakMap,sn=new WeakMap,dn=new WeakMap,ft=new WeakMap,Ft=new WeakMap;let Rn={get(I,O,j){if(I instanceof IDBTransaction){if("done"===O)return sn.get(I);if("objectStoreNames"===O)return I.objectStoreNames||dn.get(I);if("store"===O)return j.objectStoreNames[1]?void 0:j.objectStore(j.objectStoreNames[0])}return At(I[O])},set:(I,O,j)=>(I[O]=j,!0),has:(I,O)=>I instanceof IDBTransaction&&("done"===O||"store"===O)||O in I};function er(I){return"function"==typeof I?function Nn(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Zn(){return Qr||(Qr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...O){return I.apply(yr(this),O),At(Kn.get(this))}:function(...O){return At(I.apply(yr(this),O))}:function(O,...j){const ce=I.call(yr(this),O,...j);return dn.set(ce,O.sort?O.sort():[O]),At(ce)}}(I):(I instanceof IDBTransaction&&function Pn(I){if(sn.has(I))return;const O=new Promise((j,ce)=>{const Ee=()=>{I.removeEventListener("complete",We),I.removeEventListener("error",ht),I.removeEventListener("abort",ht)},We=()=>{j(),Ee()},ht=()=>{ce(I.error||new DOMException("AbortError","AbortError")),Ee()};I.addEventListener("complete",We),I.addEventListener("error",ht),I.addEventListener("abort",ht)});sn.set(I,O)}(I),vt(I,function Wn(){return kn||(kn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Rn):I)}function At(I){if(I instanceof IDBRequest)return function qn(I){const O=new Promise((j,ce)=>{const Ee=()=>{I.removeEventListener("success",We),I.removeEventListener("error",ht)},We=()=>{j(At(I.result)),Ee()},ht=()=>{ce(I.error),Ee()};I.addEventListener("success",We),I.addEventListener("error",ht)});return O.then(j=>{j instanceof IDBCursor&&Kn.set(j,I)}).catch(()=>{}),Ft.set(O,I),O}(I);if(ft.has(I))return ft.get(I);const O=er(I);return O!==I&&(ft.set(I,O),Ft.set(O,I)),O}const yr=I=>Ft.get(I);function Yt(I,O,{blocked:j,upgrade:ce,blocking:Ee,terminated:We}={}){const ht=indexedDB.open(I,O),gn=At(ht);return ce&&ht.addEventListener("upgradeneeded",Cn=>{ce(At(ht.result),Cn.oldVersion,Cn.newVersion,At(ht.transaction))}),j&&ht.addEventListener("blocked",()=>j()),gn.then(Cn=>{We&&Cn.addEventListener("close",()=>We()),Ee&&Cn.addEventListener("versionchange",()=>Ee())}).catch(()=>{}),gn}function $r(I,{blocked:O}={}){const j=indexedDB.deleteDatabase(I);return O&&j.addEventListener("blocked",()=>O()),At(j).then(()=>{})}const zt=["get","getKey","getAll","getAllKeys","count"],Yn=["put","add","delete","clear"],Dn=new Map;function tr(I,O){if(!(I instanceof IDBDatabase)||O in I||"string"!=typeof O)return;if(Dn.get(O))return Dn.get(O);const j=O.replace(/FromIndex$/,""),ce=O!==j,Ee=Yn.includes(j);if(!(j in(ce?IDBIndex:IDBObjectStore).prototype)||!Ee&&!zt.includes(j))return;const We=function(){var ht=(0,N.Z)(function*(gn,...Cn){const $n=this.transaction(gn,Ee?"readwrite":"readonly");let Fn=$n.store;return ce&&(Fn=Fn.index(Cn.shift())),(yield Promise.all([Fn[j](...Cn),Ee&&$n.done]))[0]});return function(Cn){return ht.apply(this,arguments)}}();return Dn.set(O,We),We}!function _r(I){Rn=I(Rn)}(I=>({...I,get:(O,j,ce)=>tr(O,j)||I.get(O,j,ce),has:(O,j)=>!!tr(O,j)||I.has(O,j)}));const Qn="/firebase-messaging-sw.js",dr="/firebase-cloud-messaging-push-scope",xr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Jr="https://fcmregistrations.googleapis.com/v1",z="google.c.a.c_id",$="google.c.a.c_l",k="google.c.a.ts",R="google.c.a.e";var K=(()=>{return(I=K||(K={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",K;var I})();function _e(I){const O=new Uint8Array(I);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function W(I){const j=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ce=atob(j),Ee=new Uint8Array(ce.length);for(let We=0;We<ce.length;++We)Ee[We]=ce.charCodeAt(We);return Ee}const ie="fcm_token_details_db",fe=5,xe="fcm_token_object_Store";function it(){return it=(0,N.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(We=>We.name).includes(ie))return null;let O=null;return(yield Yt(ie,fe,{upgrade:(ce=(0,N.Z)(function*(Ee,We,ht,gn){var Cn;if(We<2||!Ee.objectStoreNames.contains(xe))return;const $n=gn.objectStore(xe),Fn=yield $n.index("fcmSenderId").get(I);if(yield $n.clear(),Fn)if(2===We){const mn=Fn;if(!mn.auth||!mn.p256dh||!mn.endpoint)return;O={token:mn.fcmToken,createTime:null!==(Cn=mn.createTime)&&void 0!==Cn?Cn:Date.now(),subscriptionOptions:{auth:mn.auth,p256dh:mn.p256dh,endpoint:mn.endpoint,swScope:mn.swScope,vapidKey:"string"==typeof mn.vapidKey?mn.vapidKey:_e(mn.vapidKey)}}}else if(3===We){const mn=Fn;O={token:mn.fcmToken,createTime:mn.createTime,subscriptionOptions:{auth:_e(mn.auth),p256dh:_e(mn.p256dh),endpoint:mn.endpoint,swScope:mn.swScope,vapidKey:_e(mn.vapidKey)}}}else if(4===We){const mn=Fn;O={token:mn.fcmToken,createTime:mn.createTime,subscriptionOptions:{auth:_e(mn.auth),p256dh:_e(mn.p256dh),endpoint:mn.endpoint,swScope:mn.swScope,vapidKey:_e(mn.vapidKey)}}}}),function(We,ht,gn,Cn){return ce.apply(this,arguments)})})).close(),yield $r(ie),yield $r("fcm_vapid_details_db"),yield $r("undefined"),function et(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:O}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}(O)?O:null;var ce}),it.apply(this,arguments)}const Ht="firebase-messaging-database",Jt=1,ne="firebase-messaging-store";let ee=null;function Re(){return ee||(ee=Yt(Ht,Jt,{upgrade:(I,O)=>{0===O&&I.createObjectStore(ne)}})),ee}function bt(I){return Tt.apply(this,arguments)}function Tt(){return Tt=(0,N.Z)(function*(I){const O=br(I),ce=yield(yield Re()).transaction(ne).objectStore(ne).get(O);if(ce)return ce;{const Ee=yield function Oe(I){return it.apply(this,arguments)}(I.appConfig.senderId);if(Ee)return yield nn(I,Ee),Ee}}),Tt.apply(this,arguments)}function nn(I,O){return Et.apply(this,arguments)}function Et(){return(Et=(0,N.Z)(function*(I,O){const j=br(I),Ee=(yield Re()).transaction(ne,"readwrite");return yield Ee.objectStore(ne).put(O,j),yield Ee.done,O})).apply(this,arguments)}function an(){return(an=(0,N.Z)(function*(I){const O=br(I),ce=(yield Re()).transaction(ne,"readwrite");yield ce.objectStore(ne).delete(O),yield ce.done})).apply(this,arguments)}function br({appConfig:I}){return I.appId}const vr=new pe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $s(I,O){return ni.apply(this,arguments)}function ni(){return(ni=(0,N.Z)(function*(I,O){const j=yield Fo(I),ce=Xr(O),Ee={method:"POST",headers:j,body:JSON.stringify(ce)};let We;try{We=yield(yield fetch(bn(I.appConfig),Ee)).json()}catch(ht){throw vr.create("token-subscribe-failed",{errorInfo:ht?.toString()})}if(We.error)throw vr.create("token-subscribe-failed",{errorInfo:We.error.message});if(!We.token)throw vr.create("token-subscribe-no-token");return We.token})).apply(this,arguments)}function ct(){return(ct=(0,N.Z)(function*(I,O){const j=yield Fo(I),ce=Xr(O.subscriptionOptions),Ee={method:"PATCH",headers:j,body:JSON.stringify(ce)};let We;try{We=yield(yield fetch(`${bn(I.appConfig)}/${O.token}`,Ee)).json()}catch(ht){throw vr.create("token-update-failed",{errorInfo:ht?.toString()})}if(We.error)throw vr.create("token-update-failed",{errorInfo:We.error.message});if(!We.token)throw vr.create("token-update-no-token");return We.token})).apply(this,arguments)}function qt(I,O){return Un.apply(this,arguments)}function Un(){return(Un=(0,N.Z)(function*(I,O){const ce={method:"DELETE",headers:yield Fo(I)};try{const We=yield(yield fetch(`${bn(I.appConfig)}/${O}`,ce)).json();if(We.error)throw vr.create("token-unsubscribe-failed",{errorInfo:We.error.message})}catch(Ee){throw vr.create("token-unsubscribe-failed",{errorInfo:Ee?.toString()})}})).apply(this,arguments)}function bn({projectId:I}){return`${Jr}/projects/${I}/registrations`}function Fo(I){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,N.Z)(function*({appConfig:I,installations:O}){const j=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${j}`})})).apply(this,arguments)}function Xr({p256dh:I,auth:O,endpoint:j,vapidKey:ce}){const Ee={web:{endpoint:j,auth:O,p256dh:I}};return ce!==xr&&(Ee.web.applicationPubKey=ce),Ee}const Gn=6048e5;function kr(){return kr=(0,N.Z)(function*(I){const O=yield function hn(I,O){return Qt.apply(this,arguments)}(I.swRegistration,I.vapidKey),j={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:O.endpoint,auth:_e(O.getKey("auth")),p256dh:_e(O.getKey("p256dh"))},ce=yield bt(I.firebaseDependencies);if(ce){if(function cn(I,O){return O.vapidKey===I.vapidKey&&O.endpoint===I.endpoint&&O.auth===I.auth&&O.p256dh===I.p256dh}(ce.subscriptionOptions,j))return Date.now()>=ce.createTime+Gn?function V(I,O){return X.apply(this,arguments)}(I,{token:ce.token,createTime:Date.now(),subscriptionOptions:j}):ce.token;try{yield qt(I.firebaseDependencies,ce.token)}catch(Ee){console.warn(Ee)}return ge(I.firebaseDependencies,j)}return ge(I.firebaseDependencies,j)}),kr.apply(this,arguments)}function Ai(){return Ai=(0,N.Z)(function*(I){const O=yield bt(I.firebaseDependencies);O&&(yield qt(I.firebaseDependencies,O.token),yield function vn(I){return an.apply(this,arguments)}(I.firebaseDependencies));const j=yield I.swRegistration.pushManager.getSubscription();return!j||j.unsubscribe()}),Ai.apply(this,arguments)}function X(){return X=(0,N.Z)(function*(I,O){try{const j=yield function sr(I,O){return ct.apply(this,arguments)}(I.firebaseDependencies,O),ce=Object.assign(Object.assign({},O),{token:j,createTime:Date.now()});return yield nn(I.firebaseDependencies,ce),j}catch(j){throw yield function Xt(I){return Ai.apply(this,arguments)}(I),j}}),X.apply(this,arguments)}function ge(I,O){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,N.Z)(function*(I,O){const ce={token:yield $s(I,O),createTime:Date.now(),subscriptionOptions:O};return yield nn(I,ce),ce.token})).apply(this,arguments)}function Qt(){return(Qt=(0,N.Z)(function*(I,O){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:W(O)})})).apply(this,arguments)}function Vn(I){const O={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function nr(I,O){if(!O.notification)return;I.notification={};const j=O.notification.title;j&&(I.notification.title=j);const ce=O.notification.body;ce&&(I.notification.body=ce);const Ee=O.notification.image;Ee&&(I.notification.image=Ee);const We=O.notification.icon;We&&(I.notification.icon=We)}(O,I),function ln(I,O){O.data&&(I.data=O.data)}(O,I),function Rr(I,O){var j,ce,Ee,We,ht;if(!(O.fcmOptions||null!==(j=O.notification)&&void 0!==j&&j.click_action))return;I.fcmOptions={};const gn=null!==(Ee=null===(ce=O.fcmOptions)||void 0===ce?void 0:ce.link)&&void 0!==Ee?Ee:null===(We=O.notification)||void 0===We?void 0:We.click_action;gn&&(I.fcmOptions.link=gn);const Cn=null===(ht=O.fcmOptions)||void 0===ht?void 0:ht.analytics_label;Cn&&(I.fcmOptions.analyticsLabel=Cn)}(O,I),O}function js(I,O){const j=[];for(let ce=0;ce<I.length;ce++)j.push(I.charAt(ce)),ce<O.length&&j.push(O.charAt(ce));return j.join("")}function xi(I){return vr.create("missing-app-config-values",{valueName:I})}js("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),js("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class mi{constructor(O,j,ce){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ee=function us(I){if(!I||!I.options)throw xi("App Configuration Object");if(!I.name)throw xi("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:j}=I;for(const ce of O)if(!j[ce])throw xi(ce);return{appName:I.name,projectId:j.projectId,apiKey:j.apiKey,appId:j.appId,senderId:j.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:Ee,installations:j,analyticsProvider:ce}}_delete(){return Promise.resolve()}}function Nr(I){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,N.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Qn,{scope:dr}),I.swRegistration.update().catch(()=>{})}catch(O){throw vr.create("failed-service-worker-registration",{browserErrorMessage:O?.message})}})).apply(this,arguments)}function Eo(){return(Eo=(0,N.Z)(function*(I,O){if(!O&&!I.swRegistration&&(yield Nr(I)),O||!I.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw vr.create("invalid-sw-registration");I.swRegistration=O}})).apply(this,arguments)}function qi(){return(qi=(0,N.Z)(function*(I,O){O?I.vapidKey=O:I.vapidKey||(I.vapidKey=xr)})).apply(this,arguments)}function Fr(){return Fr=(0,N.Z)(function*(I,O){if(!navigator)throw vr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw vr.create("permission-blocked");return yield function zs(I,O){return qi.apply(this,arguments)}(I,O?.vapidKey),yield function co(I,O){return Eo.apply(this,arguments)}(I,O?.serviceWorkerRegistration),function zi(I){return kr.apply(this,arguments)}(I)}),Fr.apply(this,arguments)}function Sa(){return(Sa=(0,N.Z)(function*(I,O,j){const ce=function od(I){switch(I){case K.NOTIFICATION_CLICKED:return"notification_open";case K.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(O);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(ce,{message_id:j[z],message_name:j[$],message_time:j[k],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Jl(){return Jl=(0,N.Z)(function*(I,O){const j=O.data;if(!j.isFirebaseMessaging)return;I.onMessageHandler&&j.messageType===K.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Vn(j)):I.onMessageHandler.next(Vn(j)));const ce=j.data;(function Lc(I){return"object"==typeof I&&!!I&&z in I})(ce)&&"1"===ce[R]&&(yield function _i(I,O,j){return Sa.apply(this,arguments)}(I,j.messageType,ce))}),Jl.apply(this,arguments)}const Uc="@firebase/messaging",eu=I=>{const O=new mi(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",j=>function ri(I,O){return Jl.apply(this,arguments)}(O,j)),O},pp=I=>{const O=I.getProvider("messaging").getImmediate();return{getToken:ce=>function Gi(I,O){return Fr.apply(this,arguments)}(O,ce)}};function Vc(){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,N.Z)(function*(){try{yield(0,pe.eu)()}catch{return!1}return typeof window<"u"&&(0,pe.hl)()&&(0,pe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function tu(){(0,te._registerComponent)(new se.wA("messaging",eu,"PUBLIC")),(0,te._registerComponent)(new se.wA("messaging-internal",pp,"PRIVATE")),(0,te.registerVersion)(Uc,"0.12.4"),(0,te.registerVersion)(Uc,"0.12.4","esm2017")}();var ds=F(3008),oi=F(4408),ru=F(7565);const ad=new class ou extends ru.v{}(class mp extends oi.o{constructor(O,j){super(O,j),this.scheduler=O,this.work=j}schedule(O,j=0){return j>0?super.schedule(O,j):(this.delay=j,this.state=O,this.scheduler.flush(this),this)}execute(O,j){return j>0||this.closed?super.execute(O,j):this._execute(O,j)}requestAsyncId(O,j,ce=0){return null!=ce&&ce>0||null==ce&&this.delay>0?super.requestAsyncId(O,j,ce):(O.flush(this),0)}});var iu=F(4986),Gs=F(9751),su=F(8505),Zi=F(5363),ps=F(9468);const ar=new l.GfV("7.5.0"),Ws="__angularfire_symbol__analyticsIsSupportedValue",xa="__angularfire_symbol__analyticsIsSupported",hr="__angularfire_symbol__remoteConfigIsSupportedValue",yi="__angularfire_symbol__remoteConfigIsSupported",Ki="__angularfire_symbol__messagingIsSupportedValue",Tr="__angularfire_symbol__messagingIsSupported";function ka(I,O,j){if(O){if(1===O.length)return O[0];const We=O.filter(ht=>ht.app===j);if(1===We.length)return We[0]}return j.container.getProvider(I).getImmediate({optional:!0})}globalThis[xa]||(globalThis[xa]=(0,ds.Gb)().then(I=>globalThis[Ws]=I).catch(()=>globalThis[Ws]=!1)),globalThis[Tr]||(globalThis[Tr]=Vc().then(I=>globalThis[Ki]=I).catch(()=>globalThis[Ki]=!1)),globalThis[yi]||(globalThis[yi]=No().then(I=>globalThis[hr]=I).catch(()=>globalThis[hr]=!1));const ms=(I,O)=>{const j=O?[O]:(0,H.C6)(),ce=[];return j.forEach(Ee=>{Ee.container.getProvider(I).instances.forEach(ht=>{ce.includes(ht)||ce.push(ht)})}),ce};function Yi(){}class ii{constructor(O,j=ad){this.zone=O,this.delegate=j}now(){return this.delegate.now()}schedule(O,j,ce){const Ee=this.zone;return this.delegate.schedule(function(ht){Ee.runGuarded(()=>{O.apply(this,[ht])})},j,ce)}}class jc{constructor(O){this.zone=O,this.task=null}call(O,j){const ce=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yi,{},Yi,Yi)),j.pipe((0,su.b)({next:ce,complete:ce,error:ce})).subscribe(O).add(ce)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zs=(()=>{class I{constructor(j){this.ngZone=j,this.outsideAngular=j.runOutsideAngular(()=>new ii(Zone.current)),this.insideAngular=j.run(()=>new ii(Zone.current,iu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(j){return new(j||I)(l.LFG(l.R0b))},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Lt(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function _s(I){return Lt().ngZone.run(()=>I())}function zc(I){return I.pipe((0,Zi.Q)(Lt().outsideAngular))}function Na(I){return Lt(),function au(I){return function(j){return(j=j.lift(new jc(I.ngZone))).pipe((0,ps.R)(I.outsideAngular),(0,Zi.Q)(I.insideAngular))}}(Lt())(I)}const cu=(I,O)=>function(){const ce=arguments;return O&&setTimeout(()=>{"scheduled"===O.state&&O.invoke()},10),_s(()=>I.apply(void 0,ce))},ld=(I,O)=>function(){let j;const ce=arguments;for(let We=0;We<arguments.length;We++)"function"==typeof ce[We]&&(O&&(j||(j=_s(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yi,{},Yi,Yi)))),ce[We]=cu(ce[We],j));const Ee=function Ra(I){return Lt().ngZone.runOutsideAngular(()=>I())}(()=>I.apply(this,ce));if(!O){if(Ee instanceof Gs.y){const We=Lt();return Ee.pipe((0,ps.R)(We.outsideAngular),(0,Zi.Q)(We.insideAngular))}return _s(()=>Ee)}return Ee instanceof Gs.y?Ee.pipe(Na):Ee instanceof Promise?_s(()=>new Promise((We,ht)=>Ee.then(gn=>_s(()=>We(gn)),gn=>_s(()=>ht(gn))))):"function"==typeof Ee&&j?function(){return setTimeout(()=>{j&&"scheduled"===j.state&&j.invoke()},10),Ee.apply(this,arguments)}:_s(()=>Ee)}},1389:(Ot,ke,F)=>{F.d(ke,{$:()=>Lt,A:()=>q,D:()=>Ie,I:()=>Gn,J:()=>V,L:()=>ri,N:()=>xr,P:()=>_o,Q:()=>sd,R:()=>bu,U:()=>mp,V:()=>ru,W:()=>ou,X:()=>oi,Y:()=>Gs,Z:()=>su,_:()=>xa,a:()=>Io,a0:()=>_s,a1:()=>cd,a2:()=>ld,a3:()=>We,a4:()=>gn,a5:()=>$n,a6:()=>mn,a7:()=>cr,a8:()=>ki,a9:()=>Lr,aA:()=>ae,aB:()=>Up,aC:()=>Qn,aD:()=>Jr,aE:()=>Fd,aF:()=>Es,aG:()=>il,aH:()=>bn,aL:()=>vs,aO:()=>hs,aa:()=>bi,ab:()=>wC,ac:()=>EC,ad:()=>_p,ae:()=>u_,af:()=>f_,ai:()=>bp,aj:()=>MC,ak:()=>Mo,an:()=>Hc,ao:()=>gd,aq:()=>_d,ar:()=>Yc,as:()=>Nt,at:()=>fe,au:()=>_e,av:()=>De,aw:()=>Bd,ax:()=>Vp,ay:()=>xe,az:()=>Pe,b:()=>pu,c:()=>zr,d:()=>Ad,e:()=>Sd,f:()=>Fp,g:()=>Nd,h:()=>I_,i:()=>Md,j:()=>T_,k:()=>Au,l:()=>Pd,m:()=>Qa,p:()=>Ce,r:()=>xC,s:()=>$a,u:()=>ai});var l=F(5861),H=F(2090),N=F(6881),te=F(655),pe=F(1877),se=F(4859);const Ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ie=function J(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},qe=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_t=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new pe.Yd("@firebase/auth");function Ge(b,...p){Ne.logLevel<=pe.in.ERROR&&Ne.error(`Auth (${N.SDK_VERSION}): ${b}`,...p)}function De(b,...p){throw $e(b,...p)}function Pe(b,...p){return $e(b,...p)}function Fe(b,p,m){const C=Object.assign(Object.assign({},qe()),{[p]:m});return new H.LL("auth","Firebase",C).create(p,{appName:b.name})}function Je(b,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&De(b,"argument-error"),Fe(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(b,...p){if("string"!=typeof b){const m=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(m,...C)}return _t.create(b,...p)}function ae(b,p,...m){if(!b)throw $e(p,...m)}function st(b){const p="INTERNAL ASSERTION FAILED: "+b;throw Ge(p),new Error(p)}function Nt(b,p){b||st(p)}function gt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function en(){return"http:"===mt()||"https:"===mt()}function mt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Se{constructor(p,m){this.shortDelay=p,this.longDelay=m,Nt(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function be(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(en()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Le(b,p){Nt(b.emulator,"Emulator should always be set here");const{url:m}=b.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Ye{static initialize(p,m,C){this.fetchImpl=p,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void st("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void st("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void st("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ze={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},yt=new Se(3e4,6e4);function je(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function Vt(b,p,m,C){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,l.Z)(function*(b,p,m,C,P={}){return tn(b,P,(0,l.Z)(function*(){let x={},Q={};C&&("GET"===p?Q=C:x={body:JSON.stringify(C)});const de=(0,H.xO)(Object.assign({key:b.config.apiKey},Q)).slice(1),Ke=yield b._getAdditionalHeaders();return Ke["Content-Type"]="application/json",b.languageCode&&(Ke["X-Firebase-Locale"]=b.languageCode),Ye.fetch()(An(b,b.config.apiHost,m,de),Object.assign({method:p,headers:Ke,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function tn(b,p,m){return It.apply(this,arguments)}function It(){return(It=(0,l.Z)(function*(b,p,m){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},Ze),p);try{const P=new mr(b),x=yield Promise.race([m(),P.promise]);P.clearNetworkTimeout();const Q=yield x.json();if("needConfirmation"in Q)throw Hn(b,"account-exists-with-different-credential",Q);if(x.ok&&!("errorMessage"in Q))return Q;{const de=x.ok?Q.errorMessage:Q.error.message,[Ke,lt]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ke)throw Hn(b,"credential-already-in-use",Q);if("EMAIL_EXISTS"===Ke)throw Hn(b,"email-already-in-use",Q);if("USER_DISABLED"===Ke)throw Hn(b,"user-disabled",Q);const St=C[Ke]||Ke.toLowerCase().replace(/[_\s]+/g,"-");if(lt)throw Fe(b,St,lt);De(b,St)}}catch(P){if(P instanceof H.ZR)throw P;De(b,"network-request-failed",{message:String(P)})}})).apply(this,arguments)}function Ut(b,p,m,C){return zn.apply(this,arguments)}function zn(){return(zn=(0,l.Z)(function*(b,p,m,C,P={}){const x=yield Vt(b,p,m,C,P);return"mfaPendingCredential"in x&&De(b,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function An(b,p,m,C){const P=`${p}${m}?${C}`;return b.config.emulator?Le(b.config,P):`${b.config.apiScheme}://${P}`}class mr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(Pe(this.auth,"network-request-failed")),yt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hn(b,p,m){const C={appName:b.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const P=Pe(b,p,C);return P.customData._tokenResponse=m,P}function Ar(){return(Ar=(0,l.Z)(function*(b,p){return Vt(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function fr(){return(fr=(0,l.Z)(function*(b,p){return Vt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function xn(){return(xn=(0,l.Z)(function*(b,p){return Vt(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function vt(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Wn(){return(Wn=(0,l.Z)(function*(b,p=!1){const m=(0,H.m9)(b),C=yield m.getIdToken(p),P=Kn(C);ae(P&&P.exp&&P.auth_time&&P.iat,m.auth,"internal-error");const x="object"==typeof P.firebase?P.firebase:void 0,Q=x?.sign_in_provider;return{claims:P,token:C,authTime:vt(Zn(P.auth_time)),issuedAtTime:vt(Zn(P.iat)),expirationTime:vt(Zn(P.exp)),signInProvider:Q||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function Zn(b){return 1e3*Number(b)}function Kn(b){const[p,m,C]=b.split(".");if(void 0===p||void 0===m||void 0===C)return Ge("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,H.tV)(m);return P?JSON.parse(P):(Ge("Failed to decode base64 JWT payload"),null)}catch(P){return Ge("Caught error parsing JWT payload as JSON",P?.toString()),null}}function dn(b,p){return ft.apply(this,arguments)}function ft(){return(ft=(0,l.Z)(function*(b,p,m=!1){if(m)return p;try{return yield p}catch(C){throw C instanceof H.ZR&&function Ft({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}class qn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const P=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,P)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),C)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class Pn{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=vt(this.lastLoginAt),this.creationTime=vt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rn(b){return _r.apply(this,arguments)}function _r(){return _r=(0,l.Z)(function*(b){var p;const m=b.auth,C=yield b.getIdToken(),P=yield dn(b,function No(b,p){return xn.apply(this,arguments)}(m,{idToken:C}));ae(P?.users.length,m,"internal-error");const x=P.users[0];b._notifyReloadListener(x);const Q=null!==(p=x.providerUserInfo)&&void 0!==p&&p.length?function yr(b){return b.map(p=>{var{providerId:m}=p,C=(0,te._T)(p,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(x.providerUserInfo):[],de=function At(b,p){return[...b.filter(C=>!p.some(P=>P.providerId===C.providerId)),...p]}(b.providerData,Q),St=!!b.isAnonymous&&!(b.email&&x.passwordHash||de?.length),un={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:de,metadata:new Pn(x.createdAt,x.lastLoginAt),isAnonymous:St};Object.assign(b,un)}),_r.apply(this,arguments)}function er(){return(er=(0,l.Z)(function*(b){const p=(0,H.m9)(b);yield Rn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function $r(){return($r=(0,l.Z)(function*(b,p){const m=yield tn(b,{},(0,l.Z)(function*(){const C=(0,H.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:P,apiKey:x}=b.config,Q=An(b,P,"/v1/token",`key=${x}`),de=yield b._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",Ye.fetch()(Q,{method:"POST",headers:de,body:C})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class zt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ae(p.idToken,"internal-error"),ae(typeof p.idToken<"u","internal-error"),ae(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function sn(b){const p=Kn(b);return ae(p,"internal-error"),ae(typeof p.exp<"u","internal-error"),ae(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var C=this;return(0,l.Z)(function*(){return ae(!C.accessToken||C.refreshToken,p,"user-token-expired"),m||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var C=this;return(0,l.Z)(function*(){const{accessToken:P,refreshToken:x,expiresIn:Q}=yield function Yt(b,p){return $r.apply(this,arguments)}(p,m);C.updateTokensAndExpiration(P,x,Number(Q))})()}updateTokensAndExpiration(p,m,C){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,m){const{refreshToken:C,accessToken:P,expirationTime:x}=m,Q=new zt;return C&&(ae("string"==typeof C,"internal-error",{appName:p}),Q.refreshToken=C),P&&(ae("string"==typeof P,"internal-error",{appName:p}),Q.accessToken=P),x&&(ae("number"==typeof x,"internal-error",{appName:p}),Q.expirationTime=x),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new zt,this.toJSON())}_performRefresh(){return st("not implemented")}}function Yn(b,p){ae("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class Dn{constructor(p){var{uid:m,auth:C,stsTokenManager:P}=p,x=(0,te._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=P,this.accessToken=P.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new Pn(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,l.Z)(function*(){const C=yield dn(m,m.stsTokenManager.getToken(m.auth,p));return ae(C,m.auth,"internal-error"),m.accessToken!==C&&(m.accessToken=C,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),C})()}getIdTokenResult(p){return function Qr(b){return Wn.apply(this,arguments)}(this,p)}reload(){return function Nn(b){return er.apply(this,arguments)}(this)}_assign(p){this!==p&&(ae(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Dn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var C=this;return(0,l.Z)(function*(){let P=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),P=!0),m&&(yield Rn(C)),yield C.auth._persistUserIfCurrent(C),P&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,l.Z)(function*(){const m=yield p.getIdToken();return yield dn(p,function Hr(b,p){return Ar.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var C,P,x,Q,de,Ke,lt,St;const un=null!==(C=m.displayName)&&void 0!==C?C:void 0,So=null!==(P=m.email)&&void 0!==P?P:void 0,Fi=null!==(x=m.phoneNumber)&&void 0!==x?x:void 0,Ru=null!==(Q=m.photoURL)&&void 0!==Q?Q:void 0,FC=null!==(de=m.tenantId)&&void 0!==de?de:void 0,Xa=null!==(Ke=m._redirectEventId)&&void 0!==Ke?Ke:void 0,Nu=null!==(lt=m.createdAt)&&void 0!==lt?lt:void 0,Gp=null!==(St=m.lastLoginAt)&&void 0!==St?St:void 0,{uid:Hd,emailVerified:_l,isAnonymous:Fu,providerData:yl,stsTokenManager:ia}=m;ae(Hd&&ia,p,"internal-error");const Lu=zt.fromJSON(this.name,ia);ae("string"==typeof Hd,p,"internal-error"),Yn(un,p.name),Yn(So,p.name),ae("boolean"==typeof _l,p,"internal-error"),ae("boolean"==typeof Fu,p,"internal-error"),Yn(Fi,p.name),Yn(Ru,p.name),Yn(FC,p.name),Yn(Xa,p.name),Yn(Nu,p.name),Yn(Gp,p.name);const $d=new Dn({uid:Hd,auth:p,email:So,emailVerified:_l,displayName:un,isAnonymous:Fu,photoURL:Ru,phoneNumber:Fi,tenantId:FC,stsTokenManager:Lu,createdAt:Nu,lastLoginAt:Gp});return yl&&Array.isArray(yl)&&($d.providerData=yl.map(jd=>Object.assign({},jd))),Xa&&($d._redirectEventId=Xa),$d}static _fromIdTokenResponse(p,m,C=!1){return(0,l.Z)(function*(){const P=new zt;P.updateFromServerResponse(m);const x=new Dn({uid:m.localId,auth:p,stsTokenManager:P,isAnonymous:C});return yield Rn(x),x})()}}const tr=new Map;function Qn(b){Nt(b instanceof Function,"Expected a class definition");let p=tr.get(b);return p?(Nt(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,tr.set(b,p),p)}const xr=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,C){var P=this;return(0,l.Z)(function*(){P.storage[m]=C})()}_get(m){var C=this;return(0,l.Z)(function*(){const P=C.storage[m];return void 0===P?null:P})()}_remove(m){var C=this;return(0,l.Z)(function*(){delete C.storage[m]})()}_addListener(m,C){}_removeListener(m,C){}}return b.type="NONE",b})();function Jr(b,p,m){return`firebase:${b}:${p}:${m}`}class z{constructor(p,m,C){this.persistence=p,this.auth=m,this.userKey=C;const{config:P,name:x}=this.auth;this.fullUserKey=Jr(this.userKey,P.apiKey,x),this.fullPersistenceKey=Jr("persistence",P.apiKey,x),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Dn._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,l.Z)(function*(){if(m.persistence===p)return;const C=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,C?m.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,C="authUser"){return(0,l.Z)(function*(){if(!m.length)return new z(Qn(xr),p,C);const P=(yield Promise.all(m.map(function(){var lt=(0,l.Z)(function*(St){if(yield St._isAvailable())return St});return function(St){return lt.apply(this,arguments)}}()))).filter(lt=>lt);let x=P[0]||Qn(xr);const Q=Jr(C,p.config.apiKey,p.name);let de=null;for(const lt of m)try{const St=yield lt._get(Q);if(St){const un=Dn._fromJSON(p,St);lt!==x&&(de=un),x=lt;break}}catch{}const Ke=P.filter(lt=>lt._shouldAllowMigration);return x._shouldAllowMigration&&Ke.length?(x=Ke[0],de&&(yield x._set(Q,de.toJSON())),yield Promise.all(m.map(function(){var lt=(0,l.Z)(function*(St){if(St!==x)try{yield St._remove(Q)}catch{}});return function(St){return lt.apply(this,arguments)}}())),new z(x,p,C)):new z(x,p,C)})()}}function $(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(K(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(k(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(W(p))return"Blackberry";if(ie(p))return"Webos";if(R(p))return"Safari";if((p.includes("chrome/")||S(p))&&!p.includes("edge/"))return"Chrome";if(_e(p))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function k(b=(0,H.z$)()){return/firefox\//i.test(b)}function R(b=(0,H.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function S(b=(0,H.z$)()){return/crios\//i.test(b)}function K(b=(0,H.z$)()){return/iemobile/i.test(b)}function _e(b=(0,H.z$)()){return/android/i.test(b)}function W(b=(0,H.z$)()){return/blackberry/i.test(b)}function ie(b=(0,H.z$)()){return/webos/i.test(b)}function fe(b=(0,H.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function xe(b=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function et(b=(0,H.z$)()){return fe(b)||_e(b)||ie(b)||W(b)||/windows phone/i.test(b)||K(b)}function Jt(b,p=[]){let m;switch(b){case"Browser":m=$((0,H.z$)());break;case"Worker":m=`${$((0,H.z$)())}-${b}`;break;default:m=b}const C=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${N.SDK_VERSION}/${C}`}function ee(){return(ee=(0,l.Z)(function*(b){return(yield Vt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Re(b,p){return bt.apply(this,arguments)}function bt(){return(bt=(0,l.Z)(function*(b,p){return Vt(b,"GET","/v2/recaptchaConfig",je(b,p))})).apply(this,arguments)}function Tt(b){return void 0!==b&&void 0!==b.getResponse}function nn(b){return void 0!==b&&void 0!==b.enterprise}class Et{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function an(b){return new Promise((p,m)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=p,C.onerror=P=>{const x=Pe("internal-error");x.customData=P,m(x)},C.type="text/javascript",C.charset="UTF-8",function vn(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(C)})}function br(b){return`__${b}${Math.floor(1e6*Math.random())}`}const $s="NO_RECAPTCHA";class ni{constructor(p){this.type="recaptcha-enterprise",this.auth=bn(p)}verify(p="verify",m=!1){var C=this;return(0,l.Z)(function*(){function x(){return x=(0,l.Z)(function*(de){if(!m){if(null==de.tenantId&&null!=de._agentRecaptchaConfig)return de._agentRecaptchaConfig.siteKey;if(null!=de.tenantId&&void 0!==de._tenantRecaptchaConfigs[de.tenantId])return de._tenantRecaptchaConfigs[de.tenantId].siteKey}return new Promise(function(){var Ke=(0,l.Z)(function*(lt,St){Re(de,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(un=>{if(void 0!==un.recaptchaKey){const So=new Et(un);return null==de.tenantId?de._agentRecaptchaConfig=So:de._tenantRecaptchaConfigs[de.tenantId]=So,lt(So.siteKey)}St(new Error("recaptcha Enterprise site key undefined"))}).catch(un=>{St(un)})});return function(lt,St){return Ke.apply(this,arguments)}}())}),x.apply(this,arguments)}function Q(de,Ke,lt){const St=window.grecaptcha;nn(St)?St.enterprise.ready(()=>{St.enterprise.execute(de,{action:p}).then(un=>{Ke(un)}).catch(()=>{Ke($s)})}):lt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((de,Ke)=>{(function P(de){return x.apply(this,arguments)})(C.auth).then(lt=>{if(!m&&nn(window.grecaptcha))Q(lt,de,Ke);else{if(typeof window>"u")return void Ke(new Error("RecaptchaVerifier is only supported in browser"));an("https://www.google.com/recaptcha/enterprise.js?render="+lt).then(()=>{Q(lt,de,Ke)}).catch(St=>{Ke(St)})}}).catch(lt=>{Ke(lt)})})})()}}function sr(b,p,m){return ct.apply(this,arguments)}function ct(){return(ct=(0,l.Z)(function*(b,p,m,C=!1){const P=new ni(b);let x;try{x=yield P.verify(m)}catch{x=yield P.verify(m,!0)}const Q=Object.assign({},p);return Object.assign(Q,C?{captchaResp:x}:{captchaResponse:x}),Object.assign(Q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Q})).apply(this,arguments)}class qt{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const C=x=>new Promise((Q,de)=>{try{Q(p(x))}catch(Ke){de(Ke)}});C.onAbort=m,this.queue.push(C);const P=this.queue.length-1;return()=>{this.queue[P]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,l.Z)(function*(){if(m.auth.currentUser===p)return;const C=[];try{for(const P of m.queue)yield P(p),P.onAbort&&C.push(P.onAbort)}catch(P){C.reverse();for(const x of C)try{x()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:P?.message})}})()}}class Un{constructor(p,m,C,P){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=C,this.config=P,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fo(this),this.idTokenSubscription=new Fo(this),this.beforeStateQueue=new qt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_t,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=P.sdkClientVersion}_initializeWithPersistence(p,m){var C=this;return m&&(this._popupRedirectResolver=Qn(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var P,x;if(!C._deleted&&(C.persistenceManager=yield z.create(C,p),!C._deleted)){if(null!==(P=C._popupRedirectResolver)&&void 0!==P&&P._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(m),C.lastNotifiedUid=(null===(x=C.currentUser)||void 0===x?void 0:x.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,l.Z)(function*(){var C;const P=yield m.assertedPersistence.getCurrentUser();let x=P,Q=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const de=null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId,Ke=x?._redirectEventId,lt=yield m.tryRedirectSignIn(p);(!de||de===Ke)&&lt?.user&&(x=lt.user,Q=!0)}if(!x)return m.directlySetCurrentUser(null);if(!x._redirectEventId){if(Q)try{yield m.beforeStateQueue.runMiddleware(x)}catch(de){x=P,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(de))}return x?m.reloadAndSetCurrentUserOrClear(x):m.directlySetCurrentUser(null)}return ae(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===x._redirectEventId?m.directlySetCurrentUser(x):m.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(p){var m=this;return(0,l.Z)(function*(){let C=null;try{C=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,l.Z)(function*(){try{yield Rn(p)}catch(C){if("auth/network-request-failed"!==C?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function me(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,l.Z)(function*(){const C=p?(0,H.m9)(p):null;return C&&ae(C.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(C&&C._clone(m))})()}_updateCurrentUser(p,m=!1){var C=this;return(0,l.Z)(function*(){if(!C._deleted)return p&&ae(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),m||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,l.Z)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(Qn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,l.Z)(function*(){const m=yield Re(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new Et(m);null==p.tenantId?p._agentRecaptchaConfig=C:p._tenantRecaptchaConfigs[p.tenantId]=C,C.emailPasswordEnabled&&new ni(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new H.LL("auth","Firebase",p())}onAuthStateChanged(p,m,C){return this.registerStateListener(this.authStateSubscription,p,m,C)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,C){return this.registerStateListener(this.idTokenSubscription,p,m,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var C=this;return(0,l.Z)(function*(){const P=yield C.getOrInitRedirectPersistenceManager(m);return null===p?P.removeCurrentUser():P.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const C=p&&Qn(p)||m._popupRedirectResolver;ae(C,m,"argument-error"),m.redirectPersistenceManager=yield z.create(m,[Qn(C._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,l.Z)(function*(){var C,P;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(C=m._currentUser)||void 0===C?void 0:C._redirectEventId)===p?m._currentUser:(null===(P=m.redirectUser)||void 0===P?void 0:P._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,l.Z)(function*(){if(p===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,C,P){if(this._deleted)return()=>{};const x="function"==typeof m?m:m.next.bind(m),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(Q,this,"internal-error"),Q.then(()=>x(this.currentUser)),"function"==typeof m?p.addObserver(m,C,P):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Jt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var m;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const P=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();P&&(C["X-Firebase-Client"]=P);const x=yield p._getAppCheckToken();return x&&(C["X-Firebase-AppCheck"]=x),C})()}_getAppCheckToken(){var p=this;return(0,l.Z)(function*(){var m;const C=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return C?.error&&function Be(b,...p){Ne.logLevel<=pe.in.WARN&&Ne.warn(`Auth (${N.SDK_VERSION}): ${b}`,...p)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function bn(b){return(0,H.m9)(b)}class Fo{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,H.ne)(m=>this.observer=m)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Gn(b,p,m){const C=bn(b);ae(C._canInitEmulator,C,"emulator-config-failed"),ae(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const P=!!m?.disableWarnings,x=zi(p),{host:Q,port:de}=function kr(b){const p=zi(b),m=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",P=/^(\[[^\]]+\])(:|$)/.exec(C);if(P){const x=P[1];return{host:x,port:Xt(C.substr(x.length+1))}}{const[x,Q]=C.split(":");return{host:x,port:Xt(Q)}}}(p);C.config.emulator={url:`${x}//${Q}${null===de?"":`:${de}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Q,port:de,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:P})}),P||function Ai(){function b(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function zi(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function Xt(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class V{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return st("not implemented")}_getIdTokenResponse(p){return st("not implemented")}_linkToIdToken(p,m){return st("not implemented")}_getReauthenticationResolver(p){return st("not implemented")}}function X(b,p){return ge.apply(this,arguments)}function ge(){return(ge=(0,l.Z)(function*(b,p){return Vt(b,"POST","/v1/accounts:resetPassword",je(b,p))})).apply(this,arguments)}function Xe(b,p){return hn.apply(this,arguments)}function hn(){return(hn=(0,l.Z)(function*(b,p){return Vt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function cn(){return(cn=(0,l.Z)(function*(b,p){return Vt(b,"POST","/v1/accounts:update",je(b,p))})).apply(this,arguments)}function Vn(b,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,l.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:signInWithPassword",je(b,p))})).apply(this,arguments)}function ln(b,p){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,l.Z)(function*(b,p){return Vt(b,"POST","/v1/accounts:sendOobCode",je(b,p))})).apply(this,arguments)}function js(){return(js=(0,l.Z)(function*(b,p){return ln(b,p)})).apply(this,arguments)}function us(b,p){return xi.apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(b,p){return ln(b,p)})).apply(this,arguments)}function mi(b,p){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,l.Z)(function*(b,p){return ln(b,p)})).apply(this,arguments)}function co(){return(co=(0,l.Z)(function*(b,p){return ln(b,p)})).apply(this,arguments)}function zs(){return(zs=(0,l.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:signInWithEmailLink",je(b,p))})).apply(this,arguments)}function Gi(){return(Gi=(0,l.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:signInWithEmailLink",je(b,p))})).apply(this,arguments)}class Fr extends V{constructor(p,m,C,P=null){super("password",C),this._email=p,this._password=m,this._tenantId=P}static _fromEmailAndPassword(p,m){return new Fr(p,m,"password")}static _fromEmailAndCode(p,m,C=null){return new Fr(p,m,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,l.Z)(function*(){var C;switch(m.signInMethod){case"password":const P={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=p._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const x=yield sr(p,P,"signInWithPassword");return Vn(p,x)}return Vn(p,P).catch(function(){var x=(0,l.Z)(function*(Q){if("auth/missing-recaptcha-token"===Q.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const de=yield sr(p,P,"signInWithPassword");return Vn(p,de)}return Promise.reject(Q)});return function(Q){return x.apply(this,arguments)}}());case"emailLink":return function Eo(b,p){return zs.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:De(p,"internal-error")}})()}_linkToIdToken(p,m){var C=this;return(0,l.Z)(function*(){switch(C.signInMethod){case"password":return Xe(p,{idToken:m,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function qi(b,p){return Gi.apply(this,arguments)}(p,{idToken:m,email:C._email,oobCode:C._password});default:De(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function _i(b,p){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,l.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:signInWithIdp",je(b,p))})).apply(this,arguments)}class ri extends V{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new ri(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):De("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:P}=m,x=(0,te._T)(m,["providerId","signInMethod"]);if(!C||!P)return null;const Q=new ri(C,P);return Q.idToken=x.idToken||void 0,Q.accessToken=x.accessToken||void 0,Q.secret=x.secret,Q.nonce=x.nonce,Q.pendingToken=x.pendingToken||null,Q}_getIdTokenResponse(p){return _i(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,_i(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,_i(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,H.xO)(m)}return p}}function Uc(){return(Uc=(0,l.Z)(function*(b,p){return Vt(b,"POST","/v1/accounts:sendVerificationCode",je(b,p))})).apply(this,arguments)}function eu(){return(eu=(0,l.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:signInWithPhoneNumber",je(b,p))})).apply(this,arguments)}function tu(){return(tu=(0,l.Z)(function*(b,p){const m=yield Ut(b,"POST","/v1/accounts:signInWithPhoneNumber",je(b,p));if(m.temporaryProof)throw Hn(b,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Vc={USER_NOT_FOUND:"user-not-found"};function id(){return(id=(0,l.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:signInWithPhoneNumber",je(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Vc)})).apply(this,arguments)}class Wi extends V{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Wi({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Wi({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Xl(b,p){return eu.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function pp(b,p){return tu.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Aa(b,p){return id.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:C,verificationCode:P}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:C,code:P}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:C,phoneNumber:P,temporaryProof:x}=p;return C||m||P||x?new Wi({verificationId:m,verificationCode:C,phoneNumber:P,temporaryProof:x}):null}}class qs{constructor(p){var m,C,P,x,Q,de;const Ke=(0,H.zd)((0,H.pd)(p)),lt=null!==(m=Ke.apiKey)&&void 0!==m?m:null,St=null!==(C=Ke.oobCode)&&void 0!==C?C:null,un=function nu(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(P=Ke.mode)&&void 0!==P?P:null);ae(lt&&St&&un,"argument-error"),this.apiKey=lt,this.operation=un,this.code=St,this.continueUrl=null!==(x=Ke.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(Q=Ke.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(de=Ke.tenantId)&&void 0!==de?de:null}static parseLink(p){const m=function gp(b){const p=(0,H.zd)((0,H.pd)(b)).link,m=p?(0,H.zd)((0,H.pd)(p)).deep_link_id:null,C=(0,H.zd)((0,H.pd)(b)).deep_link_id;return(C?(0,H.zd)((0,H.pd)(C)).link:null)||C||m||p||b}(p);try{return new qs(m)}catch{return null}}}let sd=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(m,C){return Fr._fromEmailAndPassword(m,C)}static credentialWithLink(m,C){const P=qs.parseLink(C);return ae(P,"argument-error"),Fr._fromEmailAndCode(m,P.code,P.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class fs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ds extends fs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class oi extends ds{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return ae("providerId"in m&&"signInMethod"in m,"argument-error"),ri._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ae(p.idToken||p.accessToken,"argument-error"),ri._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return oi.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return oi.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:C,oauthTokenSecret:P,pendingToken:x,nonce:Q,providerId:de}=p;if(!C&&!P&&!m&&!x||!de)return null;try{return new oi(de)._credential({idToken:m,accessToken:C,nonce:Q,pendingToken:x})}catch{return null}}}let mp=(()=>{class b extends ds{constructor(){super("facebook.com")}static credential(m){return ri._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return b.credential(m.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),ru=(()=>{class b extends ds{constructor(){super("google.com"),this.addScope("profile")}static credential(m,C){return ri._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:C})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:C,oauthAccessToken:P}=m;if(!C&&!P)return null;try{return b.credential(C,P)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),ou=(()=>{class b extends ds{constructor(){super("github.com")}static credential(m){return ri._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return b.credential(m.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class hs extends V{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return _i(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,_i(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,_i(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:P,pendingToken:x}=m;return C&&P&&x&&C===P?new hs(C,x):null}static _create(p,m){return new hs(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Gs extends fs{constructor(p){ae(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Gs.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Gs.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=hs.fromJSON(p);return ae(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:C}=p;if(!m||!C)return null;try{return hs._create(C,m)}catch{return null}}}let su=(()=>{class b extends ds{constructor(){super("twitter.com")}static credential(m,C){return ri._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:C})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:C,oauthTokenSecret:P}=m;if(!C||!P)return null;try{return b.credential(C,P)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Zi(b,p){return ps.apply(this,arguments)}function ps(){return(ps=(0,l.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:signUp",je(b,p))})).apply(this,arguments)}class ar{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,C,P=!1){return(0,l.Z)(function*(){const x=yield Dn._fromIdTokenResponse(p,C,P),Q=Ws(C);return new ar({user:x,providerId:Q,_tokenResponse:C,operationType:m})})()}static _forOperation(p,m,C){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const P=Ws(C);return new ar({user:p,providerId:P,_tokenResponse:C,operationType:m})})()}}function Ws(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function xa(b){return hr.apply(this,arguments)}function hr(){return(hr=(0,l.Z)(function*(b){var p;const m=bn(b);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new ar({user:m.currentUser,providerId:null,operationType:"signIn"});const C=yield Zi(m,{returnSecureToken:!0}),P=yield ar._fromIdTokenResponse(m,"signIn",C,!0);return yield m._updateCurrentUser(P.user),P})).apply(this,arguments)}class yi extends H.ZR{constructor(p,m,C,P){var x;super(m.code,m.message),this.operationType=C,this.user=P,Object.setPrototypeOf(this,yi.prototype),this.customData={appName:p.name,tenantId:null!==(x=p.tenantId)&&void 0!==x?x:void 0,_serverResponse:m.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,m,C,P){return new yi(p,m,C,P)}}function Ki(b,p,m,C){return("reauthenticate"===p?m._getReauthenticationResolver(b):m._getIdTokenResponse(b)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?yi._fromErrorAndOperation(b,x,p,C):x})}function Tr(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function Hc(b,p){return $c.apply(this,arguments)}function $c(){return $c=(0,l.Z)(function*(b,p){const m=(0,H.m9)(b);yield ka(!0,m,p);const{providerUserInfo:C}=yield function ao(b,p){return fr.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),P=Tr(C||[]);return m.providerData=m.providerData.filter(x=>P.has(x.providerId)),P.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),$c.apply(this,arguments)}function gs(b,p){return lo.apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(b,p,m=!1){const C=yield dn(b,p._linkToIdToken(b.auth,yield b.getIdToken()),m);return ar._forOperation(b,"link",C)})).apply(this,arguments)}function ka(b,p,m){return ms.apply(this,arguments)}function ms(){return(ms=(0,l.Z)(function*(b,p,m){yield Rn(p);const P=!1===b?"provider-already-linked":"no-such-provider";ae(Tr(p.providerData).has(m)===b,p.auth,P)})).apply(this,arguments)}function Yi(b,p){return ii.apply(this,arguments)}function ii(){return(ii=(0,l.Z)(function*(b,p,m=!1){const{auth:C}=b,P="reauthenticate";try{const x=yield dn(b,Ki(C,P,p,b),m);ae(x.idToken,C,"internal-error");const Q=Kn(x.idToken);ae(Q,C,"internal-error");const{sub:de}=Q;return ae(b.uid===de,C,"user-mismatch"),ar._forOperation(b,P,x)}catch(x){throw"auth/user-not-found"===x?.code&&De(C,"user-mismatch"),x}})).apply(this,arguments)}function jc(b,p){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,l.Z)(function*(b,p,m=!1){const C="signIn",P=yield Ki(b,C,p),x=yield ar._fromIdTokenResponse(b,C,P);return m||(yield b._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Lt(b,p){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,l.Z)(function*(b,p){return jc(bn(b),p)})).apply(this,arguments)}function _s(b,p){return zc.apply(this,arguments)}function zc(){return(zc=(0,l.Z)(function*(b,p){const m=(0,H.m9)(b);return yield ka(!1,m,p.providerId),gs(m,p)})).apply(this,arguments)}function cd(b,p){return Na.apply(this,arguments)}function Na(){return(Na=(0,l.Z)(function*(b,p){return Yi((0,H.m9)(b),p)})).apply(this,arguments)}function cu(){return(cu=(0,l.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:signInWithCustomToken",je(b,p))})).apply(this,arguments)}function ld(b,p){return I.apply(this,arguments)}function I(){return I=(0,l.Z)(function*(b,p){const m=bn(b),C=yield function au(b,p){return cu.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),P=yield ar._fromIdTokenResponse(m,"signIn",C);return yield m._updateCurrentUser(P.user),P}),I.apply(this,arguments)}class O{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?j._fromServerResponse(p,m):"totpInfo"in m?ce._fromServerResponse(p,m):De(p,"internal-error")}}class j extends O{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new j(m)}}class ce extends O{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new ce(m)}}function Ee(b,p,m){var C;ae((null===(C=m.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),ae(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ae(m.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(ae(m.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function We(b,p,m){return ht.apply(this,arguments)}function ht(){return ht=(0,l.Z)(function*(b,p,m){var C;const P=bn(b),x={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=P._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const Q=yield sr(P,x,"getOobCode",!0);m&&Ee(P,Q,m),yield us(P,Q)}else m&&Ee(P,x,m),yield us(P,x).catch(function(){var Q=(0,l.Z)(function*(de){if("auth/missing-recaptcha-token"!==de.code)return Promise.reject(de);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ke=yield sr(P,x,"getOobCode",!0);m&&Ee(P,Ke,m),yield us(P,Ke)}});return function(de){return Q.apply(this,arguments)}}())}),ht.apply(this,arguments)}function gn(b,p,m){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,l.Z)(function*(b,p,m){yield X((0,H.m9)(b),{oobCode:p,newPassword:m})})).apply(this,arguments)}function $n(b,p){return Fn.apply(this,arguments)}function Fn(){return Fn=(0,l.Z)(function*(b,p){yield function Qt(b,p){return cn.apply(this,arguments)}((0,H.m9)(b),{oobCode:p})}),Fn.apply(this,arguments)}function mn(b,p){return si.apply(this,arguments)}function si(){return(si=(0,l.Z)(function*(b,p){const m=(0,H.m9)(b),C=yield X(m,{oobCode:p}),P=C.requestType;switch(ae(P,m,"internal-error"),P){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(C.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(C.mfaInfo,m,"internal-error");default:ae(C.email,m,"internal-error")}let x=null;return C.mfaInfo&&(x=O._fromServerResponse(bn(m),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:x},operation:P}})).apply(this,arguments)}function cr(b,p){return eo.apply(this,arguments)}function eo(){return(eo=(0,l.Z)(function*(b,p){const{data:m}=yield mn((0,H.m9)(b),p);return m.email})).apply(this,arguments)}function ki(b,p,m){return qo.apply(this,arguments)}function qo(){return qo=(0,l.Z)(function*(b,p,m){var C;const P=bn(b),x={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let Q;if(null!==(C=P._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const lt=yield sr(P,x,"signUpPassword");Q=Zi(P,lt)}else Q=Zi(P,x).catch(function(){var lt=(0,l.Z)(function*(St){if("auth/missing-recaptcha-token"===St.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const un=yield sr(P,x,"signUpPassword");return Zi(P,un)}return Promise.reject(St)});return function(St){return lt.apply(this,arguments)}}());const de=yield Q.catch(lt=>Promise.reject(lt)),Ke=yield ar._fromIdTokenResponse(P,"signIn",de);return yield P._updateCurrentUser(Ke.user),Ke}),qo.apply(this,arguments)}function Lr(b,p,m){return Lt((0,H.m9)(b),sd.credential(p,m))}function bi(b,p,m){return ys.apply(this,arguments)}function ys(){return ys=(0,l.Z)(function*(b,p,m){var C;const P=bn(b),x={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function Q(de,Ke){ae(Ke.handleCodeInApp,P,"argument-error"),Ke&&Ee(P,de,Ke)}if(null!==(C=P._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const de=yield sr(P,x,"getOobCode",!0);Q(de,m),yield mi(P,de)}else Q(x,m),yield mi(P,x).catch(function(){var de=(0,l.Z)(function*(Ke){if("auth/missing-recaptcha-token"!==Ke.code)return Promise.reject(Ke);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const lt=yield sr(P,x,"getOobCode",!0);Q(lt,m),yield mi(P,lt)}});return function(Ke){return de.apply(this,arguments)}}())}),ys.apply(this,arguments)}function wC(b,p){return"EMAIL_SIGNIN"===qs.parseLink(p)?.operation}function EC(b,p,m){return qc.apply(this,arguments)}function qc(){return(qc=(0,l.Z)(function*(b,p,m){const C=(0,H.m9)(b),P=sd.credentialWithLink(p,m||gt());return ae(P._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Lt(C,P)})).apply(this,arguments)}function ud(){return(ud=(0,l.Z)(function*(b,p){return Vt(b,"POST","/v1/accounts:createAuthUri",je(b,p))})).apply(this,arguments)}function _p(b,p){return yp.apply(this,arguments)}function yp(){return yp=(0,l.Z)(function*(b,p){const C={identifier:p,continueUri:en()?gt():"http://localhost"},{signinMethods:P}=yield function lu(b,p){return ud.apply(this,arguments)}((0,H.m9)(b),C);return P||[]}),yp.apply(this,arguments)}function u_(b,p){return uu.apply(this,arguments)}function uu(){return uu=(0,l.Z)(function*(b,p){const m=(0,H.m9)(b),P={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&Ee(m.auth,P,p);const{email:x}=yield function Lc(b,p){return js.apply(this,arguments)}(m.auth,P);x!==b.email&&(yield b.reload())}),uu.apply(this,arguments)}function f_(b,p,m){return fd.apply(this,arguments)}function fd(){return fd=(0,l.Z)(function*(b,p,m){const C=(0,H.m9)(b),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};m&&Ee(C.auth,x,m);const{email:Q}=yield function Ql(b,p){return co.apply(this,arguments)}(C.auth,x);Q!==b.email&&(yield b.reload())}),fd.apply(this,arguments)}function dd(){return(dd=(0,l.Z)(function*(b,p){return Vt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function bp(b,p){return hd.apply(this,arguments)}function hd(){return hd=(0,l.Z)(function*(b,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const C=(0,H.m9)(b),x={idToken:yield C.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Q=yield dn(C,function d_(b,p){return dd.apply(this,arguments)}(C.auth,x));C.displayName=Q.displayName||null,C.photoURL=Q.photoUrl||null;const de=C.providerData.find(({providerId:Ke})=>"password"===Ke);de&&(de.displayName=C.displayName,de.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Q)}),hd.apply(this,arguments)}function MC(b,p){return bs((0,H.m9)(b),p,null)}function Mo(b,p){return bs((0,H.m9)(b),null,p)}function bs(b,p,m){return lr.apply(this,arguments)}function lr(){return(lr=(0,l.Z)(function*(b,p,m){const{auth:C}=b,x={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(x.email=p),m&&(x.password=m);const Q=yield dn(b,Xe(C,x));yield b._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class Gc{constructor(p,m,C={}){this.isNewUser=p,this.providerId=m,this.profile=C}}class vp extends Gc{constructor(p,m,C,P){super(p,m,C),this.username=P}}class IC extends Gc{constructor(p,m){super(p,"facebook.com",m)}}class TC extends vp{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class PC extends Gc{constructor(p,m){super(p,"google.com",m)}}class pd extends vp{constructor(p,m,C){super(p,"twitter.com",m,C)}}function gd(b){const{user:p,_tokenResponse:m}=b;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function h_(b){var p,m;if(!b)return null;const{providerId:C}=b,P=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},x=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&b?.idToken){const Q=null===(m=null===(p=Kn(b.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Q)return new Gc(x,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!C)return null;switch(C){case"facebook.com":return new IC(x,P);case"github.com":return new TC(x,P);case"google.com":return new PC(x,P);case"twitter.com":return new pd(x,P,b.screenName||null);case"custom":case"anonymous":return new Gc(x,null);default:return new Gc(x,C,P)}}(m)}class Ys{constructor(p,m,C){this.type=p,this.credential=m,this.auth=C}static _fromIdtoken(p,m){return new Ys("enroll",p,m)}static _fromMfaPendingCredential(p){return new Ys("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,C;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Ys._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return Ys._fromIdtoken(p.multiFactorSession.idToken)}return null}}class md{constructor(p,m,C){this.session=p,this.hints=m,this.signInResolver=C}static _fromError(p,m){const C=bn(p),P=m.customData._serverResponse,x=(P.mfaInfo||[]).map(de=>O._fromServerResponse(C,de));ae(P.mfaPendingCredential,C,"internal-error");const Q=Ys._fromMfaPendingCredential(P.mfaPendingCredential);return new md(Q,x,function(){var de=(0,l.Z)(function*(Ke){const lt=yield Ke._process(C,Q);delete P.mfaInfo,delete P.mfaPendingCredential;const St=Object.assign(Object.assign({},P),{idToken:lt.idToken,refreshToken:lt.refreshToken});switch(m.operationType){case"signIn":const un=yield ar._fromIdTokenResponse(C,m.operationType,St);return yield C._updateCurrentUser(un.user),un;case"reauthenticate":return ae(m.user,C,"internal-error"),ar._forOperation(m.user,m.operationType,St);default:De(C,"internal-error")}});return function(Ke){return de.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,l.Z)(function*(){return m.signInResolver(p)})()}}function _d(b,p){var m;const C=(0,H.m9)(b),P=p;return ae(p.customData.operationType,C,"argument-error"),ae(null===(m=P.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,C,"argument-error"),md._fromError(C,P)}class La{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(C=>O._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new La(p)}getSession(){var p=this;return(0,l.Z)(function*(){return Ys._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var C=this;return(0,l.Z)(function*(){const P=p,x=yield C.getSession(),Q=yield dn(C.user,P._process(C.user.auth,x,m));return yield C.user._updateTokensIfNecessary(Q),C.user.reload()})()}unenroll(p){var m=this;return(0,l.Z)(function*(){const C="string"==typeof p?p:p.uid,P=yield m.user.getIdToken();try{const x=yield dn(m.user,function Qs(b,p){return Vt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",je(b,p))}(m.user.auth,{idToken:P,mfaEnrollmentId:C}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Q})=>Q!==C),yield m.user._updateTokensIfNecessary(x),yield m.user.reload()}catch(x){throw x}})()}}const Kc=new WeakMap;function Yc(b){const p=(0,H.m9)(b);return Kc.has(p)||Kc.set(p,La._fromUser(p)),Kc.get(p)}const hu="__sak";class Qc{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(hu,"1"),this.storage.removeItem(hu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const pu=(()=>{class b extends Qc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,C)=>this.onStorageEvent(m,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function bd(){const b=(0,H.z$)();return R(b)||fe(b)}()&&function Ht(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=et(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const C of Object.keys(this.listeners)){const P=this.storage.getItem(C),x=this.localCache[C];P!==x&&m(C,x,P)}}onStorageEvent(m,C=!1){if(!m.key)return void this.forAllChangedKeys((de,Ke,lt)=>{this.notifyListeners(de,lt)});const P=m.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(P);if(m.newValue!==de)null!==m.newValue?this.storage.setItem(P,m.newValue):this.storage.removeItem(P);else if(this.localCache[P]===m.newValue&&!C)return}const x=()=>{const de=this.storage.getItem(P);!C&&this.localCache[P]===de||this.notifyListeners(P,de)},Q=this.storage.getItem(P);!function it(){return(0,H.w1)()&&10===document.documentMode}()||Q===m.newValue||m.newValue===m.oldValue?x():setTimeout(x,10)}notifyListeners(m,C){this.localCache[m]=C;const P=this.listeners[m];if(P)for(const x of Array.from(P))x(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,C,P)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:C,newValue:P}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,C){var P=()=>super._set,x=this;return(0,l.Z)(function*(){yield P().call(x,m,C),x.localCache[m]=JSON.stringify(C)})()}_get(m){var C=()=>super._get,P=this;return(0,l.Z)(function*(){const x=yield C().call(P,m);return P.localCache[m]=JSON.stringify(x),x})()}_remove(m){var C=()=>super._remove,P=this;return(0,l.Z)(function*(){yield C().call(P,m),delete P.localCache[m]})()}}return b.type="LOCAL",b})(),Io=(()=>{class b extends Qc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,C){}_removeListener(m,C){}}return b.type="SESSION",b})();let gu=(()=>{class b{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const C=this.receivers.find(x=>x.isListeningto(m));if(C)return C;const P=new b(m);return this.receivers.push(P),P}isListeningto(m){return this.eventTarget===m}handleEvent(m){var C=this;return(0,l.Z)(function*(){const P=m,{eventId:x,eventType:Q,data:de}=P.data,Ke=C.handlersMap[Q];if(!Ke?.size)return;P.ports[0].postMessage({status:"ack",eventId:x,eventType:Q});const lt=Array.from(Ke).map(function(){var un=(0,l.Z)(function*(So){return So(P.origin,de)});return function(So){return un.apply(this,arguments)}}()),St=yield function vd(b){return Promise.all(b.map(function(){var p=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(C){return{fulfilled:!1,reason:C}}});return function(m){return p.apply(this,arguments)}}()))}(lt);P.ports[0].postMessage({status:"done",eventId:x,eventType:Q,response:St})})()}_subscribe(m,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(C)}_unsubscribe(m,C){this.handlersMap[m]&&C&&this.handlersMap[m].delete(C),(!C||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function vs(b="",p=10){let m="";for(let C=0;C<p;C++)m+=Math.floor(10*Math.random());return b+m}class Cd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,C=50){var P=this;return(0,l.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let Q,de;return new Promise((Ke,lt)=>{const St=vs("",20);x.port1.start();const un=setTimeout(()=>{lt(new Error("unsupported_event"))},C);de={messageChannel:x,onMessage(So){const Fi=So;if(Fi.data.eventId===St)switch(Fi.data.status){case"ack":clearTimeout(un),Q=setTimeout(()=>{lt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),Ke(Fi.data.response);break;default:clearTimeout(un),clearTimeout(Q),lt(new Error("invalid_response"))}}},P.handlers.add(de),x.port1.addEventListener("message",de.onMessage),P.target.postMessage({eventType:p,eventId:St,data:m},[x.port2])}).finally(()=>{de&&P.removeMessageHandler(de)})})()}}function wr(){return window}function mu(){return typeof wr().WorkerGlobalScope<"u"&&"function"==typeof wr().importScripts}function el(){return(el=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Op="firebaseLocalStorageDb",Ua=1,Qi="firebaseLocalStorage",m_="fbase_key";class Js{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function _u(b,p){return b.transaction([Qi],p?"readwrite":"readonly").objectStore(Qi)}function wd(){const b=indexedDB.open(Op,Ua);return new Promise((p,m)=>{b.addEventListener("error",()=>{m(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(Qi,{keyPath:m_})}catch(P){m(P)}}),b.addEventListener("success",(0,l.Z)(function*(){const C=b.result;C.objectStoreNames.contains(Qi)?p(C):(C.close(),yield function Va(){const b=indexedDB.deleteDatabase(Op);return new Js(b).toPromise()}(),p(yield wd()))}))})}function Ed(b,p,m){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,l.Z)(function*(b,p,m){const C=_u(b,!0).put({[m_]:p,value:m});return new Js(C).toPromise()})).apply(this,arguments)}function tl(){return(tl=(0,l.Z)(function*(b,p){const m=_u(b,!1).get(p),C=yield new Js(m).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function nl(b,p){const m=_u(b,!0).delete(p);return new Js(m).toPromise()}const Md=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield wd()),m.db})()}_withRetries(m){var C=this;return(0,l.Z)(function*(){let P=0;for(;;)try{const x=yield C._openDb();return yield m(x)}catch(x){if(P++>3)throw x;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return mu()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=gu._getInstance(function Dp(){return mu()?self:null}()),m.receiver._subscribe("keyChanged",function(){var C=(0,l.Z)(function*(P,x){return{keyProcessed:(yield m._poll()).includes(x.key)}});return function(P,x){return C.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var C=(0,l.Z)(function*(P,x){return["keyChanged"]});return function(P,x){return C.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var C,P;if(m.activeServiceWorker=yield function Tp(){return el.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Cd(m.activeServiceWorker);const x=yield m.sender._send("ping",{},800);x&&null!==(C=x[0])&&void 0!==C&&C.fulfilled&&null!==(P=x[0])&&void 0!==P&&P.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var C=this;return(0,l.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Pp(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:m},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield wd();return yield Ed(m,hu,"1"),yield nl(m,hu),!0}catch{}return!1})()}_withPendingWrite(m){var C=this;return(0,l.Z)(function*(){C.pendingWrites++;try{yield m()}finally{C.pendingWrites--}})()}_set(m,C){var P=this;return(0,l.Z)(function*(){return P._withPendingWrite((0,l.Z)(function*(){return yield P._withRetries(x=>Ed(x,m,C)),P.localCache[m]=C,P.notifyServiceWorker(m)}))})()}_get(m){var C=this;return(0,l.Z)(function*(){const P=yield C._withRetries(x=>function __(b,p){return tl.apply(this,arguments)}(x,m));return C.localCache[m]=P,P})()}_remove(m){var C=this;return(0,l.Z)(function*(){return C._withPendingWrite((0,l.Z)(function*(){return yield C._withRetries(P=>nl(P,m)),delete C.localCache[m],C.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const C=yield m._withRetries(Q=>{const de=_u(Q,!1).getAll();return new Js(de).toPromise()});if(!C)return[];if(0!==m.pendingWrites)return[];const P=[],x=new Set;for(const{fbase_key:Q,value:de}of C)x.add(Q),JSON.stringify(m.localCache[Q])!==JSON.stringify(de)&&(m.notifyListeners(Q,de),P.push(Q));for(const Q of Object.keys(m.localCache))m.localCache[Q]&&!x.has(Q)&&(m.notifyListeners(Q,null),P.push(Q));return P})()}notifyListeners(m,C){this.localCache[m]=C;const P=this.listeners[m];if(P)for(const x of Array.from(P))x(C)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),Id=1e12;class AC{constructor(p){this.auth=p,this.counter=Id,this._widgets=new Map}render(p,m){const C=this.counter;return this._widgets.set(C,new xp(p,this.auth.name,m||{})),this.counter++,C}reset(p){var m;const C=p||Id;null===(m=this._widgets.get(C))||void 0===m||m.delete(),this._widgets.delete(C)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Id))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,l.Z)(function*(){var C;return null===(C=m._widgets.get(p||Id))||void 0===C||C.execute(),""})()}}class xp{constructor(p,m,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const P="string"==typeof p?document.getElementById(p):p;ae(P,"argument-error",{appName:m}),this.container=P,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function b_(b){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const v_=br("rcb"),wI=new Se(3e4,6e4);class rl{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=wr().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return ae(function MI(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&Tt(wr().grecaptcha)?Promise.resolve(wr().grecaptcha):new Promise((C,P)=>{const x=wr().setTimeout(()=>{P(Pe(p,"network-request-failed"))},wI.get());wr()[v_]=()=>{wr().clearTimeout(x),delete wr()[v_];const de=wr().grecaptcha;if(!de||!Tt(de))return void P(Pe(p,"internal-error"));const Ke=de.render;de.render=(lt,St)=>{const un=Ke(lt,St);return this.counter++,un},this.hostLanguage=m,C(de)},an(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:v_,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(x),P(Pe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=wr().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class II{load(p){return(0,l.Z)(function*(){return new AC(p)})()}clearedOneInstance(){}}const jr="recaptcha",kp={theme:"light",type:"image"};class bu{constructor(p,m=Object.assign({},kp),C){this.parameters=m,this.type=jr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bn(C),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const P="string"==typeof p?document.getElementById(p):p;ae(P,this.auth,"argument-error"),this.container=P,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new II:new rl,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(m)||new Promise(x=>{const Q=de=>{de&&(p.tokenChangeListeners.delete(Q),x(de))};p.tokenChangeListeners.add(Q),p.isInvisible&&C.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(C=>C(m)),"function"==typeof p)p(m);else if("string"==typeof p){const C=wr()[p];"function"==typeof C&&C(m)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const C=document.createElement("div");m.appendChild(C),m=C}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){ae(en()&&!mu(),p.auth,"internal-error"),yield function C_(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function ne(b){return ee.apply(this,arguments)}(p.auth);ae(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Go{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Wi._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function $a(b,p,m){return Td.apply(this,arguments)}function Td(){return(Td=(0,l.Z)(function*(b,p,m){const C=bn(b),P=yield Cu(C,p,(0,H.m9)(m));return new Go(P,x=>Lt(C,x))})).apply(this,arguments)}function Pd(b,p,m){return ja.apply(this,arguments)}function ja(){return(ja=(0,l.Z)(function*(b,p,m){const C=(0,H.m9)(b);yield ka(!1,C,"phone");const P=yield Cu(C.auth,p,(0,H.m9)(m));return new Go(P,x=>_s(C,x))})).apply(this,arguments)}function xC(b,p,m){return vu.apply(this,arguments)}function vu(){return(vu=(0,l.Z)(function*(b,p,m){const C=(0,H.m9)(b),P=yield Cu(C.auth,p,(0,H.m9)(m));return new Go(P,x=>cd(C,x))})).apply(this,arguments)}function Cu(b,p,m){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,l.Z)(function*(b,p,m){var C;const P=yield m.verify();try{let x;if(ae("string"==typeof P,b,"argument-error"),ae(m.type===jr,b,"argument-error"),x="string"==typeof p?{phoneNumber:p}:p,"session"in x){const Q=x.session;if("phoneNumber"in x)return ae("enroll"===Q.type,b,"internal-error"),(yield function yd(b,p){return Vt(b,"POST","/v2/accounts/mfaEnrollment:start",je(b,p))}(b,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:P}})).phoneSessionInfo.sessionInfo;{ae("signin"===Q.type,b,"internal-error");const de=(null===(C=x.multiFactorHint)||void 0===C?void 0:C.uid)||x.multiFactorUid;return ae(de,b,"missing-multi-factor-info"),(yield function Sp(b,p){return Vt(b,"POST","/v2/accounts/mfaSignIn:start",je(b,p))}(b,{mfaPendingCredential:Q.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:P}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield function Jl(b,p){return Uc.apply(this,arguments)}(b,{phoneNumber:x.phoneNumber,recaptchaToken:P});return Q}}finally{m._reset()}}),Dd.apply(this,arguments)}function ai(b,p){return In.apply(this,arguments)}function In(){return(In=(0,l.Z)(function*(b,p){yield gs((0,H.m9)(b),p)})).apply(this,arguments)}let _o=(()=>{class b{constructor(m){this.providerId=b.PROVIDER_ID,this.auth=bn(m)}verifyPhoneNumber(m,C){return Cu(this.auth,m,(0,H.m9)(C))}static credential(m,C){return Wi._fromVerification(m,C)}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:C,temporaryProof:P}=m;return C&&P?Wi._fromTokenResponse(C,P):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function za(b,p){return p?Qn(p):(ae(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class wu extends V{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return _i(p,this._buildIdpRequest())}_linkToIdToken(p,m){return _i(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return _i(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function w_(b){return jc(b.auth,new wu(b),b.bypassAuthState)}function E_(b){const{auth:p,user:m}=b;return ae(m,p,"internal-error"),Yi(m,new wu(b),b.bypassAuthState)}function Rp(b){return Od.apply(this,arguments)}function Od(){return(Od=(0,l.Z)(function*(b){const{auth:p,user:m}=b;return ae(m,p,"internal-error"),gs(m,new wu(b),b.bypassAuthState)})).apply(this,arguments)}class ol{constructor(p,m,C,P,x=!1){this.auth=p,this.resolver=C,this.user=P,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,l.Z)(function*(C,P){p.pendingPromise={resolve:C,reject:P};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(x){p.reject(x)}});return function(C,P){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,l.Z)(function*(){const{urlResponse:C,sessionId:P,postBody:x,tenantId:Q,error:de,type:Ke}=p;if(de)return void m.reject(de);const lt={auth:m.auth,requestUri:C,sessionId:P,tenantId:Q||void 0,postBody:x||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ke)(lt))}catch(St){m.reject(St)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return w_;case"linkViaPopup":case"linkViaRedirect":return Rp;case"reauthViaPopup":case"reauthViaRedirect":return E_;default:De(this.auth,"internal-error")}}resolve(p){Nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qa=new Se(2e3,1e4);function zr(b,p,m){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,l.Z)(function*(b,p,m){const C=bn(b);Je(b,p,fs);const P=za(C,m);return new xd(C,"signInViaPopup",p,P).executeNotNull()})).apply(this,arguments)}function Sd(b,p,m){return ta.apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(b,p,m){const C=(0,H.m9)(b);Je(C.auth,p,fs);const P=za(C.auth,m);return new xd(C.auth,"reauthViaPopup",p,P,C).executeNotNull()})).apply(this,arguments)}function Ad(b,p,m){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,l.Z)(function*(b,p,m){const C=(0,H.m9)(b);Je(C.auth,p,fs);const P=za(C.auth,m);return new xd(C.auth,"linkViaPopup",p,P,C).executeNotNull()})).apply(this,arguments)}let xd=(()=>{class b extends ol{constructor(m,C,P,x,Q){super(m,C,x,Q),this.provider=P,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const C=yield m.execute();return ae(C,m.auth,"internal-error"),C})()}onExecution(){var m=this;return(0,l.Z)(function*(){Nt(1===m.filter.length,"Popup operations only handle one event");const C=vs();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],C),m.authWindow.associatedEvent=C,m.resolver._originValidation(m.auth).catch(P=>{m.reject(P)}),m.resolver._isIframeWebStorageSupported(m.auth,P=>{P||m.reject(Pe(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const m=()=>{var C,P;this.pollId=null!==(P=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==P&&P.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Pe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,qa.get())};m()}}return b.currentPopupAction=null,b})();const kd="pendingRedirect",To=new Map;class Po extends ol{constructor(p,m,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,l.Z)(function*(){let C=To.get(m.auth._key());if(!C){try{const x=(yield function Np(b,p){return Eu.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;C=()=>Promise.resolve(x)}catch(P){C=()=>Promise.reject(P)}To.set(m.auth._key(),C)}return m.bypassAuthState||To.set(m.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,C=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(C,p);if("unknown"!==p.type){if(p.eventId){const P=yield C.auth._redirectUserForId(p.eventId);if(P)return C.user=P,m().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Eu(){return(Eu=(0,l.Z)(function*(b,p){const m=Ri(p),C=M_(b);if(!(yield C._isAvailable()))return!1;const P="true"===(yield C._get(m));return yield C._remove(m),P})).apply(this,arguments)}function Rd(b,p){return ws.apply(this,arguments)}function ws(){return(ws=(0,l.Z)(function*(b,p){return M_(b)._set(Ri(p),"true")})).apply(this,arguments)}function il(){To.clear()}function Es(b,p){To.set(b._key(),p)}function M_(b){return Qn(b._redirectPersistence)}function Ri(b){return Jr(kd,b.config.apiKey,b.name)}function Fp(b,p,m){return function Do(b,p,m){return Ni.apply(this,arguments)}(b,p,m)}function Ni(){return(Ni=(0,l.Z)(function*(b,p,m){const C=bn(b);Je(b,p,fs),yield C._initializationPromise;const P=za(C,m);return yield Rd(P,C),P._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function I_(b,p,m){return function Ms(b,p,m){return na.apply(this,arguments)}(b,p,m)}function na(){return(na=(0,l.Z)(function*(b,p,m){const C=(0,H.m9)(b);Je(C.auth,p,fs),yield C.auth._initializationPromise;const P=za(C.auth,m);yield Rd(P,C.auth);const x=yield cl(C);return P._openRedirect(C.auth,p,"reauthViaRedirect",x)})).apply(this,arguments)}function Nd(b,p,m){return function Lp(b,p,m){return sl.apply(this,arguments)}(b,p,m)}function sl(){return(sl=(0,l.Z)(function*(b,p,m){const C=(0,H.m9)(b);Je(C.auth,p,fs),yield C.auth._initializationPromise;const P=za(C.auth,m);yield ka(!1,C,p.providerId),yield Rd(P,C.auth);const x=yield cl(C);return P._openRedirect(C.auth,p,"linkViaRedirect",x)})).apply(this,arguments)}function T_(b,p){return al.apply(this,arguments)}function al(){return(al=(0,l.Z)(function*(b,p){return yield bn(b)._initializationPromise,Fd(b,p,!1)})).apply(this,arguments)}function Fd(b,p){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,l.Z)(function*(b,p,m=!1){const C=bn(b),P=za(C,p),Q=yield new Po(C,P,m).execute();return Q&&!m&&(delete Q.user._redirectEventId,yield C._persistUserIfCurrent(Q.user),yield C._setRedirectUser(null,p)),Q})).apply(this,arguments)}function cl(b){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,l.Z)(function*(b){const p=vs(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class Up{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(m=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function O_(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D_(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var C;if(p.error&&!D_(p)){const P=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";m.onError(Pe(this.auth,P))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const C=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ll(p))}saveEventToCache(p){this.cachedEventUids.add(ll(p)),this.lastProcessedEventTime=Date.now()}}function ll(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function D_({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===p?.code}function Vp(b){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,l.Z)(function*(b,p={}){return Vt(b,"GET","/v1/projects",p)})).apply(this,arguments)}const S_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ld=/^https?/;function Wa(){return(Wa=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield Vp(b);for(const m of p)try{if(Vd(m))return}catch{}De(b,"unauthorized-domain")})).apply(this,arguments)}function Vd(b){const p=gt(),{protocol:m,hostname:C}=new URL(p);if(b.startsWith("chrome-extension://")){const Q=new URL(b);return""===Q.hostname&&""===C?"chrome-extension:"===m&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Q.hostname===C}if(!Ld.test(m))return!1;if(S_.test(b))return C===b;const P=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+P+"|"+P+")$","i").test(C)}const Tu=new Se(3e4,6e4);function Za(){const b=wr().___jsl;if(b?.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let m=0;m<b.CP.length;m++)b.CP[m]=null}let ul=null;const Oo=new Se(5e3,15e3),Ji="__/auth/iframe",Pu="emulator/auth/iframe",kC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ka(b){const p=b.config;ae(p.authDomain,b,"auth-domain-config-required");const m=p.emulator?Le(p,Pu):`https://${b.config.authDomain}/${Ji}`,C={apiKey:p.apiKey,appName:b.name,v:N.SDK_VERSION},P=RC.get(b.config.apiHost);P&&(C.eid=P);const x=b._getFrameworks();return x.length&&(C.fw=x.join(",")),`${m}?${(0,H.xO)(C).slice(1)}`}function fl(){return fl=(0,l.Z)(function*(b){const p=yield function Bp(b){return ul=ul||function vi(b){return new Promise((p,m)=>{var C,P,x;function Q(){Za(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Za(),m(Pe(b,"network-request-failed"))},timeout:Tu.get()})}if(null!==(P=null===(C=wr().gapi)||void 0===C?void 0:C.iframes)&&void 0!==P&&P.Iframe)p(gapi.iframes.getContext());else{if(null===(x=wr().gapi)||void 0===x||!x.load){const de=br("iframefcb");return wr()[de]=()=>{gapi.load?Q():m(Pe(b,"network-request-failed"))},an(`https://apis.google.com/js/api.js?onload=${de}`).catch(Ke=>m(Ke))}Q()}}).catch(p=>{throw ul=null,p})}(b),ul}(b),m=wr().gapi;return ae(m,b,"internal-error"),p.open({where:document.body,url:Ka(b),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kC,dontclear:!0},C=>new Promise(function(){var P=(0,l.Z)(function*(x,Q){yield C.restyle({setHideOnLeave:!1});const de=Pe(b,"network-request-failed"),Ke=wr().setTimeout(()=>{Q(de)},Oo.get());function lt(){wr().clearTimeout(Ke),x(C)}C.ping(lt).then(lt,()=>{Q(de)})});return function(x,Q){return P.apply(this,arguments)}}()))}),fl.apply(this,arguments)}const Du={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lo=500,dl=600,Hp="_blank",$p="http://localhost";class yo{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const x_="__/auth/handler",NC="emulator/auth/handler",k_=encodeURIComponent("fac");function Bd(b,p,m,C,P,x){return hl.apply(this,arguments)}function hl(){return(hl=(0,l.Z)(function*(b,p,m,C,P,x){ae(b.config.authDomain,b,"auth-domain-config-required"),ae(b.config.apiKey,b,"invalid-api-key");const Q={apiKey:b.config.apiKey,appName:b.name,authType:m,redirectUrl:C,v:N.SDK_VERSION,eventId:P};if(p instanceof fs){p.setDefaultLanguage(b.languageCode),Q.providerId=p.providerId||"",(0,H.xb)(p.getCustomParameters())||(Q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[St,un]of Object.entries(x||{}))Q[St]=un}if(p instanceof ds){const St=p.getScopes().filter(un=>""!==un);St.length>0&&(Q.scopes=St.join(","))}b.tenantId&&(Q.tid=b.tenantId);const de=Q;for(const St of Object.keys(de))void 0===de[St]&&delete de[St];const Ke=yield b._getAppCheckToken(),lt=Ke?`#${k_}=${encodeURIComponent(Ke)}`:"";return`${function R_({config:b}){return b.emulator?Le(b,NC):`https://${b.authDomain}/${x_}`}(b)}?${(0,H.xO)(de).slice(1)}${lt}`})).apply(this,arguments)}const Su="webStorageSupport",Au=class N_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Io,this._completeRedirectFn=Fd,this._overrideRedirectResult=Es}_openPopup(p,m,C,P){var x=this;return(0,l.Z)(function*(){var Q;Nt(null===(Q=x.eventManagers[p._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const de=yield Bd(p,m,C,gt(),P);return function Ou(b,p,m,C=Lo,P=dl){const x=Math.max((window.screen.availHeight-P)/2,0).toString(),Q=Math.max((window.screen.availWidth-C)/2,0).toString();let de="";const Ke=Object.assign(Object.assign({},Du),{width:C.toString(),height:P.toString(),top:x,left:Q}),lt=(0,H.z$)().toLowerCase();m&&(de=S(lt)?Hp:m),k(lt)&&(p=p||$p,Ke.scrollbars="yes");const St=Object.entries(Ke).reduce((So,[Fi,Ru])=>`${So}${Fi}=${Ru},`,"");if(function Oe(b=(0,H.z$)()){var p;return fe(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(lt)&&"_self"!==de)return function A_(b,p){const m=document.createElement("a");m.href=b,m.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}(p||"",de),new yo(null);const un=window.open(p||"",de,St);ae(un,b,"popup-blocked");try{un.focus()}catch{}return new yo(un)}(p,de,vs())})()}_openRedirect(p,m,C,P){var x=this;return(0,l.Z)(function*(){return yield x._originValidation(p),function Xc(b){wr().location.href=b}(yield Bd(p,m,C,gt(),P)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:P,promise:x}=this.eventManagers[m];return P?Promise.resolve(P):(Nt(x,"If manager is not set, promise should be"),x)}const C=this.initAndGetManager(p);return this.eventManagers[m]={promise:C},C.catch(()=>{delete this.eventManagers[m]}),C}initAndGetManager(p){var m=this;return(0,l.Z)(function*(){const C=yield function Ya(b){return fl.apply(this,arguments)}(p),P=new Up(p);return C.register("authEvent",x=>(ae(x?.authEvent,p,"invalid-auth-event"),{status:P.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:P},m.iframes[p._key()]=C,P})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Su,{type:Su},P=>{var x;const Q=null===(x=P?.[0])||void 0===x?void 0:x[Su];void 0!==Q&&m(!!Q),De(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ud(b){return Wa.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return et()||R()||fe()}};class ra{constructor(p){this.factorId=p}_process(p,m,C){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,C);case"signin":return this._finalizeSignIn(p,m.credential);default:return st("unexpected MultiFactorSessionType")}}}class Is extends ra{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Is(p)}_finalizeEnroll(p,m,C){return function du(b,p){return Vt(b,"POST","/v2/accounts/mfaEnrollment:finalize",je(b,p))}(p,{idToken:m,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Ha(b,p){return Vt(b,"POST","/v2/accounts/mfaSignIn:finalize",je(b,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Qa=(()=>{class b{constructor(){}static assertion(m){return Is._fromCredential(m)}}return b.FACTOR_ID="phone",b})();var xu="@firebase/auth";class oa{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(C=>{p(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,H.Pz)("authIdTokenMaxAge"),function gl(b){(0,N._registerComponent)(new se.wA("auth",(p,{options:m})=>{const C=p.getProvider("app").getImmediate(),P=p.getProvider("heartbeat"),x=p.getProvider("app-check-internal"),{apiKey:Q,authDomain:de}=C.options;ae(Q&&!Q.includes(":"),"invalid-api-key",{appName:C.name});const Ke={apiKey:Q,authDomain:de,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jt(b)},lt=new Un(C,P,x,Ke);return function Xr(b,p){const m=p?.persistence||[],C=(Array.isArray(m)?m:[m]).map(Qn);p?.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(C,p?.popupRedirectResolver)}(lt,m),lt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,C)=>{p.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new se.wA("auth-internal",p=>{const m=bn(p.getProvider("auth").getImmediate());return new oa(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(xu,"0.23.2",function ku(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,N.registerVersion)(xu,"0.23.2","esm2017")}("Browser")},2090:(Ot,ke,F)=>{F.d(ke,{$s:()=>Qn,BH:()=>Fe,G6:()=>Le,L:()=>we,LL:()=>Mt,P0:()=>Ge,Pz:()=>Pe,Sg:()=>Je,UG:()=>st,US:()=>se,ZB:()=>J,ZR:()=>Vt,aH:()=>De,b$:()=>en,eu:()=>Ze,hl:()=>Ye,jU:()=>Nt,m9:()=>Jr,ne:()=>dn,pd:()=>Kn,r3:()=>ao,ru:()=>gt,tV:()=>G,uI:()=>ae,vZ:()=>vt,w1:()=>be,xO:()=>Wn,xb:()=>No,z$:()=>$e,zI:()=>yt,zd:()=>Zn});const te=function(z){const $=[];let k=0;for(let R=0;R<z.length;R++){let S=z.charCodeAt(R);S<128?$[k++]=S:S<2048?($[k++]=S>>6|192,$[k++]=63&S|128):55296==(64512&S)&&R+1<z.length&&56320==(64512&z.charCodeAt(R+1))?(S=65536+((1023&S)<<10)+(1023&z.charCodeAt(++R)),$[k++]=S>>18|240,$[k++]=S>>12&63|128,$[k++]=S>>6&63|128,$[k++]=63&S|128):($[k++]=S>>12|224,$[k++]=S>>6&63|128,$[k++]=63&S|128)}return $},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,$){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,R=[];for(let S=0;S<z.length;S+=3){const K=z[S],_e=S+1<z.length,W=_e?z[S+1]:0,ie=S+2<z.length,fe=ie?z[S+2]:0;let it=(15&W)<<2|fe>>6,et=63&fe;ie||(et=64,_e||(it=64)),R.push(k[K>>2],k[(3&K)<<4|W>>4],k[it],k[et])}return R.join("")},encodeString(z,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(z):this.encodeByteArray(te(z),$)},decodeString(z,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(z):function(z){const $=[];let k=0,R=0;for(;k<z.length;){const S=z[k++];if(S<128)$[R++]=String.fromCharCode(S);else if(S>191&&S<224){const K=z[k++];$[R++]=String.fromCharCode((31&S)<<6|63&K)}else if(S>239&&S<365){const ie=((7&S)<<18|(63&z[k++])<<12|(63&z[k++])<<6|63&z[k++])-65536;$[R++]=String.fromCharCode(55296+(ie>>10)),$[R++]=String.fromCharCode(56320+(1023&ie))}else{const K=z[k++],_e=z[k++];$[R++]=String.fromCharCode((15&S)<<12|(63&K)<<6|63&_e)}}return $.join("")}(this.decodeStringToByteArray(z,$))},decodeStringToByteArray(z,$){this.init_();const k=$?this.charToByteMapWebSafe_:this.charToByteMap_,R=[];for(let S=0;S<z.length;){const K=k[z.charAt(S++)],W=S<z.length?k[z.charAt(S)]:0;++S;const fe=S<z.length?k[z.charAt(S)]:64;++S;const Oe=S<z.length?k[z.charAt(S)]:64;if(++S,null==K||null==W||null==fe||null==Oe)throw new ve;R.push(K<<2|W>>4),64!==fe&&(R.push(W<<4&240|fe>>2),64!==Oe&&R.push(fe<<6&192|Oe))}return R},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}};class ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const we=function(z){return function(z){const $=te(z);return se.encodeByteArray($,!0)}(z).replace(/\./g,"")},G=function(z){try{return se.decodeString(z,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function J(z,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return $}for(const k in $)!$.hasOwnProperty(k)||!Ae(k)||(z[k]=J(z[k],$[k]));return z}function Ae(z){return"__proto__"!==z}const Ne=()=>{try{return function Ie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=z&&G(z[1]);return $&&JSON.parse($)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},Ge=z=>{const $=(z=>{var $,k;return null===(k=null===($=Ne())||void 0===$?void 0:$.emulatorHosts)||void 0===k?void 0:k[z]})(z);if(!$)return;const k=$.lastIndexOf(":");if(k<=0||k+1===$.length)throw new Error(`Invalid host ${$} with no separate hostname and port!`);const R=parseInt($.substring(k+1),10);return"["===$[0]?[$.substring(1,k-1),R]:[$.substring(0,k),R]},De=()=>{var z;return null===(z=Ne())||void 0===z?void 0:z.config},Pe=z=>{var $;return null===($=Ne())||void 0===$?void 0:$[`_${z}`]};class Fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,k)=>{this.resolve=$,this.reject=k})}wrapCallback($){return(k,R)=>{k?this.reject(k):this.resolve(R),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(k):$(k,R))}}}function Je(z,$){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const R=$||"demo-project",S=z.iat||0,K=z.sub||z.user_id;if(!K)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _e=Object.assign({iss:`https://securetoken.google.com/${R}`,aud:R,iat:S,exp:S+3600,auth_time:S,sub:K,user_id:K,firebase:{sign_in_provider:"custom",identities:{}}},z);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(_e)),""].join(".")}function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function st(){var z;const $=null===(z=Ne())||void 0===z?void 0:z.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Nt(){return"object"==typeof self&&self.self===self}function gt(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function en(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function be(){const z=$e();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function Le(){return!st()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ye(){try{return"object"==typeof indexedDB}catch{return!1}}function Ze(){return new Promise((z,$)=>{try{let k=!0;const R="validate-browser-context-for-indexeddb-analytics-module",S=self.indexedDB.open(R);S.onsuccess=()=>{S.result.close(),k||self.indexedDB.deleteDatabase(R),z(!0)},S.onupgradeneeded=()=>{k=!1},S.onerror=()=>{var K;$((null===(K=S.error)||void 0===K?void 0:K.message)||"")}}catch(k){$(k)}})}function yt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Vt extends Error{constructor($,k,R){super(k),this.code=$,this.customData=R,this.name="FirebaseError",Object.setPrototypeOf(this,Vt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mt.prototype.create)}}class Mt{constructor($,k,R){this.service=$,this.serviceName=k,this.errors=R}create($,...k){const R=k[0]||{},S=`${this.service}/${$}`,K=this.errors[$],_e=K?function tn(z,$){return z.replace(It,(k,R)=>{const S=$[R];return null!=S?String(S):`<${R}?>`})}(K,R):"Error";return new Vt(S,`${this.serviceName}: ${_e} (${S}).`,R)}}const It=/\{\$([^}]+)}/g;function ao(z,$){return Object.prototype.hasOwnProperty.call(z,$)}function No(z){for(const $ in z)if(Object.prototype.hasOwnProperty.call(z,$))return!1;return!0}function vt(z,$){if(z===$)return!0;const k=Object.keys(z),R=Object.keys($);for(const S of k){if(!R.includes(S))return!1;const K=z[S],_e=$[S];if(kn(K)&&kn(_e)){if(!vt(K,_e))return!1}else if(K!==_e)return!1}for(const S of R)if(!k.includes(S))return!1;return!0}function kn(z){return null!==z&&"object"==typeof z}function Wn(z){const $=[];for(const[k,R]of Object.entries(z))Array.isArray(R)?R.forEach(S=>{$.push(encodeURIComponent(k)+"="+encodeURIComponent(S))}):$.push(encodeURIComponent(k)+"="+encodeURIComponent(R));return $.length?"&"+$.join("&"):""}function Zn(z){const $={};return z.replace(/^\?/,"").split("&").forEach(R=>{if(R){const[S,K]=R.split("=");$[decodeURIComponent(S)]=decodeURIComponent(K)}}),$}function Kn(z){const $=z.indexOf("?");if(!$)return"";const k=z.indexOf("#",$);return z.substring($,k>0?k:void 0)}function dn(z,$){const k=new ft(z,$);return k.subscribe.bind(k)}class ft{constructor($,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{$(this)}).catch(R=>{this.error(R)})}next($){this.forEachObserver(k=>{k.next($)})}error($){this.forEachObserver(k=>{k.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,k,R){let S;if(void 0===$&&void 0===k&&void 0===R)throw new Error("Missing Observer.");S=function qn(z,$){if("object"!=typeof z||null===z)return!1;for(const k of $)if(k in z&&"function"==typeof z[k])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:k,complete:R},void 0===S.next&&(S.next=Pn),void 0===S.error&&(S.error=Pn),void 0===S.complete&&(S.complete=Pn);const K=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?S.error(this.finalError):S.complete()}catch{}}),this.observers.push(S),K}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,$)}sendOne($,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{k(this.observers[$])}catch(R){typeof console<"u"&&console.error&&console.error(R)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pn(){}const zt=1e3,Yn=2,Dn=144e5,tr=.5;function Qn(z,$=zt,k=Yn){const R=$*Math.pow(k,z),S=Math.round(tr*R*(Math.random()-.5)*2);return Math.min(Dn,R+S)}function Jr(z){return z&&z._delegate?z._delegate:z}},749:(Ot,ke,F)=>{var l=F(4650);let H=null;function N(){return H}class pe{}const se=new l.OlP("DocumentToken");let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ce(){return(0,l.LFG)(G)}()},providedIn:"platform"}),n})();const we=new l.OlP("Location Initialized");let G=(()=>{class n extends ve{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){q()?this._history.pushState(t,r,o):this._location.hash=o}replaceState(t,r,o){q()?this._history.replaceState(t,r,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function J(){return new G((0,l.LFG)(se))}()},providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function Ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ie(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function qe(n){return n&&"?"!==n[0]?"?"+n:n}let _t=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Ne)},providedIn:"root"}),n})();const ye=new l.OlP("appBaseHref");let Ne=(()=>{class n extends _t{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ae(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+qe(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,a){const u=this.prepareExternalUrl(o+qe(a));this._platformLocation.pushState(t,r,u)}replaceState(t,r,o,a){const u=this.prepareExternalUrl(o+qe(a));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ve),l.LFG(ye,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Be=(()=>{class n extends _t{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ae(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,a){let u=this.prepareExternalUrl(o+qe(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,o,a){let u=this.prepareExternalUrl(o+qe(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ve),l.LFG(ye,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ge=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Je(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ie(Fe(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+qe(r))}normalize(t){return n.stripTrailingSlash(function Pe(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Fe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=qe,n.joinWithSlash=Ae,n.stripTrailingSlash=Ie,n.\u0275fac=function(t){return new(t||n)(l.LFG(_t))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function De(){return new Ge((0,l.LFG)(_t))}()},providedIn:"root"}),n})();function Fe(n){return n.replace(/\/index.html$/,"")}var Nt=(()=>((Nt=Nt||{})[Nt.Format=0]="Format",Nt[Nt.Standalone=1]="Standalone",Nt))(),gt=(()=>((gt=gt||{})[gt.Narrow=0]="Narrow",gt[gt.Abbreviated=1]="Abbreviated",gt[gt.Wide=2]="Wide",gt[gt.Short=3]="Short",gt))(),en=(()=>((en=en||{})[en.Short=0]="Short",en[en.Medium=1]="Medium",en[en.Long=2]="Long",en[en.Full=3]="Full",en))(),mt=(()=>((mt=mt||{})[mt.Decimal=0]="Decimal",mt[mt.Group=1]="Group",mt[mt.List=2]="List",mt[mt.PercentSign=3]="PercentSign",mt[mt.PlusSign=4]="PlusSign",mt[mt.MinusSign=5]="MinusSign",mt[mt.Exponential=6]="Exponential",mt[mt.SuperscriptingExponent=7]="SuperscriptingExponent",mt[mt.PerMille=8]="PerMille",mt[mt.Infinity=9]="Infinity",mt[mt.NaN=10]="NaN",mt[mt.TimeSeparator=11]="TimeSeparator",mt[mt.CurrencyDecimal=12]="CurrencyDecimal",mt[mt.CurrencyGroup=13]="CurrencyGroup",mt))();function Vt(n,e){return xn((0,l.cg1)(n)[l.wAp.DateFormat],e)}function Mt(n,e){return xn((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function tn(n,e){return xn((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function It(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===mt.CurrencyDecimal)return t[l.wAp.NumberSymbols][mt.Decimal];if(e===mt.CurrencyGroup)return t[l.wAp.NumberSymbols][mt.Group]}return r}function Ar(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function xn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function vt(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Zn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Kn={},sn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var dn=(()=>((dn=dn||{})[dn.Short=0]="Short",dn[dn.ShortGMT=1]="ShortGMT",dn[dn.Long=2]="Long",dn[dn.Extended=3]="Extended",dn))(),ft=(()=>((ft=ft||{})[ft.FullYear=0]="FullYear",ft[ft.Month=1]="Month",ft[ft.Date=2]="Date",ft[ft.Hours=3]="Hours",ft[ft.Minutes=4]="Minutes",ft[ft.Seconds=5]="Seconds",ft[ft.FractionalSeconds=6]="FractionalSeconds",ft[ft.Day=7]="Day",ft))(),Ft=(()=>((Ft=Ft||{})[Ft.DayPeriods=0]="DayPeriods",Ft[Ft.Days=1]="Days",Ft[Ft.Months=2]="Months",Ft[Ft.Eras=3]="Eras",Ft))();function qn(n,e,t,r){let o=function S(n){if(_e(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[o,a=1,u=1]=n.split("-").map(h=>+h);return Pn(o,a-1,u)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Zn))return function K(n){const e=new Date(0);let t=0,r=0;const o=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),o.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-t,h=Number(n[5]||0)-r,_=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,u,h,_,v),e}(r)}const e=new Date(n);if(!_e(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Rn(t,e)||e;let h,u=[];for(;e;){if(h=sn.exec(e),!h){u.push(e);break}{u=u.concat(h.slice(1));const M=u.pop();if(!M)break;e=M}}let _=o.getTimezoneOffset();r&&(_=$(r,_),o=function R(n,e,t){const r=t?-1:1,o=n.getTimezoneOffset();return function k(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*($(e,o)-o))}(o,r,!0));let v="";return u.forEach(M=>{const D=function z(n){if(Jr[n])return Jr[n];let e;switch(n){case"G":case"GG":case"GGG":e=Yt(Ft.Eras,gt.Abbreviated);break;case"GGGG":e=Yt(Ft.Eras,gt.Wide);break;case"GGGGG":e=Yt(Ft.Eras,gt.Narrow);break;case"y":e=At(ft.FullYear,1,0,!1,!0);break;case"yy":e=At(ft.FullYear,2,0,!0,!0);break;case"yyy":e=At(ft.FullYear,3,0,!1,!0);break;case"yyyy":e=At(ft.FullYear,4,0,!1,!0);break;case"Y":e=xr(1);break;case"YY":e=xr(2,!0);break;case"YYY":e=xr(3);break;case"YYYY":e=xr(4);break;case"M":case"L":e=At(ft.Month,1,1);break;case"MM":case"LL":e=At(ft.Month,2,1);break;case"MMM":e=Yt(Ft.Months,gt.Abbreviated);break;case"MMMM":e=Yt(Ft.Months,gt.Wide);break;case"MMMMM":e=Yt(Ft.Months,gt.Narrow);break;case"LLL":e=Yt(Ft.Months,gt.Abbreviated,Nt.Standalone);break;case"LLLL":e=Yt(Ft.Months,gt.Wide,Nt.Standalone);break;case"LLLLL":e=Yt(Ft.Months,gt.Narrow,Nt.Standalone);break;case"w":e=dr(1);break;case"ww":e=dr(2);break;case"W":e=dr(1,!0);break;case"d":e=At(ft.Date,1);break;case"dd":e=At(ft.Date,2);break;case"c":case"cc":e=At(ft.Day,1);break;case"ccc":e=Yt(Ft.Days,gt.Abbreviated,Nt.Standalone);break;case"cccc":e=Yt(Ft.Days,gt.Wide,Nt.Standalone);break;case"ccccc":e=Yt(Ft.Days,gt.Narrow,Nt.Standalone);break;case"cccccc":e=Yt(Ft.Days,gt.Short,Nt.Standalone);break;case"E":case"EE":case"EEE":e=Yt(Ft.Days,gt.Abbreviated);break;case"EEEE":e=Yt(Ft.Days,gt.Wide);break;case"EEEEE":e=Yt(Ft.Days,gt.Narrow);break;case"EEEEEE":e=Yt(Ft.Days,gt.Short);break;case"a":case"aa":case"aaa":e=Yt(Ft.DayPeriods,gt.Abbreviated);break;case"aaaa":e=Yt(Ft.DayPeriods,gt.Wide);break;case"aaaaa":e=Yt(Ft.DayPeriods,gt.Narrow);break;case"b":case"bb":case"bbb":e=Yt(Ft.DayPeriods,gt.Abbreviated,Nt.Standalone,!0);break;case"bbbb":e=Yt(Ft.DayPeriods,gt.Wide,Nt.Standalone,!0);break;case"bbbbb":e=Yt(Ft.DayPeriods,gt.Narrow,Nt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Yt(Ft.DayPeriods,gt.Abbreviated,Nt.Format,!0);break;case"BBBB":e=Yt(Ft.DayPeriods,gt.Wide,Nt.Format,!0);break;case"BBBBB":e=Yt(Ft.DayPeriods,gt.Narrow,Nt.Format,!0);break;case"h":e=At(ft.Hours,1,-12);break;case"hh":e=At(ft.Hours,2,-12);break;case"H":e=At(ft.Hours,1);break;case"HH":e=At(ft.Hours,2);break;case"m":e=At(ft.Minutes,1);break;case"mm":e=At(ft.Minutes,2);break;case"s":e=At(ft.Seconds,1);break;case"ss":e=At(ft.Seconds,2);break;case"S":e=At(ft.FractionalSeconds,1);break;case"SS":e=At(ft.FractionalSeconds,2);break;case"SSS":e=At(ft.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=zt(dn.Short);break;case"ZZZZZ":e=zt(dn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=zt(dn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=zt(dn.Long);break;default:return null}return Jr[n]=e,e}(M);v+=D?D(o,t,_):"''"===M?"'":M.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function Pn(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Rn(n,e){const t=function me(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(Kn[t]=Kn[t]||{},Kn[t][e])return Kn[t][e];let r="";switch(e){case"shortDate":r=Vt(n,en.Short);break;case"mediumDate":r=Vt(n,en.Medium);break;case"longDate":r=Vt(n,en.Long);break;case"fullDate":r=Vt(n,en.Full);break;case"shortTime":r=Mt(n,en.Short);break;case"mediumTime":r=Mt(n,en.Medium);break;case"longTime":r=Mt(n,en.Long);break;case"fullTime":r=Mt(n,en.Full);break;case"short":const o=Rn(n,"shortTime"),a=Rn(n,"shortDate");r=_r(tn(n,en.Short),[o,a]);break;case"medium":const u=Rn(n,"mediumTime"),h=Rn(n,"mediumDate");r=_r(tn(n,en.Medium),[u,h]);break;case"long":const _=Rn(n,"longTime"),v=Rn(n,"longDate");r=_r(tn(n,en.Long),[_,v]);break;case"full":const M=Rn(n,"fullTime"),D=Rn(n,"fullDate");r=_r(tn(n,en.Full),[M,D])}return r&&(Kn[t][e]=r),r}function _r(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Nn(n,e,t="-",r,o){let a="";(n<0||o&&n<=0)&&(o?n=1-n:(n=-n,a=t));let u=String(n);for(;u.length<e;)u="0"+u;return r&&(u=u.slice(u.length-e)),a+u}function At(n,e,t=0,r=!1,o=!1){return function(a,u){let h=function yr(n,e){switch(n){case ft.FullYear:return e.getFullYear();case ft.Month:return e.getMonth();case ft.Date:return e.getDate();case ft.Hours:return e.getHours();case ft.Minutes:return e.getMinutes();case ft.Seconds:return e.getSeconds();case ft.FractionalSeconds:return e.getMilliseconds();case ft.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||h>-t)&&(h+=t),n===ft.Hours)0===h&&-12===t&&(h=12);else if(n===ft.FractionalSeconds)return function er(n,e){return Nn(n,3).substring(0,e)}(h,e);const _=It(u,mt.MinusSign);return Nn(h,e,_,r,o)}}function Yt(n,e,t=Nt.Format,r=!1){return function(o,a){return function $r(n,e,t,r,o,a){switch(t){case Ft.Months:return function Ye(n,e,t){const r=(0,l.cg1)(n),a=xn([r[l.wAp.MonthsFormat],r[l.wAp.MonthsStandalone]],e);return xn(a,t)}(e,o,r)[n.getMonth()];case Ft.Days:return function Le(n,e,t){const r=(0,l.cg1)(n),a=xn([r[l.wAp.DaysFormat],r[l.wAp.DaysStandalone]],e);return xn(a,t)}(e,o,r)[n.getDay()];case Ft.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(a){const v=function ao(n){const e=(0,l.cg1)(n);return Ar(e),(e[l.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?vt(r):[vt(r[0]),vt(r[1])])}(e),M=function fr(n,e,t){const r=(0,l.cg1)(n);Ar(r);const a=xn([r[l.wAp.ExtraData][0],r[l.wAp.ExtraData][1]],e)||[];return xn(a,t)||[]}(e,o,r),D=v.findIndex(L=>{if(Array.isArray(L)){const[B,Z]=L,oe=u>=B.hours&&h>=B.minutes,ue=u<Z.hours||u===Z.hours&&h<Z.minutes;if(B.hours<Z.hours){if(oe&&ue)return!0}else if(oe||ue)return!0}else if(L.hours===u&&L.minutes===h)return!0;return!1});if(-1!==D)return M[D]}return function Se(n,e,t){const r=(0,l.cg1)(n),a=xn([r[l.wAp.DayPeriodsFormat],r[l.wAp.DayPeriodsStandalone]],e);return xn(a,t)}(e,o,r)[u<12?0:1];case Ft.Eras:return function Ze(n,e){return xn((0,l.cg1)(n)[l.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(o,a,n,e,t,r)}}function zt(n){return function(e,t,r){const o=-1*r,a=It(t,mt.MinusSign),u=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case dn.Short:return(o>=0?"+":"")+Nn(u,2,a)+Nn(Math.abs(o%60),2,a);case dn.ShortGMT:return"GMT"+(o>=0?"+":"")+Nn(u,1,a);case dn.Long:return"GMT"+(o>=0?"+":"")+Nn(u,2,a)+":"+Nn(Math.abs(o%60),2,a);case dn.Extended:return 0===r?"Z":(o>=0?"+":"")+Nn(u,2,a)+":"+Nn(Math.abs(o%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}const Yn=0,Dn=4;function Qn(n){return Pn(n.getFullYear(),n.getMonth(),n.getDate()+(Dn-n.getDay()))}function dr(n,e=!1){return function(t,r){let o;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,u=t.getDate();o=1+Math.floor((u+a)/7)}else{const a=Qn(t),u=function tr(n){const e=Pn(n,Yn,1).getDay();return Pn(n,0,1+(e<=Dn?Dn:Dn+7)-e)}(a.getFullYear()),h=a.getTime()-u.getTime();o=1+Math.round(h/6048e5)}return Nn(o,n,It(r,mt.MinusSign))}}function xr(n,e=!1){return function(t,r){return Nn(Qn(t).getFullYear(),n,It(r,mt.MinusSign),e)}}const Jr={};function $(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function _e(n){return n instanceof Date&&!isNaN(n.valueOf())}function ni(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(a)}return null}const sr=/\s+/,ct=[];let qt=(()=>{class n{constructor(t,r,o,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=a,this.initialClasses=ct,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(sr):ct}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(sr):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const o=this.stateMap.get(t);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],o=t[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(sr).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Cr{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,a,u)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Cr(o.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===a?void 0:a);else if(null!==a){const h=r.get(a);r.move(h,u),Gn(h,o)}});for(let o=0,a=r.length;o<a;o++){const h=r.get(o).context;h.index=o,h.count=a,h.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Gn(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Gn(n,e){n.context.$implicit=e.item}let kr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Xt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ai("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ai("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Xt{constructor(){this.$implicit=null,this.ngIf=null}}function Ai(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let nr=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:o,ngTemplateOutletContext:a,ngTemplateOutletInjector:u}=this;this._viewRef=r.createEmbeddedView(o,a,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),n})();function Rr(n,e){return new l.vHH(2100,!1)}class Lc{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class js{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const us=new js,xi=new Lc;let mi=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,l.QGY)(t))return us;if((0,l.F4k)(t))return xi;throw Rr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const qi=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Gi=new l.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Fr=(()=>{class n{constructor(t,r,o){this.locale=t,this.defaultTimezone=r,this.defaultOptions=o}transform(t,r,o,a){if(null==t||""===t||t!=t)return null;try{return qn(t,r??this.defaultOptions?.dateFormat??"mediumDate",a||this.locale,o??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(u){throw Rr()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(qi,24),l.Y36(Gi,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),nu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const qs="server";function ds(n){return n===qs}let ou=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new ad((0,l.LFG)(se),window)}),n})();class ad{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function iu(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const a=o.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],o-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=hs(this.window.history)||hs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function hs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class su{}class wp extends pe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fu extends wp{static makeCurrent(){!function te(n){H||(H=n)}(new fu)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Zc(){return Wc=Wc||document.querySelector("base"),Wc?Wc.getAttribute("href"):null}();return null==t?null:function DC(n){Ks=Ks||document.createElement("a"),Ks.setAttribute("href",n);const e=Ks.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Wc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ni(document.cookie,e)}}let Ks,Wc=null;const OC=new l.OlP("TRANSITION_ID"),Mp=[{provide:l.ip1,useFactory:function Ep(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=N(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<o.length;a++)r.remove(o[a])})}},deps:[OC,se,l.zs3],multi:!0}];let md=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const _d=new l.OlP("EventManagerPlugins");let yd=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let a=0;a<o.length;a++){const u=o[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_d),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class du{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=N().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Ip=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const o=this.usageCount;let a=o.get(t)??0;return a+=r,a>0?o.set(t,a):o.delete(t),a}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Fa=(()=>{class n extends Ip{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(a=>a.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const o=this.doc.createElement("style");o.textContent=r,t.appendChild(o);const a=this.styleRef.get(r);a?a.push(o):this.styleRef.set(r,[o])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Qs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},La=/%COMP%/g,Jc=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function pu(n,e){return e.flat(100).map(t=>t.replace(La,n))}function g_(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Io=(()=>{class n{constructor(t,r,o,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new vd(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const o=this.getOrCreateRenderer(t,r);return o instanceof mu?o.applyToHost(t):o instanceof Xc&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let a=o.get(r.id);if(!a){const u=this.eventManager,h=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case l.ifc.Emulated:a=new mu(u,h,r,this.appId,_);break;case l.ifc.ShadowDom:return new wr(u,h,t,r);default:a=new Xc(u,h,r,_)}a.onDestroy=()=>o.delete(r.id),o.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yd),l.LFG(Fa),l.LFG(l.AFp),l.LFG(Jc))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class vd{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Qs[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Cd(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Cd(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const a=Qs[o];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Qs[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,o&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,g_(r)):this.eventManager.addEventListener(e,t,g_(r))}}function Cd(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class wr extends vd{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=pu(o.id,o.styles);for(const u of a){const h=document.createElement("style");h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Xc extends vd{constructor(e,t,r,o,a=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=pu(a,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class mu extends Xc{constructor(e,t,r,o,a){const u=o+"-"+r.id;super(e,t,r,a,u),this.contentAttr=function SC(n){return"_ngcontent-%COMP%".replace(La,n)}(u),this.hostAttr=function p_(n){return"_nghost-%COMP%".replace(La,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Tp=(()=>{class n extends du{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const el=["alt","control","meta","shift"],Pp={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dp={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Op=(()=>{class n extends du{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const a=n.parseEventName(r),u=n.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const a=n._normalizeKey(r.pop());let u="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),u="code."),el.forEach(v=>{const M=r.indexOf(v);M>-1&&(r.splice(M,1),u+=v+".")}),u+=a,0!=r.length||0===a.length)return null;const _={};return _.domEventName=o,_.fullKey=u,_}static matchEventFullKeyCode(t,r){let o=Pp[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(o=t.code,a="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),el.forEach(u=>{u!==o&&(0,Dp[u])(t)&&(a+=u+".")}),a+=o,a===r)}static eventCallback(t,r,o){return a=>{n.matchEventFullKeyCode(a,t)&&o.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const __=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function Va(){fu.makeCurrent()},multi:!0},{provide:se,useFactory:function Ed(){return(0,l.RDi)(document),document},deps:[]}]),tl=new l.OlP(""),nl=[{provide:l.rWj,useClass:class Ys{addToWindow(e){l.dqk.getAngularTestability=(r,o=!0)=>{const a=e.findTestabilityInTree(r,o);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const o=l.dqk.getAllAngularTestabilities();let a=o.length,u=!1;const h=function(_){u=u||_,a--,0==a&&r(u)};o.forEach(function(_){_.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Xs=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function wd(){return new l.qLn},deps:[]},{provide:_d,useClass:Tp,multi:!0,deps:[se,l.R0b,l.Lbi]},{provide:_d,useClass:Op,multi:!0,deps:[se]},{provide:Io,useClass:Io,deps:[yd,Fa,l.AFp,Jc]},{provide:l.FYo,useExisting:Io},{provide:Ip,useExisting:Fa},{provide:Fa,useClass:Fa,deps:[se]},{provide:yd,useClass:yd,deps:[_d,l.R0b]},{provide:su,useClass:md,deps:[]},[]];let ea=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:OC,useExisting:l.AFp},Mp]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(tl,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Xs,...nl],imports:[nu,l.hGG]}),n})(),y_=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ha(){return new y_((0,l.LFG)(se))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let vu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):l.LFG(Dd),r},providedIn:"root"}),n})(),Dd=(()=>{class n extends vu{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case l.q3G.NONE:return r;case l.q3G.HTML:return(0,l.qzn)(r,"HTML")?(0,l.z3N)(r):(0,l.EiD)(this._doc,String(r)).toString();case l.q3G.STYLE:return(0,l.qzn)(r,"Style")?(0,l.z3N)(r):r;case l.q3G.SCRIPT:if((0,l.qzn)(r,"Script"))return(0,l.z3N)(r);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(r,"URL")?(0,l.z3N)(r):(0,l.mCW)(String(r));case l.q3G.RESOURCE_URL:if((0,l.qzn)(r,"ResourceURL"))return(0,l.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${l.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${l.JZr})`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Cu(n){return new Dd(n.get(se))}(l.LFG(l.zs3)),r},providedIn:"root"}),n})();var In=F(8996),_o=F(9751);const{isArray:za}=Array,{getPrototypeOf:wu,prototype:w_,keys:E_}=Object;function Rp(n){if(1===n.length){const e=n[0];if(za(e))return{args:e,keys:null};if(function Od(n){return n&&"object"==typeof n&&wu(n)===w_}(e)){const t=E_(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ol=F(8421),qa=F(7669),zr=F(5403),Dt=F(4004);const{isArray:Sd}=Array;function Ad(n){return(0,Dt.U)(e=>function ta(n,e){return Sd(e)?n(...e):n(e)}(n,e))}function Cs(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let kd=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),To=(()=>{class n extends kd{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Po=new l.OlP("NgValueAccessor"),Rd={provide:Po,useExisting:(0,l.Gpc)(()=>Es),multi:!0},il=new l.OlP("CompositionEventMode");let Es=(()=>{class n extends kd{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ws(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(il,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[l._Bn([Rd]),l.qOj]}),n})();const M_=!1;function Ri(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Fp(n){return null!=n&&"number"==typeof n.length}const Do=new l.OlP("NgValidators"),Ni=new l.OlP("NgAsyncValidators"),I_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ms{static min(e){return function na(n){return e=>{if(Ri(e.value)||Ri(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Nd(n){return e=>{if(Ri(e.value)||Ri(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Lp(e)}static requiredTrue(e){return function sl(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return T_(e)}static minLength(e){return function al(n){return e=>Ri(e.value)||!Fp(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Fd(n){return e=>Fp(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Mu(n){if(!n)return cl;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ri(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return Vp(e)}static composeAsync(e){return S_(e)}}function Lp(n){return Ri(n.value)?{required:!0}:null}function T_(n){return Ri(n.value)||I_.test(n.value)?null:{email:!0}}function cl(n){return null}function Ga(n){return null!=n}function P_(n){const e=(0,l.QGY)(n)?(0,In.D)(n):n;if(M_&&!(0,l.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new l.vHH(-1101,t)}return e}function Up(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function ll(n,e){return e.map(t=>t(n))}function O_(n){return n.map(e=>function D_(n){return!n.validate}(e)?e:t=>e.validate(t))}function Vp(n){if(!n)return null;const e=n.filter(Ga);return 0==e.length?null:function(t){return Up(ll(t,e))}}function Iu(n){return null!=n?Vp(O_(n)):null}function S_(n){if(!n)return null;const e=n.filter(Ga);return 0==e.length?null:function(t){return function xd(...n){const e=(0,qa.jO)(n),{args:t,keys:r}=Rp(n),o=new _o.y(a=>{const{length:u}=t;if(!u)return void a.complete();const h=new Array(u);let _=u,v=u;for(let M=0;M<u;M++){let D=!1;(0,ol.Xf)(t[M]).subscribe((0,zr.x)(a,L=>{D||(D=!0,v--),h[M]=L},()=>_--,void 0,()=>{(!_||!D)&&(v||a.next(r?Cs(r,h):h),a.complete())}))}});return e?o.pipe(Ad(e)):o}(ll(t,e).map(P_)).pipe((0,Dt.U)(Up))}}function Ld(n){return null!=n?S_(O_(n)):null}function Ud(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Wa(n){return n._rawValidators}function Vd(n){return n._rawAsyncValidators}function Tu(n){return n?Array.isArray(n)?n:[n]:[]}function Za(n,e){return Array.isArray(n)?n.includes(e):n===e}function vi(n,e){const t=Tu(e);return Tu(n).forEach(o=>{Za(t,o)||t.push(o)}),t}function ul(n,e){return Tu(e).filter(t=>!Za(n,t))}class Bp{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Iu(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ld(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Oo extends Bp{get formDirective(){return null}get path(){return null}}class Ji extends Bp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Pu{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ka=(()=>{class n extends Pu{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ji,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),Ya=(()=>{class n extends Pu{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Oo,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();function hl(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const Au=!1,ra="VALID",Is="INVALID",Qa="PENDING",Ts="DISABLED";function pl(n){return(Ja(n)?n.validators:n)||null}function Ps(n,e){return(Ja(e)?e.asyncValidators:n)||null}function Ja(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function oa(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,Au?function R_(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new l.vHH(1001,Au?function Su(n,e){return`Cannot find form control ${hl(n,e)}`}(e,t):"")}function ku(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new l.vHH(1002,Au?function N_(n,e){return`Must supply a value for form control ${hl(n,e)}`}(e,o):"")})}class gl{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ra}get invalid(){return this.status===Is}get pending(){return this.status==Qa}get disabled(){return this.status===Ts}get enabled(){return this.status!==Ts}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(vi(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vi(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ul(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ul(e,this._rawAsyncValidators))}hasValidator(e){return Za(this._rawValidators,e)}hasAsyncValidator(e){return Za(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Qa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ts,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ra,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ra||this.status===Qa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ts:ra}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Qa,this._hasOwnPendingAsyncValidator=!0;const t=P_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Ts:this.errors?Is:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qa)?Qa:this._anyControlsHaveStatus(Is)?Is:ra}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ja(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function jp(n){return Array.isArray(n)?Iu(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function xu(n){return Array.isArray(n)?Ld(n):n||null}(this._rawAsyncValidators)}}class ml extends gl{constructor(e,t,r){super(pl(t),Ps(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ku(this,!0,e),Object.keys(e).forEach(r=>{oa(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,a)=>{r=t(r,o,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class qp extends ml{}const b=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>p}),p="always";function m(n,e){return[...e.path,n]}function C(n,e,t=p){de(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function lt(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&un(n,e)})}(n,e),function So(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function St(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&un(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Q(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function P(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ke(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function x(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function de(n,e){const t=Wa(n);null!==e.validator?n.setValidators(Ud(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Vd(n);null!==e.asyncValidator?n.setAsyncValidators(Ud(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();x(e._rawValidators,o),x(e._rawAsyncValidators,o)}function Ke(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=Wa(n);if(Array.isArray(o)&&o.length>0){const a=o.filter(u=>u!==e.validator);a.length!==o.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const o=Vd(n);if(Array.isArray(o)&&o.length>0){const a=o.filter(u=>u!==e.asyncValidator);a.length!==o.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return x(e._rawValidators,r),x(e._rawAsyncValidators,r),t}function un(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Fi(n,e){de(n,e)}function _l(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function yl(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ia(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(a=>{a.constructor===Es?t=a:function Fu(n){return Object.getPrototypeOf(n.constructor)===To}(a)?r=a:o=a}),o||r||t||null}const jd={provide:Oo,useExisting:(0,l.Gpc)(()=>ec)},bl=(()=>Promise.resolve())();let ec=(()=>{class n extends Oo{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new ml({},Iu(t),Ld(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){bl.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),C(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){bl.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){bl.then(()=>{const r=this._findContainer(t.path),o=new ml({});Fi(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){bl.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){bl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,yl(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Do,10),l.Y36(Ni,10),l.Y36(b,8))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([jd]),l.qOj]}),n})();function Uu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function LC(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Vu=class extends gl{constructor(e=null,t,r){super(pl(t),Ps(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ja(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=LC(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Uu(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Uu(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){LC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},SI={provide:Ji,useExisting:(0,l.Gpc)(()=>Hu)},AI=(()=>Promise.resolve())();let Hu=(()=>{class n extends Ji{constructor(t,r,o,a,u,h){super(),this._changeDetectorRef=u,this.callSetDisabledState=h,this.control=new Vu,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=ia(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),_l(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){C(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){AI.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,l.D6c)(r);AI.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?m(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Oo,9),l.Y36(Do,10),l.Y36(Ni,10),l.Y36(Po,10),l.Y36(l.sBO,8),l.Y36(b,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([SI]),l.qOj,l.TTD]}),n})(),vl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),V_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const H_=new l.OlP("NgModelWithFormControlWarning"),RI={provide:Oo,useExisting:(0,l.Gpc)(()=>Li)};let Li=(()=>{class n extends Oo{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ke(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return C(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){P(t.control||null,t,!1),function Lu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,yl(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(P(r||null,t),(n=>n instanceof Vu)(o)&&(C(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Fi(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Ru(n,e){return Ke(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){de(this.form,this),this._oldForm&&Ke(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Do,10),l.Y36(Ni,10),l.Y36(b,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([RI]),l.qOj,l.TTD]}),n})();const FI={provide:Ji,useExisting:(0,l.Gpc)(()=>z_)};let z_=(()=>{class n extends Ji{set isDisabled(t){}constructor(t,r,o,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=ia(0,a)}ngOnChanges(t){this._added||this._setUpControl(),_l(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return m(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(Oo,13),l.Y36(Do,10),l.Y36(Ni,10),l.Y36(Po,10),l.Y36(H_,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([FI]),l.qOj,l.TTD]}),n})();const GC={provide:Po,useExisting:(0,l.Gpc)(()=>Zp),multi:!0};function WC(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Zp=(()=>{class n extends To{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=WC(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function LI(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([GC]),l.qOj]}),n})(),ZC=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(WC(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Zp,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Kp={provide:Po,useExisting:(0,l.Gpc)(()=>Yp),multi:!0};function Ds(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Yp=(()=>{class n extends To{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(a=>this._getOptionId(a));r=(a,u)=>{a._setSelected(o.indexOf(u.toString())>-1)}}else r=(o,a)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],a=r.selectedOptions;if(void 0!==a){const u=a;for(let h=0;h<u.length;h++){const v=this._getOptionValue(u[h].value);o.push(v)}}else{const u=r.options;for(let h=0;h<u.length;h++){const _=u[h];if(_.selected){const v=this._getOptionValue(_.value);o.push(v)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function zd(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([Kp]),l.qOj]}),n})(),q_=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Ds(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Ds(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Yp,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),ju=(()=>{class n{constructor(){this._validator=cl}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):cl,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const KC={provide:Do,useExisting:(0,l.Gpc)(()=>qd),multi:!0};let qd=(()=>{class n extends ju{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=t=>Lp}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([KC]),l.qOj]}),n})();const jI={provide:Do,useExisting:(0,l.Gpc)(()=>Jp),multi:!0};let Jp=(()=>{class n extends ju{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=l.D6c,this.createValidator=t=>T_}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[l._Bn([jI]),l.qOj]}),n})(),XC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[V_]}),n})();class e0 extends gl{constructor(e,t,r){super(pl(t),Ps(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){ku(this,!1,e),e.forEach((r,o)=>{oa(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Y_(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let B1=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const o=this._reduceControls(t);let a={};return Y_(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new ml(o,a)}record(t,r=null){const o=this._reduceControls(t);return new qp(o,r)}control(t,r,o){let a={};return this.useNonNullable?(Y_(r)?a=r:(a.validators=r,a.asyncValidators=o),new Vu(t,{...a,nonNullable:!0})):new Vu(t,r,o)}array(t,r,o){const a=t.map(u=>this._createControl(u));return new e0(a,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof Vu||t instanceof gl?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q_=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:b,useValue:t.callSetDisabledState??p}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[XC]}),n})(),J_=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:H_,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:b,useValue:t.callSetDisabledState??p}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[XC]}),n})();class X_{}class qI{}const sa="*";function n0(n,e){return{type:7,name:n,definitions:e,options:{}}}function ey(n,e=null){return{type:4,styles:e,timings:n}}function GI(n,e=null){return{type:2,steps:n,options:e}}function wl(n){return{type:6,styles:n,offset:null}}function ty(n,e,t){return{type:0,name:n,styles:e,options:t}}function ny(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function a0(n){Promise.resolve().then(n)}class El{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){a0(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Gd{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,o=0;const a=this.players.length;0==a?a0(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++r==a&&this._onDestroy()}),u.onStart(()=>{++o==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(o)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const aa="!";var Uo=F(7579);const tg=["toast-component",""];function ZI(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",5),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.remove())}),l.TgZ(1,"span",6),l._uU(2,"\xd7"),l.qZA()()}}function KI(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.hij("[",t.duplicatesCount+1,"]")}}function c0(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1),l.YNc(2,KI,2,1,"ng-container",4),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.titleClass),l.uIk("aria-label",t.title),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngIf",t.duplicatesCount)}}function qu(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.Q6J("innerHTML",t.message,l.oJD)}}function YI(n,e){if(1&n&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.uIk("aria-label",t.message),l.xp6(1),l.hij(" ",t.message," ")}}function QI(n,e){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"div",9),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Udp("width",t.width+"%")}}class Wd{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class tT{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class Gu{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Uo.x,this._activate=new Uo.x,this._manualClose=new Uo.x,this._resetTimeout=new Uo.x,this._countDuplicate=new Uo.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class tc{constructor(e,t,r,o,a,u){this.toastId=e,this.config=t,this.message=r,this.title=o,this.toastType=a,this.toastRef=u,this._onTap=new Uo.x,this._onAction=new Uo.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const iy=new l.OlP("ToastConfig");class nT extends tT{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let o;return o=r.create(e.injector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(o),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(o)),o}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class rT{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let oT=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d0=(()=>{class n{constructor(t,r,o,a){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=o,this._document=a,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const o=this._document.createElement("div");return o.id="toast-container",o.classList.add(t),o.classList.add("toast-container"),r?r.getContainerElement().appendChild(o):this._overlayContainer.getContainerElement().appendChild(o),o}_createPortalHost(t){return new nT(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new rT(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oT),l.LFG(l._Vd),l.LFG(l.z2F),l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nc=(()=>{class n{constructor(t,r,o,a,u){this.overlay=r,this._injector=o,this.sanitizer=a,this.ngZone=u,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,o={},a=""){return this._preBuildNotification(a,t,r,this.applyConfig(o))}success(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(o))}error(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(o))}info(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(o))}warning(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(o))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const o=this.toasts[this.currentlyActive].toastRef;o.isInactive()||(this.currentlyActive=this.currentlyActive+1,o.activate())}return!0}findDuplicate(t="",r="",o,a){const{includeTitleDuplicates:u}=this.toastrConfig;for(const h of this.toasts)if((!u||u&&h.title===t)&&h.message===r)return h.toastRef.onDuplicate(o,a),h;return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,o,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,o,a)):this._buildNotification(t,r,o,a)}_buildNotification(t,r,o,a){if(!a.toastComponent)throw new Error("toastComponent required");const u=this.findDuplicate(o,r,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&o||r)&&this.toastrConfig.preventDuplicates&&null!==u)return u;this.previousToastMessage=r;let h=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(h=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let v=r;r&&a.enableHtml&&(v=this.sanitizer.sanitize(l.q3G.HTML,r));const M=new Gu(_),D=new tc(this.index,a,v,o,t,M),B=l.zs3.create({providers:[{provide:tc,useValue:D}],parent:this._injector}),Z=new Wd(a.toastComponent,B),oe=_.attach(Z,a.newestOnTop);M.componentInstance=oe.instance;const ue={toastId:this.index,title:o||"",message:r||"",toastRef:M,onShown:M.afterActivate(),onHidden:M.afterClosed(),onTap:D.onTap(),onAction:D.onAction(),portal:oe};return h||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ue.toastRef.activate()})),this.toasts.push(ue),ue}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(iy),l.LFG(d0),l.LFG(l.zs3),l.LFG(vu),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sy={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(t,r,o){this.toastrService=t,this.toastPackage=r,this.ngZone=o,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(nc),l.Y36(tc),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(l.d8E("@flyInOut",r.state),l.Tol(r.toastClasses),l.Udp("display",r.displayStyle))},attrs:tg,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(l.YNc(0,ZI,3,0,"button",0),l.YNc(1,c0,3,5,"div",1),l.YNc(2,qu,1,3,"div",2),l.YNc(3,YI,2,4,"div",3),l.YNc(4,QI,2,2,"div",4)),2&t&&(l.Q6J("ngIf",r.options.closeButton),l.xp6(1),l.Q6J("ngIf",r.title),l.xp6(1),l.Q6J("ngIf",r.message&&r.options.enableHtml),l.xp6(1),l.Q6J("ngIf",r.message&&!r.options.enableHtml),l.xp6(1),l.Q6J("ngIf",r.options.progressBar))},dependencies:[kr],encapsulation:2,data:{animation:[n0("flyInOut",[ty("inactive",wl({opacity:0})),ty("active",wl({opacity:1})),ty("removed",wl({opacity:0})),ny("inactive => active",ey("{{ easeTime }}ms {{ easing }}")),ny("active => removed",ey("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let iT=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:iy,useValue:{default:sy,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[nu]}),n})();function xt(...n){const e=(0,qa.yG)(n);return(0,In.D)(n,e)}var Wo=F(5577),ay=F(576);function ca(n,e){return(0,ay.m)(e)?(0,Wo.z)(n,e,1):(0,Wo.z)(n,1)}var Vo=F(4482);function Ao(n,e){return(0,Vo.e)((t,r)=>{let o=0;t.subscribe((0,zr.x)(r,a=>n.call(e,a,o++)&&r.next(a)))})}class Ui{}class cy{}class la{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),a=o.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(o,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let o;if(o="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(a=>a.toString()),o.length>0){const a=t.toLowerCase();this.headers.set(a,o),this.maybeSetNormalizedName(t,a)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof la?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new la;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof la?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(h=>-1===a.indexOf(h)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class q1{encodeKey(e){return ly(e)}encodeValue(e){return ly(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const G1=/%(\d[a-f0-9])/gi,m0={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ly(n){return encodeURIComponent(n).replace(G1,(e,t)=>m0[t]??e)}function rg(n){return`${n}`}class ua{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new q1,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function g0(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const a=o.indexOf("="),[u,h]=-1==a?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,a)),e.decodeValue(o.slice(a+1))],_=t.get(u)||[];_.push(h),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map(rg):[rg(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ua({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(rg(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(rg(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class sT{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function _0(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function uy(n){return typeof Blob<"u"&&n instanceof Blob}function y0(n){return typeof FormData<"u"&&n instanceof FormData}class Zd{constructor(e,t,r,o){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Xi(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,a=o):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new la),this.context||(this.context=new sT),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+u}}else this.params=new ua,this.urlWithParams=t}serializeBody(){return null===this.body?null:_0(this.body)||uy(this.body)||y0(this.body)||function aT(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ua?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||y0(this.body)?null:uy(this.body)?this.body.type||null:_0(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ua?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,v=e.params||this.params;const M=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((D,L)=>D.set(L,e.setHeaders[L]),_)),e.setParams&&(v=Object.keys(e.setParams).reduce((D,L)=>D.set(L,e.setParams[L]),v)),new Zd(t,r,a,{params:v,headers:_,context:M,reportProgress:h,responseType:o,withCredentials:u})}}var to=(()=>((to=to||{})[to.Sent=0]="Sent",to[to.UploadProgress=1]="UploadProgress",to[to.ResponseHeader=2]="ResponseHeader",to[to.DownloadProgress=3]="DownloadProgress",to[to.Response=4]="Response",to[to.User=5]="User",to))();class og{constructor(e,t=200,r="OK"){this.headers=e.headers||new la,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class fy extends og{constructor(e={}){super(e),this.type=to.ResponseHeader}clone(e={}){return new fy({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ig extends og{constructor(e={}){super(e),this.type=to.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ig({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class b0 extends og{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function fn(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let dy=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let a;if(t instanceof Zd)a=t;else{let _,v;_=o.headers instanceof la?o.headers:new la(o.headers),o.params&&(v=o.params instanceof ua?o.params:new ua({fromObject:o.params})),a=new Zd(t,r,void 0!==o.body?o.body:null,{headers:_,context:o.context,params:v,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const u=xt(a).pipe(ca(_=>this.handler.handle(_)));if(t instanceof Zd||"events"===o.observe)return u;const h=u.pipe(Ao(_=>_ instanceof ig));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return h.pipe((0,Dt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return h.pipe((0,Dt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return h.pipe((0,Dt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return h.pipe((0,Dt.U)(_=>_.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new ua).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,fn(o,r))}post(t,r,o={}){return this.request("POST",t,fn(o,r))}put(t,r,o={}){return this.request("PUT",t,fn(o,r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ui))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function hy(n,e){return e(n)}function v0(n,e){return(t,r)=>e.intercept(t,{handle:o=>n(o,r)})}const lT=new l.OlP("HTTP_INTERCEPTORS"),Wu=new l.OlP("HTTP_INTERCEPTOR_FNS");function uT(){let n=null;return(e,t)=>(null===n&&(n=((0,l.f3M)(lT,{optional:!0})??[]).reduceRight(v0,hy)),n(e,t))}let py=(()=>{class n extends Ui{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Wu)));this.chain=r.reduceRight((o,a)=>function cT(n,e,t){return(r,o)=>t.runInContext(()=>e(r,a=>n(a,o)))}(o,a,this.injector),hy)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cy),l.LFG(l.lqb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Y1=/^\)\]\}',?\n/;let C0=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _o.y(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((B,Z)=>o.setRequestHeader(B,Z.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const B=t.detectContentTypeHeader();null!==B&&o.setRequestHeader("Content-Type",B)}if(t.responseType){const B=t.responseType.toLowerCase();o.responseType="json"!==B?B:"text"}const a=t.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const B=o.statusText||"OK",Z=new la(o.getAllResponseHeaders()),oe=function Q1(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return u=new fy({headers:Z,status:o.status,statusText:B,url:oe}),u},_=()=>{let{headers:B,status:Z,statusText:oe,url:ue}=h(),Ve=null;204!==Z&&(Ve=typeof o.response>"u"?o.responseText:o.response),0===Z&&(Z=Ve?200:0);let rt=Z>=200&&Z<300;if("json"===t.responseType&&"string"==typeof Ve){const tt=Ve;Ve=Ve.replace(Y1,"");try{Ve=""!==Ve?JSON.parse(Ve):null}catch(ot){Ve=tt,rt&&(rt=!1,Ve={error:ot,text:Ve})}}rt?(r.next(new ig({body:Ve,headers:B,status:Z,statusText:oe,url:ue||void 0})),r.complete()):r.error(new b0({error:Ve,headers:B,status:Z,statusText:oe,url:ue||void 0}))},v=B=>{const{url:Z}=h(),oe=new b0({error:B,status:o.status||0,statusText:o.statusText||"Unknown Error",url:Z||void 0});r.error(oe)};let M=!1;const D=B=>{M||(r.next(h()),M=!0);let Z={type:to.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(Z.total=B.total),"text"===t.responseType&&o.responseText&&(Z.partialText=o.responseText),r.next(Z)},L=B=>{let Z={type:to.UploadProgress,loaded:B.loaded};B.lengthComputable&&(Z.total=B.total),r.next(Z)};return o.addEventListener("load",_),o.addEventListener("error",v),o.addEventListener("timeout",v),o.addEventListener("abort",v),t.reportProgress&&(o.addEventListener("progress",D),null!==a&&o.upload&&o.upload.addEventListener("progress",L)),o.send(a),r.next({type:to.Sent}),()=>{o.removeEventListener("error",v),o.removeEventListener("abort",v),o.removeEventListener("load",_),o.removeEventListener("timeout",v),t.reportProgress&&(o.removeEventListener("progress",D),null!==a&&o.upload&&o.upload.removeEventListener("progress",L)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(su))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ag=new l.OlP("XSRF_ENABLED"),w0=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),E0=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class my{}let cg=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ni(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(se),l.LFG(l.Lbi),l.LFG(w0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function gT(n,e){const t=n.url.toLowerCase();if(!(0,l.f3M)(ag)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,l.f3M)(my).getToken(),o=(0,l.f3M)(E0);return null!=r&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}var Gr=(()=>((Gr=Gr||{})[Gr.Interceptors=0]="Interceptors",Gr[Gr.LegacyInterceptors=1]="LegacyInterceptors",Gr[Gr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Gr[Gr.NoXsrfProtection=3]="NoXsrfProtection",Gr[Gr.JsonpSupport=4]="JsonpSupport",Gr[Gr.RequestsMadeViaParent=5]="RequestsMadeViaParent",Gr))();function Yu(n,e){return{\u0275kind:n,\u0275providers:e}}function _T(...n){const e=[dy,C0,py,{provide:Ui,useExisting:py},{provide:cy,useExisting:C0},{provide:Wu,useValue:gT,multi:!0},{provide:ag,useValue:!0},{provide:my,useClass:cg}];for(const t of n)e.push(...t.\u0275providers);return(0,l.MR2)(e)}const M0=new l.OlP("LEGACY_INTERCEPTOR_FN");let _y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[_T(Yu(Gr.LegacyInterceptors,[{provide:M0,useFactory:uT},{provide:Wu,useExisting:M0,multi:!0}]))]}),n})();const Qu=["labelButton"],P0=function(n,e){return{selected:n,focused:e}};function vT(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",9),l.NdJ("click",function(o){const u=l.CHM(t).$implicit,h=l.oxw();return l.KtG(h.optionSelect(u,o))}),l._uU(1),l.qZA()}if(2&n){const t=e.$implicit,r=e.index,o=l.oxw();l.Q6J("ngClass",l.WLB(2,P0,t.value===o.value,r===o.optionId)),l.xp6(1),l.hij(" ",t.label," ")}}function D0(n,e){1&n&&(l.TgZ(0,"span",10),l._uU(1,"No items for select"),l.qZA())}const CT=function(n){return{"ae-expanded":n}},wT=["fileInput"];function lg(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"ae-select",63),l.NdJ("ngModelChange",function(o){l.CHM(t);const a=l.oxw(2);return l.KtG(a.customClassId=o)})("change",function(){l.CHM(t);const o=l.oxw(2);return l.KtG(o.setCustomClass(o.customClassId))}),l.qZA()()}if(2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("options",t.customClassList)("ngModel",t.customClassId)("disabled",t.htmlMode)("hidden",t.isButtonHidden("customClasses"))}}function Ju(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",1)(1,"div",2)(2,"button",3),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.triggerCommand("undo"))}),l._UZ(3,"i",4),l.qZA(),l.TgZ(4,"button",5),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.triggerCommand("redo"))}),l._UZ(5,"i",6),l.qZA()(),l.TgZ(6,"div",2)(7,"button",7),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.triggerCommand("bold"))}),l._UZ(8,"i",8),l.qZA(),l.TgZ(9,"button",9),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.triggerCommand("italic"))}),l._UZ(10,"i",10),l.qZA(),l.TgZ(11,"button",11),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.triggerCommand("underline"))}),l._UZ(12,"i",12),l.qZA(),l.TgZ(13,"button",13),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.triggerCommand("strikeThrough"))}),l._UZ(14,"i",14),l.qZA(),l.TgZ(15,"button",15),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.triggerCommand("subscript"))}),l._UZ(16,"i",16),l.qZA(),l.TgZ(17,"button",17),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.triggerCommand("superscript"))}),l._UZ(18,"i",18),l.qZA()(),l.TgZ(19,"div",2)(20,"button",19),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.triggerCommand("justifyLeft"))}),l._UZ(21,"i",20),l.qZA(),l.TgZ(22,"button",21),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.triggerCommand("justifyCenter"))}),l._UZ(23,"i",22),l.qZA(),l.TgZ(24,"button",23),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.triggerCommand("justifyRight"))}),l._UZ(25,"i",24),l.qZA(),l.TgZ(26,"button",25),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.triggerCommand("justifyFull"))}),l._UZ(27,"i",26),l.qZA()(),l.TgZ(28,"div",2)(29,"button",27),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.triggerCommand("indent"))}),l._UZ(30,"i",28),l.qZA(),l.TgZ(31,"button",29),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.triggerCommand("outdent"))}),l._UZ(32,"i",30),l.qZA()(),l.TgZ(33,"div",2)(34,"button",31),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.triggerCommand("insertUnorderedList"))}),l._UZ(35,"i",32),l.qZA(),l.TgZ(36,"button",33),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.triggerCommand("insertOrderedList"))}),l._UZ(37,"i",34),l.qZA()(),l.TgZ(38,"div",2)(39,"ae-select",35),l.NdJ("ngModelChange",function(o){l.CHM(t);const a=l.oxw();return l.KtG(a.block=o)})("change",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.triggerCommand(o.block))}),l.qZA()(),l.TgZ(40,"div",2)(41,"ae-select",36),l.NdJ("ngModelChange",function(o){l.CHM(t);const a=l.oxw();return l.KtG(a.fontName=o)})("change",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.setFontName(o.fontName))}),l.qZA()(),l.TgZ(42,"div",2)(43,"ae-select",37),l.NdJ("ngModelChange",function(o){l.CHM(t);const a=l.oxw();return l.KtG(a.fontSize=o)})("change",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.setFontSize(o.fontSize))}),l.qZA()(),l.TgZ(44,"div",2)(45,"input",38,39),l.NdJ("change",function(){l.CHM(t);const o=l.MAs(46),a=l.oxw();return l.KtG(a.insertColor(o.value,"textColor"))}),l.qZA(),l.TgZ(47,"button",40),l.NdJ("click",function(){l.CHM(t);const o=l.MAs(46);return l.oxw().focus(),l.KtG(o.click())}),l.TgZ(48,"span",41),l._UZ(49,"i",42),l.qZA()(),l.TgZ(50,"input",38,43),l.NdJ("change",function(){l.CHM(t);const o=l.MAs(51),a=l.oxw();return l.KtG(a.insertColor(o.value,"backgroundColor"))}),l.qZA(),l.TgZ(52,"button",44),l.NdJ("click",function(){l.CHM(t);const o=l.MAs(51);return l.oxw().focus(),l.KtG(o.click())}),l.TgZ(53,"span",45),l._UZ(54,"i",42),l.qZA()()(),l.YNc(55,lg,2,4,"div",46),l.TgZ(56,"div",2)(57,"button",47),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.insertUrl())}),l._UZ(58,"i",48),l.qZA(),l.TgZ(59,"button",49),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.triggerCommand("unlink"))}),l._UZ(60,"i",50),l.qZA(),l.TgZ(61,"input",51,52),l.NdJ("change",function(o){l.CHM(t);const a=l.oxw();return l.KtG(a.onFileChanged(o))}),l.qZA(),l.TgZ(63,"button",53),l.NdJ("click",function(){l.CHM(t);const o=l.MAs(62);return l.oxw().focus(),l.KtG(o.click())}),l._UZ(64,"i",54),l.qZA(),l.TgZ(65,"button",55),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.insertVideo())}),l._UZ(66,"i",56),l.qZA(),l.TgZ(67,"button",57),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.triggerCommand("insertHorizontalRule"))}),l._UZ(68,"i",58),l.qZA()(),l.TgZ(69,"div",2)(70,"button",59),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.triggerCommand("removeFormat"))}),l._UZ(71,"i",60),l.qZA()(),l.TgZ(72,"div",2)(73,"button",61),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.triggerCommand("toggleEditorMode"))}),l._UZ(74,"i",62),l.qZA()(),l.Hsn(75),l.qZA()}if(2&n){const t=l.oxw();l.xp6(2),l.Q6J("hidden",t.isButtonHidden("undo")),l.xp6(2),l.Q6J("hidden",t.isButtonHidden("redo")),l.xp6(3),l.Q6J("id","bold-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("bold")),l.xp6(2),l.Q6J("id","italic-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("italic")),l.xp6(2),l.Q6J("id","underline-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("underline")),l.xp6(2),l.Q6J("id","strikeThrough-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("strikeThrough")),l.xp6(2),l.Q6J("id","subscript-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("subscript")),l.xp6(2),l.Q6J("id","superscript-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("superscript")),l.xp6(3),l.Q6J("id","justifyLeft-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("justifyLeft")),l.xp6(2),l.Q6J("id","justifyCenter-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("justifyCenter")),l.xp6(2),l.Q6J("id","justifyRight-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("justifyRight")),l.xp6(2),l.Q6J("id","justifyFull-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("justifyFull")),l.xp6(3),l.Q6J("id","indent-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("indent")),l.xp6(2),l.Q6J("id","outdent-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("outdent")),l.xp6(3),l.Q6J("id","insertUnorderedList-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("insertUnorderedList")),l.xp6(2),l.Q6J("id","insertOrderedList-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("insertOrderedList")),l.xp6(3),l.Q6J("options",t.headings)("ngModel",t.block)("disabled",t.htmlMode)("hidden",t.isButtonHidden("heading")),l.xp6(2),l.Q6J("options",t.fonts)("ngModel",t.fontName)("disabled",t.htmlMode)("hidden",t.isButtonHidden("fontName")),l.xp6(2),l.Q6J("options",t.fontSizes)("ngModel",t.fontSize)("disabled",t.htmlMode)("hidden",t.isButtonHidden("fontSize")),l.xp6(4),l.Q6J("id","foregroundColorPicker-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("textColor")),l.xp6(5),l.Q6J("id","backgroundColorPicker-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("backgroundColor")),l.xp6(3),l.Q6J("ngIf",t._customClasses),l.xp6(2),l.Q6J("id","link-"+t.id)("disabled",t.isLinkButtonDisabled)("hidden",t.isButtonHidden("link")),l.xp6(2),l.Q6J("id","unlink-"+t.id)("disabled",t.htmlMode||!t.linkSelected)("hidden",t.isButtonHidden("unlink")),l.xp6(4),l.Q6J("id","insertImage-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("insertImage")),l.xp6(2),l.Q6J("id","insertVideo-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("insertVideo")),l.xp6(2),l.Q6J("id","insertHorizontalRule-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("insertHorizontalRule")),l.xp6(3),l.Q6J("id","clearFormatting-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("removeFormat")),l.xp6(3),l.Q6J("id","toggleEditorMode-"+t.id)("hidden",t.isButtonHidden("toggleEditorMode"))}}const yy=["*"],Kd=["customButtons"],by=["editor"],ug=["editorWrapper"],O0=["editorToolbar"],vy=function(n){return{executeCommandFn:n}};function Cy(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"angular-editor-toolbar",8,9),l.NdJ("execute",function(o){l.CHM(t);const a=l.oxw();return l.KtG(a.executeCommand(o))}),l.GkF(2,10),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("id",t.id)("uploadUrl",t.config.uploadUrl)("upload",t.config.upload)("showToolbar",void 0===t.config.showToolbar||t.config.showToolbar)("fonts",t.getFonts())("customClasses",t.config.customClasses)("defaultFontName",t.config.defaultFontName)("defaultFontSize",t.config.defaultFontSize)("hiddenButtons",t.config.toolbarHiddenButtons),l.xp6(2),l.Q6J("ngTemplateOutlet",t.customButtonsTemplateRef)("ngTemplateOutletContext",l.VKq(11,vy,t.executeCommandFn))}}function wy(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"angular-editor-toolbar",8,9),l.NdJ("execute",function(o){l.CHM(t);const a=l.oxw();return l.KtG(a.executeCommand(o))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("id",t.id)("uploadUrl",t.config.uploadUrl)("upload",t.config.upload)("showToolbar",void 0===t.config.showToolbar||t.config.showToolbar)("fonts",t.getFonts())("customClasses",t.config.customClasses)("defaultFontName",t.config.defaultFontName)("defaultFontSize",t.config.defaultFontSize)("hiddenButtons",t.config.toolbarHiddenButtons)}}let fg=(()=>{class n{constructor(t,r){this.http=t,this.doc=r,this.saveSelection=()=>{if(this.doc.getSelection){const o=this.doc.getSelection();o.getRangeAt&&o.rangeCount&&(this.savedSelection=o.getRangeAt(0),this.selectedText=o.toString())}else this.savedSelection=this.doc.getSelection&&this.doc.createRange?document.createRange():null}}executeCommand(t,r){["h1","h2","h3","h4","h5","h6","p","pre"].includes(t)?this.doc.execCommand("formatBlock",!1,t):this.doc.execCommand(t,!1,r)}createLink(t){t.includes("http")?this.insertHtml('<a href="'+t+'" target="_blank">'+this.selectedText+"</a>"):this.doc.execCommand("createlink",!1,t)}insertColor(t,r){this.restoreSelection()&&this.doc.execCommand("textColor"===r?"foreColor":"hiliteColor",!1,t)}setFontName(t){this.doc.execCommand("fontName",!1,t)}setFontSize(t){this.doc.execCommand("fontSize",!1,t)}insertHtml(t){if(!this.doc.execCommand("insertHTML",!1,t))throw new Error("Unable to perform the operation")}restoreSelection(){if(!this.savedSelection)return!1;if(this.doc.getSelection){const t=this.doc.getSelection();return t.removeAllRanges(),t.addRange(this.savedSelection),!0}return!!this.doc.getSelection||void 0}executeInNextQueueIteration(t,r=100){setTimeout(t,r)}checkSelection(){if(0===this.savedSelection.toString().length)throw new Error("No Selection Made");return!0}uploadImage(t){const r=new FormData;return r.append("file",t,t.name),this.http.post(this.uploadUrl,r,{reportProgress:!0,observe:"events",withCredentials:this.uploadWithCredentials})}insertImage(t){this.doc.execCommand("insertImage",!1,t)}setDefaultParagraphSeparator(t){this.doc.execCommand("defaultParagraphSeparator",!1,t)}createCustomClass(t){let r=this.selectedText;if(t){const o=t.tag?t.tag:"span";r="<"+o+' class="'+t.class+'">'+this.selectedText+"</"+o+">"}this.insertHtml(r)}insertVideo(t){t.match("www.youtube.com")&&this.insertYouTubeVideoTag(t),t.match("vimeo.com")&&this.insertVimeoVideoTag(t)}insertYouTubeVideoTag(t){const o=`https://img.youtube.com/vi/${t.split("v=")[1]}/0.jpg`;this.insertHtml(`\n      <div style='position: relative'>\n        <a href='${t}' target='_blank'>\n          <img src="${o}" alt="click to watch"/>\n          <img style='position: absolute; left:200px; top:140px'\n          src="https://img.icons8.com/color/96/000000/youtube-play.png"/>\n        </a>\n      </div>`)}insertVimeoVideoTag(t){const r=this.http.get(`https://vimeo.com/api/oembed.json?url=${t}`).subscribe(o=>{this.insertHtml(`<div>\n        <a href='${t}' target='_blank'>\n          <img src="${o.thumbnail_url_with_play_button}" alt="${o.title}"/>\n        </a>\n      </div>`),r.unsubscribe()})}nextNode(t){if(t.hasChildNodes())return t.firstChild;for(;t&&!t.nextSibling;)t=t.parentNode;return t?t.nextSibling:null}getRangeSelectedNodes(t,r){let o=t.startContainer;const a=t.endContainer;let u=[];if(o===a)u=[o];else{for(;o&&o!==a;)u.push(o=this.nextNode(o));for(o=t.startContainer;o&&o!==t.commonAncestorContainer;)u.unshift(o),o=o.parentNode}if(r)for(o=t.commonAncestorContainer;o;)u.push(o),o=o.parentNode;return u}getSelectedNodes(){const t=[];if(this.doc.getSelection){const r=this.doc.getSelection();for(let o=0,a=r.rangeCount;o<a;++o)t.push.apply(t,this.getRangeSelectedNodes(r.getRangeAt(o),!0))}return t}replaceWithOwnChildren(t){const r=t.parentNode;for(;t.hasChildNodes();)r.insertBefore(t.firstChild,t);r.removeChild(t)}removeSelectedElements(t){const r=t.toLowerCase().split(",");this.getSelectedNodes().forEach(o=>{1===o.nodeType&&r.indexOf(o.tagName.toLowerCase())>-1&&this.replaceWithOwnChildren(o)})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(dy),l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Yd={editable:!0,spellcheck:!0,height:"auto",minHeight:"0",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",outline:!0};function S0(n){return null!=n}let ET=(()=>{class n{constructor(t,r){this.elRef=t,this.r=r,this.options=[],this.disabled=!1,this.optionId=0,this.opened=!1,this.hidden="inline-block",this.changeEvent=new l.vpe,this.onChange=()=>{},this.onTouched=()=>{}}get label(){return this.selectedOption&&this.selectedOption.hasOwnProperty("label")?this.selectedOption.label:"Select"}get value(){return this.selectedOption.value}ngOnInit(){this.selectedOption=this.options[0],S0(this.isHidden)&&this.isHidden&&this.hide()}hide(){this.hidden="none"}optionSelect(t,r){r.stopPropagation(),this.setValue(t.value),this.onChange(this.selectedOption.value),this.changeEvent.emit(this.selectedOption.value),this.onTouched(),this.opened=!1}toggleOpen(t){this.disabled||(this.opened=!this.opened)}onClick(t){this.elRef.nativeElement.contains(t.target)||this.close()}close(){this.opened=!1}get isOpen(){return this.opened}writeValue(t){!t||"string"!=typeof t||this.setValue(t)}setValue(t){let r=0;const o=this.options.find((a,u)=>(r=u,a.value===t));o&&(this.selectedOption=o,this.optionId=r)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.labelButton.nativeElement.disabled=t,this.r[t?"addClass":"removeClass"](this.labelButton.nativeElement,"disabled"),this.disabled=t}handleKeyDown(t){if(this.opened)switch(t.key){case"ArrowDown":this._handleArrowDown(t);break;case"ArrowUp":this._handleArrowUp(t);break;case"Space":this._handleSpace(t);break;case"Enter":this._handleEnter(t);break;case"Tab":this._handleTab(t);break;case"Escape":this.close(),t.preventDefault();break;case"Backspace":this._handleBackspace()}}_handleArrowDown(t){this.optionId<this.options.length-1&&this.optionId++}_handleArrowUp(t){this.optionId>=1&&this.optionId--}_handleSpace(t){}_handleEnter(t){this.optionSelect(this.options[this.optionId],t)}_handleTab(t){}_handleBackspace(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ae-select"]],viewQuery:function(t,r){if(1&t&&l.Gf(Qu,7),2&t){let o;l.iGM(o=l.CRH())&&(r.labelButton=o.first)}},hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(a){return r.onClick(a)},!1,l.evT)("keydown",function(a){return r.handleKeyDown(a)}),2&t&&l.Udp("display",r.hidden)},inputs:{options:"options",isHidden:["hidden","isHidden"]},outputs:{changeEvent:"change"},features:[l._Bn([{provide:Po,useExisting:(0,l.Gpc)(()=>n),multi:!0}])],decls:10,vars:7,consts:[[1,"ae-font","ae-picker",3,"ngClass"],["tabindex","0","type","button","role","button",1,"ae-picker-label",3,"tabIndex","click"],["labelButton",""],["viewBox","0 0 18 18"],["points","7 11 9 13 11 11 7 11",1,"ae-stroke"],["points","7 7 9 5 11 7 7 7",1,"ae-stroke"],[1,"ae-picker-options"],["tabindex","-1","type","button","role","button","class","ae-picker-item",3,"ngClass","click",4,"ngFor","ngForOf"],["class","dropdown-item",4,"ngIf"],["tabindex","-1","type","button","role","button",1,"ae-picker-item",3,"ngClass","click"],[1,"dropdown-item"]],template:function(t,r){1&t&&(l.TgZ(0,"span",0)(1,"button",1,2),l.NdJ("click",function(a){return r.toggleOpen(a)}),l._uU(3),l.O4$(),l.TgZ(4,"svg",3),l._UZ(5,"polygon",4)(6,"polygon",5),l.qZA()(),l.kcU(),l.TgZ(7,"span",6),l.YNc(8,vT,2,5,"button",7),l.YNc(9,D0,2,0,"span",8),l.qZA()()),2&t&&(l.Q6J("ngClass",l.VKq(5,CT,r.isOpen)),l.xp6(1),l.Q6J("tabIndex",-1),l.xp6(2),l.hij("",r.label," "),l.xp6(5),l.Q6J("ngForOf",r.options),l.xp6(1),l.Q6J("ngIf",!r.options.length))},dependencies:[qt,Xr,kr],styles:['.ae-font.ae-picker{color:#444;display:inline-block;float:left;width:100%;position:relative;vertical-align:middle}.ae-font .ae-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:10px;position:relative;width:100%;line-height:26px;vertical-align:middle;font-size:85%;text-align:left;background-color:#fff;min-width:2rem;float:left;border:1px solid #ddd;text-overflow:clip;overflow:hidden;white-space:nowrap}.ae-font .ae-picker-label:before{content:"";position:absolute;right:0;top:0;width:20px;height:100%;background:linear-gradient(to right,rgb(255,255,255),#ffffff 100%)}.ae-font .ae-picker-label:focus{outline:none}.ae-font .ae-picker-label:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.ae-font .ae-picker-label:hover:before{background:linear-gradient(to right,#f5f5f5 100%,#ffffff 100%)}.ae-font .ae-picker-label:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.ae-font .ae-picker-label:disabled:before{background:linear-gradient(to right,#f5f5f5 100%,#ffffff 100%)}.ae-font .ae-picker-label svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ae-font .ae-picker-label svg:not(:root){overflow:hidden}.ae-font .ae-picker-label svg .ae-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ae-font .ae-picker-options{background-color:#fff;display:none;min-width:100%;position:absolute;white-space:nowrap;z-index:3;border:1px solid transparent;box-shadow:#0003 0 2px 8px}.ae-font .ae-picker-options .ae-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px;padding-left:5px;z-index:3;text-align:left;background-color:transparent;min-width:2rem;width:100%;border:0 solid #ddd}.ae-font .ae-picker-options .ae-picker-item.selected{color:#06c;background-color:#fff4c2}.ae-font .ae-picker-options .ae-picker-item.focused,.ae-font .ae-picker-options .ae-picker-item:hover{background-color:#fffa98}.ae-font.ae-expanded{display:block;margin-top:-1px;z-index:1}.ae-font.ae-expanded .ae-picker-label{color:#ccc;z-index:2}.ae-font.ae-expanded .ae-picker-label svg{color:#ccc;z-index:2}.ae-font.ae-expanded .ae-picker-label svg .ae-stroke{stroke:#ccc}.ae-font.ae-expanded .ae-picker-options{display:block;margin-top:-1px;top:100%;z-index:3;border-color:#ccc}\n'],encapsulation:2}),n})(),A0=(()=>{class n{constructor(t,r,o,a){this.r=t,this.editorService=r,this.er=o,this.doc=a,this.htmlMode=!1,this.linkSelected=!1,this.block="default",this.fontName="Times New Roman",this.fontSize="3",this.headings=[{label:"Heading 1",value:"h1"},{label:"Heading 2",value:"h2"},{label:"Heading 3",value:"h3"},{label:"Heading 4",value:"h4"},{label:"Heading 5",value:"h5"},{label:"Heading 6",value:"h6"},{label:"Heading 7",value:"h7"},{label:"Paragraph",value:"p"},{label:"Predefined",value:"pre"},{label:"Standard",value:"div"},{label:"default",value:"default"}],this.fontSizes=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"}],this.customClassId="-1",this.customClassList=[{label:"",value:""}],this.tagMap={BLOCKQUOTE:"indent",A:"link"},this.select=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"],this.buttons=["bold","italic","underline","strikeThrough","subscript","superscript","justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent","insertUnorderedList","insertOrderedList","link"],this.fonts=[{label:"",value:""}],this.execute=new l.vpe}set customClasses(t){t&&(this._customClasses=t,this.customClassList=this._customClasses.map((r,o)=>({label:r.name,value:o.toString()})),this.customClassList.unshift({label:"Clear Class",value:"-1"}))}set defaultFontName(t){t&&(this.fontName=t)}set defaultFontSize(t){t&&(this.fontSize=t)}get isLinkButtonDisabled(){return this.htmlMode||!Boolean(this.editorService.selectedText)}triggerCommand(t){this.execute.emit(t)}triggerButtons(){this.showToolbar&&this.buttons.forEach(t=>{const r=this.doc.queryCommandState(t),o=this.doc.getElementById(t+"-"+this.id);r?this.r.addClass(o,"active"):this.r.removeClass(o,"active")})}triggerBlocks(t){if(!this.showToolbar)return;this.linkSelected=t.findIndex(o=>"A"===o.nodeName)>-1;let r=!1;this.select.forEach(o=>{const a=t.find(u=>u.nodeName===o);void 0!==a&&o===a.nodeName?!1===r&&(this.block=a.nodeName.toLowerCase(),r=!0):!1===r&&(this.block="default")}),r=!1,this._customClasses&&this._customClasses.forEach((o,a)=>{void 0!==t.find(h=>{if(h instanceof Element)return h.className===o.class})?!1===r&&(this.customClassId=a.toString(),r=!0):!1===r&&(this.customClassId="-1")}),Object.keys(this.tagMap).map(o=>{const a=this.doc.getElementById(this.tagMap[o]+"-"+this.id),u=t.find(h=>h.nodeName===o);void 0!==u&&o===u.nodeName?this.r.addClass(a,"active"):this.r.removeClass(a,"active")}),this.foreColour=this.doc.queryCommandValue("ForeColor"),this.fontSize=this.doc.queryCommandValue("FontSize"),this.fontName=this.doc.queryCommandValue("FontName").replace(/"/g,""),this.backColor=this.doc.queryCommandValue("backColor")}insertUrl(){let t="https://";const r=this.editorService.savedSelection;if(r&&"A"===r.commonAncestorContainer.parentElement.nodeName){const o=r.commonAncestorContainer.parentElement;""!==o.href&&(t=o.href)}t=prompt("Insert URL link",t),t&&""!==t&&"https://"!==t&&this.editorService.createLink(t)}insertVideo(){this.execute.emit("");const t=prompt("Insert Video link","https://");t&&""!==t&&"https://"!==t&&this.editorService.insertVideo(t)}insertColor(t,r){this.editorService.insertColor(t,r),this.execute.emit("")}setFontName(t){this.editorService.setFontName(t),this.execute.emit("")}setFontSize(t){this.editorService.setFontSize(t),this.execute.emit("")}setEditorMode(t){const r=this.doc.getElementById("toggleEditorMode-"+this.id);t?this.r.addClass(r,"active"):this.r.removeClass(r,"active"),this.htmlMode=t}onFileChanged(t){const r=t.target.files[0];if(r.type.includes("image/"))if(this.upload)this.upload(r).subscribe(o=>this.watchUploadImage(o,t));else if(this.uploadUrl)this.editorService.uploadImage(r).subscribe(o=>this.watchUploadImage(o,t));else{const o=new FileReader;o.onload=a=>{this.editorService.insertImage(a.currentTarget.result.toString())},o.readAsDataURL(r)}}watchUploadImage(t,r){const{imageUrl:o}=t.body;this.editorService.insertImage(o),r.srcElement.value=null}setCustomClass(t){"-1"===t?this.execute.emit("clear"):this.editorService.createCustomClass(this._customClasses[+t])}isButtonHidden(t){if(!(t&&this.hiddenButtons instanceof Array))return!1;let r;for(const o of this.hiddenButtons)if(o instanceof Array&&(r=o.find(a=>a===t)),r)break;return void 0!==r}focus(){this.execute.emit("focus"),console.log("focused")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(fg),l.Y36(l.SBq),l.Y36(se))},n.\u0275cmp=l.Xpm({type:n,selectors:[["angular-editor-toolbar"]],viewQuery:function(t,r){if(1&t&&l.Gf(wT,7),2&t){let o;l.iGM(o=l.CRH())&&(r.myInputFile=o.first)}},inputs:{id:"id",uploadUrl:"uploadUrl",upload:"upload",showToolbar:"showToolbar",fonts:"fonts",customClasses:"customClasses",defaultFontName:"defaultFontName",defaultFontSize:"defaultFontSize",hiddenButtons:"hiddenButtons"},outputs:{execute:"execute"},ngContentSelectors:yy,decls:1,vars:1,consts:[["class","angular-editor-toolbar",4,"ngIf"],[1,"angular-editor-toolbar"],[1,"angular-editor-toolbar-set"],["type","button","title","Undo","tabindex","-1",1,"angular-editor-button",3,"hidden","click"],[1,"fa","fa-undo"],["type","button","title","Redo","tabindex","-1",1,"angular-editor-button",3,"hidden","click"],[1,"fa","fa-repeat"],["type","button","title","Bold","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-bold"],["type","button","title","Italic","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-italic"],["type","button","title","Underline","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-underline"],["type","button","title","Strikethrough","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-strikethrough"],["type","button","title","Subscript","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-subscript"],["type","button","title","Superscript","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-superscript"],["type","button","title","Justify Left","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-left"],["type","button","title","Justify Center","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-center"],["type","button","title","Justify Right","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-right"],["type","button","title","Justify Full","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-justify"],["type","button","title","Indent","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-indent"],["type","button","title","Outdent","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-outdent"],["type","button","title","Unordered List","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-list-ul"],["type","button","title","Ordered List","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-list-ol"],["tabindex","-1",1,"select-heading",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["tabindex","-1",1,"select-font",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["tabindex","-1",1,"select-font-size",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["type","color",2,"display","none",3,"change"],["fgInput",""],["type","button","title","Text Color","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"color-label","foreground"],[1,"fa","fa-font"],["bgInput",""],["type","button","title","Background Color","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"color-label","background"],["class","angular-editor-toolbar-set",4,"ngIf"],["type","button","title","Insert Link","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-link"],["type","button","title","Unlink","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-chain-broken"],["accept","image/*","type","file",2,"display","none",3,"change"],["fileInput",""],["type","button","title","Insert Image","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-image"],["type","button","title","Insert Video","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-video-camera"],["type","button","title","Horizontal Line","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-minus"],["type","button","title","Clear Formatting","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-remove"],["type","button","title","HTML Code","tabindex","-1",1,"angular-editor-button",3,"id","hidden","click"],[1,"fa","fa-code"],["tabindex","-1",1,"select-custom-style",3,"options","ngModel","disabled","hidden","ngModelChange","change"]],template:function(t,r){1&t&&(l.F$t(),l.YNc(0,Ju,76,83,"div",0)),2&t&&l.Q6J("ngIf",r.showToolbar)},dependencies:[ET,kr,Ka,Hu],styles:['@font-face{font-family:FontAwesome;src:url(/assets/fonts/fontawesome-webfont.eot?v=4.7.0);src:url(/assets/fonts/fontawesome-webfont.eot?#iefix&v=4.7.0) format("embedded-opentype"),url(/assets/fonts/fontawesome-webfont.woff2?v=4.7.0) format("woff2"),url(/assets/fonts/fontawesome-webfont.woff?v=4.7.0) format("woff"),url(/assets/fonts/fontawesome-webfont.ttf?v=4.7.0) format("truetype"),url(/assets/fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular) format("svg");font-weight:400;font-style:normal}.fa[_ngcontent-%COMP%]{display:inline-block;font: 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg[_ngcontent-%COMP%]{font-size:1.3333333333em;line-height:.75em;vertical-align:-15%}.fa-2x[_ngcontent-%COMP%]{font-size:2em}.fa-3x[_ngcontent-%COMP%]{font-size:3em}.fa-4x[_ngcontent-%COMP%]{font-size:4em}.fa-5x[_ngcontent-%COMP%]{font-size:5em}.fa-fw[_ngcontent-%COMP%]{width:1.2857142857em;text-align:center}.fa-ul[_ngcontent-%COMP%]{padding-left:0;margin-left:2.1428571429em;list-style-type:none}.fa-ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}.fa-li[_ngcontent-%COMP%]{position:absolute;left:-2.1428571429em;width:2.1428571429em;top:.1428571429em;text-align:center}.fa-li.fa-lg[_ngcontent-%COMP%]{left:-1.8571428571em}.fa-border[_ngcontent-%COMP%]{padding:.2em .25em .15em;border:solid .08em #eee;border-radius:.1em}.fa-pull-left[_ngcontent-%COMP%]{float:left}.fa-pull-right[_ngcontent-%COMP%]{float:right}.fa.fa-pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.fa-pull-right[_ngcontent-%COMP%]{margin-left:.3em}.pull-right[_ngcontent-%COMP%]{float:right}.pull-left[_ngcontent-%COMP%]{float:left}.fa.pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.pull-right[_ngcontent-%COMP%]{margin-left:.3em}.fa-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fa-spin 2s infinite linear}.fa-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fa-spin 1s infinite steps(8)}@keyframes _ngcontent-%COMP%_fa-spin{0%{transform:rotate(0)}to{transform:rotate(359deg)}}.fa-rotate-90[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";transform:rotate(90deg)}.fa-rotate-180[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";transform:rotate(180deg)}.fa-rotate-270[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";transform:rotate(270deg)}.fa-flip-horizontal[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";transform:scaleX(-1)}.fa-flip-vertical[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";transform:scaleY(-1)}[_ngcontent-%COMP%]:root   .fa-rotate-90[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-180[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-270[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-flip-horizontal[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-flip-vertical[_ngcontent-%COMP%]{filter:none}.fa-stack[_ngcontent-%COMP%]{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x[_ngcontent-%COMP%], .fa-stack-2x[_ngcontent-%COMP%]{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x[_ngcontent-%COMP%]{line-height:inherit}.fa-stack-2x[_ngcontent-%COMP%]{font-size:2em}.fa-inverse[_ngcontent-%COMP%]{color:#fff}.fa-glass[_ngcontent-%COMP%]:before{content:"\\f000"}.fa-music[_ngcontent-%COMP%]:before{content:"\\f001"}.fa-search[_ngcontent-%COMP%]:before{content:"\\f002"}.fa-envelope-o[_ngcontent-%COMP%]:before{content:"\\f003"}.fa-heart[_ngcontent-%COMP%]:before{content:"\\f004"}.fa-star[_ngcontent-%COMP%]:before{content:"\\f005"}.fa-star-o[_ngcontent-%COMP%]:before{content:"\\f006"}.fa-user[_ngcontent-%COMP%]:before{content:"\\f007"}.fa-film[_ngcontent-%COMP%]:before{content:"\\f008"}.fa-th-large[_ngcontent-%COMP%]:before{content:"\\f009"}.fa-th[_ngcontent-%COMP%]:before{content:"\\f00a"}.fa-th-list[_ngcontent-%COMP%]:before{content:"\\f00b"}.fa-check[_ngcontent-%COMP%]:before{content:"\\f00c"}.fa-remove[_ngcontent-%COMP%]:before, .fa-close[_ngcontent-%COMP%]:before, .fa-times[_ngcontent-%COMP%]:before{content:"\\f00d"}.fa-search-plus[_ngcontent-%COMP%]:before{content:"\\f00e"}.fa-search-minus[_ngcontent-%COMP%]:before{content:"\\f010"}.fa-power-off[_ngcontent-%COMP%]:before{content:"\\f011"}.fa-signal[_ngcontent-%COMP%]:before{content:"\\f012"}.fa-gear[_ngcontent-%COMP%]:before, .fa-cog[_ngcontent-%COMP%]:before{content:"\\f013"}.fa-trash-o[_ngcontent-%COMP%]:before{content:"\\f014"}.fa-home[_ngcontent-%COMP%]:before{content:"\\f015"}.fa-file-o[_ngcontent-%COMP%]:before{content:"\\f016"}.fa-clock-o[_ngcontent-%COMP%]:before{content:"\\f017"}.fa-road[_ngcontent-%COMP%]:before{content:"\\f018"}.fa-download[_ngcontent-%COMP%]:before{content:"\\f019"}.fa-arrow-circle-o-down[_ngcontent-%COMP%]:before{content:"\\f01a"}.fa-arrow-circle-o-up[_ngcontent-%COMP%]:before{content:"\\f01b"}.fa-inbox[_ngcontent-%COMP%]:before{content:"\\f01c"}.fa-play-circle-o[_ngcontent-%COMP%]:before{content:"\\f01d"}.fa-rotate-right[_ngcontent-%COMP%]:before, .fa-repeat[_ngcontent-%COMP%]:before{content:"\\f01e"}.fa-refresh[_ngcontent-%COMP%]:before{content:"\\f021"}.fa-list-alt[_ngcontent-%COMP%]:before{content:"\\f022"}.fa-lock[_ngcontent-%COMP%]:before{content:"\\f023"}.fa-flag[_ngcontent-%COMP%]:before{content:"\\f024"}.fa-headphones[_ngcontent-%COMP%]:before{content:"\\f025"}.fa-volume-off[_ngcontent-%COMP%]:before{content:"\\f026"}.fa-volume-down[_ngcontent-%COMP%]:before{content:"\\f027"}.fa-volume-up[_ngcontent-%COMP%]:before{content:"\\f028"}.fa-qrcode[_ngcontent-%COMP%]:before{content:"\\f029"}.fa-barcode[_ngcontent-%COMP%]:before{content:"\\f02a"}.fa-tag[_ngcontent-%COMP%]:before{content:"\\f02b"}.fa-tags[_ngcontent-%COMP%]:before{content:"\\f02c"}.fa-book[_ngcontent-%COMP%]:before{content:"\\f02d"}.fa-bookmark[_ngcontent-%COMP%]:before{content:"\\f02e"}.fa-print[_ngcontent-%COMP%]:before{content:"\\f02f"}.fa-camera[_ngcontent-%COMP%]:before{content:"\\f030"}.fa-font[_ngcontent-%COMP%]:before{content:"\\f031"}.fa-bold[_ngcontent-%COMP%]:before{content:"\\f032"}.fa-italic[_ngcontent-%COMP%]:before{content:"\\f033"}.fa-text-height[_ngcontent-%COMP%]:before{content:"\\f034"}.fa-text-width[_ngcontent-%COMP%]:before{content:"\\f035"}.fa-align-left[_ngcontent-%COMP%]:before{content:"\\f036"}.fa-align-center[_ngcontent-%COMP%]:before{content:"\\f037"}.fa-align-right[_ngcontent-%COMP%]:before{content:"\\f038"}.fa-align-justify[_ngcontent-%COMP%]:before{content:"\\f039"}.fa-list[_ngcontent-%COMP%]:before{content:"\\f03a"}.fa-dedent[_ngcontent-%COMP%]:before, .fa-outdent[_ngcontent-%COMP%]:before{content:"\\f03b"}.fa-indent[_ngcontent-%COMP%]:before{content:"\\f03c"}.fa-video-camera[_ngcontent-%COMP%]:before{content:"\\f03d"}.fa-photo[_ngcontent-%COMP%]:before, .fa-image[_ngcontent-%COMP%]:before, .fa-picture-o[_ngcontent-%COMP%]:before{content:"\\f03e"}.fa-pencil[_ngcontent-%COMP%]:before{content:"\\f040"}.fa-map-marker[_ngcontent-%COMP%]:before{content:"\\f041"}.fa-adjust[_ngcontent-%COMP%]:before{content:"\\f042"}.fa-tint[_ngcontent-%COMP%]:before{content:"\\f043"}.fa-edit[_ngcontent-%COMP%]:before, .fa-pencil-square-o[_ngcontent-%COMP%]:before{content:"\\f044"}.fa-share-square-o[_ngcontent-%COMP%]:before{content:"\\f045"}.fa-check-square-o[_ngcontent-%COMP%]:before{content:"\\f046"}.fa-arrows[_ngcontent-%COMP%]:before{content:"\\f047"}.fa-step-backward[_ngcontent-%COMP%]:before{content:"\\f048"}.fa-fast-backward[_ngcontent-%COMP%]:before{content:"\\f049"}.fa-backward[_ngcontent-%COMP%]:before{content:"\\f04a"}.fa-play[_ngcontent-%COMP%]:before{content:"\\f04b"}.fa-pause[_ngcontent-%COMP%]:before{content:"\\f04c"}.fa-stop[_ngcontent-%COMP%]:before{content:"\\f04d"}.fa-forward[_ngcontent-%COMP%]:before{content:"\\f04e"}.fa-fast-forward[_ngcontent-%COMP%]:before{content:"\\f050"}.fa-step-forward[_ngcontent-%COMP%]:before{content:"\\f051"}.fa-eject[_ngcontent-%COMP%]:before{content:"\\f052"}.fa-chevron-left[_ngcontent-%COMP%]:before{content:"\\f053"}.fa-chevron-right[_ngcontent-%COMP%]:before{content:"\\f054"}.fa-plus-circle[_ngcontent-%COMP%]:before{content:"\\f055"}.fa-minus-circle[_ngcontent-%COMP%]:before{content:"\\f056"}.fa-times-circle[_ngcontent-%COMP%]:before{content:"\\f057"}.fa-check-circle[_ngcontent-%COMP%]:before{content:"\\f058"}.fa-question-circle[_ngcontent-%COMP%]:before{content:"\\f059"}.fa-info-circle[_ngcontent-%COMP%]:before{content:"\\f05a"}.fa-crosshairs[_ngcontent-%COMP%]:before{content:"\\f05b"}.fa-times-circle-o[_ngcontent-%COMP%]:before{content:"\\f05c"}.fa-check-circle-o[_ngcontent-%COMP%]:before{content:"\\f05d"}.fa-ban[_ngcontent-%COMP%]:before{content:"\\f05e"}.fa-arrow-left[_ngcontent-%COMP%]:before{content:"\\f060"}.fa-arrow-right[_ngcontent-%COMP%]:before{content:"\\f061"}.fa-arrow-up[_ngcontent-%COMP%]:before{content:"\\f062"}.fa-arrow-down[_ngcontent-%COMP%]:before{content:"\\f063"}.fa-mail-forward[_ngcontent-%COMP%]:before, .fa-share[_ngcontent-%COMP%]:before{content:"\\f064"}.fa-expand[_ngcontent-%COMP%]:before{content:"\\f065"}.fa-compress[_ngcontent-%COMP%]:before{content:"\\f066"}.fa-plus[_ngcontent-%COMP%]:before{content:"\\f067"}.fa-minus[_ngcontent-%COMP%]:before{content:"\\f068"}.fa-asterisk[_ngcontent-%COMP%]:before{content:"\\f069"}.fa-exclamation-circle[_ngcontent-%COMP%]:before{content:"\\f06a"}.fa-gift[_ngcontent-%COMP%]:before{content:"\\f06b"}.fa-leaf[_ngcontent-%COMP%]:before{content:"\\f06c"}.fa-fire[_ngcontent-%COMP%]:before{content:"\\f06d"}.fa-eye[_ngcontent-%COMP%]:before{content:"\\f06e"}.fa-eye-slash[_ngcontent-%COMP%]:before{content:"\\f070"}.fa-warning[_ngcontent-%COMP%]:before, .fa-exclamation-triangle[_ngcontent-%COMP%]:before{content:"\\f071"}.fa-plane[_ngcontent-%COMP%]:before{content:"\\f072"}.fa-calendar[_ngcontent-%COMP%]:before{content:"\\f073"}.fa-random[_ngcontent-%COMP%]:before{content:"\\f074"}.fa-comment[_ngcontent-%COMP%]:before{content:"\\f075"}.fa-magnet[_ngcontent-%COMP%]:before{content:"\\f076"}.fa-chevron-up[_ngcontent-%COMP%]:before{content:"\\f077"}.fa-chevron-down[_ngcontent-%COMP%]:before{content:"\\f078"}.fa-retweet[_ngcontent-%COMP%]:before{content:"\\f079"}.fa-shopping-cart[_ngcontent-%COMP%]:before{content:"\\f07a"}.fa-folder[_ngcontent-%COMP%]:before{content:"\\f07b"}.fa-folder-open[_ngcontent-%COMP%]:before{content:"\\f07c"}.fa-arrows-v[_ngcontent-%COMP%]:before{content:"\\f07d"}.fa-arrows-h[_ngcontent-%COMP%]:before{content:"\\f07e"}.fa-bar-chart-o[_ngcontent-%COMP%]:before, .fa-bar-chart[_ngcontent-%COMP%]:before{content:"\\f080"}.fa-twitter-square[_ngcontent-%COMP%]:before{content:"\\f081"}.fa-facebook-square[_ngcontent-%COMP%]:before{content:"\\f082"}.fa-camera-retro[_ngcontent-%COMP%]:before{content:"\\f083"}.fa-key[_ngcontent-%COMP%]:before{content:"\\f084"}.fa-gears[_ngcontent-%COMP%]:before, .fa-cogs[_ngcontent-%COMP%]:before{content:"\\f085"}.fa-comments[_ngcontent-%COMP%]:before{content:"\\f086"}.fa-thumbs-o-up[_ngcontent-%COMP%]:before{content:"\\f087"}.fa-thumbs-o-down[_ngcontent-%COMP%]:before{content:"\\f088"}.fa-star-half[_ngcontent-%COMP%]:before{content:"\\f089"}.fa-heart-o[_ngcontent-%COMP%]:before{content:"\\f08a"}.fa-sign-out[_ngcontent-%COMP%]:before{content:"\\f08b"}.fa-linkedin-square[_ngcontent-%COMP%]:before{content:"\\f08c"}.fa-thumb-tack[_ngcontent-%COMP%]:before{content:"\\f08d"}.fa-external-link[_ngcontent-%COMP%]:before{content:"\\f08e"}.fa-sign-in[_ngcontent-%COMP%]:before{content:"\\f090"}.fa-trophy[_ngcontent-%COMP%]:before{content:"\\f091"}.fa-github-square[_ngcontent-%COMP%]:before{content:"\\f092"}.fa-upload[_ngcontent-%COMP%]:before{content:"\\f093"}.fa-lemon-o[_ngcontent-%COMP%]:before{content:"\\f094"}.fa-phone[_ngcontent-%COMP%]:before{content:"\\f095"}.fa-square-o[_ngcontent-%COMP%]:before{content:"\\f096"}.fa-bookmark-o[_ngcontent-%COMP%]:before{content:"\\f097"}.fa-phone-square[_ngcontent-%COMP%]:before{content:"\\f098"}.fa-twitter[_ngcontent-%COMP%]:before{content:"\\f099"}.fa-facebook-f[_ngcontent-%COMP%]:before, .fa-facebook[_ngcontent-%COMP%]:before{content:"\\f09a"}.fa-github[_ngcontent-%COMP%]:before{content:"\\f09b"}.fa-unlock[_ngcontent-%COMP%]:before{content:"\\f09c"}.fa-credit-card[_ngcontent-%COMP%]:before{content:"\\f09d"}.fa-feed[_ngcontent-%COMP%]:before, .fa-rss[_ngcontent-%COMP%]:before{content:"\\f09e"}.fa-hdd-o[_ngcontent-%COMP%]:before{content:"\\f0a0"}.fa-bullhorn[_ngcontent-%COMP%]:before{content:"\\f0a1"}.fa-bell[_ngcontent-%COMP%]:before{content:"\\f0f3"}.fa-certificate[_ngcontent-%COMP%]:before{content:"\\f0a3"}.fa-hand-o-right[_ngcontent-%COMP%]:before{content:"\\f0a4"}.fa-hand-o-left[_ngcontent-%COMP%]:before{content:"\\f0a5"}.fa-hand-o-up[_ngcontent-%COMP%]:before{content:"\\f0a6"}.fa-hand-o-down[_ngcontent-%COMP%]:before{content:"\\f0a7"}.fa-arrow-circle-left[_ngcontent-%COMP%]:before{content:"\\f0a8"}.fa-arrow-circle-right[_ngcontent-%COMP%]:before{content:"\\f0a9"}.fa-arrow-circle-up[_ngcontent-%COMP%]:before{content:"\\f0aa"}.fa-arrow-circle-down[_ngcontent-%COMP%]:before{content:"\\f0ab"}.fa-globe[_ngcontent-%COMP%]:before{content:"\\f0ac"}.fa-wrench[_ngcontent-%COMP%]:before{content:"\\f0ad"}.fa-tasks[_ngcontent-%COMP%]:before{content:"\\f0ae"}.fa-filter[_ngcontent-%COMP%]:before{content:"\\f0b0"}.fa-briefcase[_ngcontent-%COMP%]:before{content:"\\f0b1"}.fa-arrows-alt[_ngcontent-%COMP%]:before{content:"\\f0b2"}.fa-group[_ngcontent-%COMP%]:before, .fa-users[_ngcontent-%COMP%]:before{content:"\\f0c0"}.fa-chain[_ngcontent-%COMP%]:before, .fa-link[_ngcontent-%COMP%]:before{content:"\\f0c1"}.fa-cloud[_ngcontent-%COMP%]:before{content:"\\f0c2"}.fa-flask[_ngcontent-%COMP%]:before{content:"\\f0c3"}.fa-cut[_ngcontent-%COMP%]:before, .fa-scissors[_ngcontent-%COMP%]:before{content:"\\f0c4"}.fa-copy[_ngcontent-%COMP%]:before, .fa-files-o[_ngcontent-%COMP%]:before{content:"\\f0c5"}.fa-paperclip[_ngcontent-%COMP%]:before{content:"\\f0c6"}.fa-save[_ngcontent-%COMP%]:before, .fa-floppy-o[_ngcontent-%COMP%]:before{content:"\\f0c7"}.fa-square[_ngcontent-%COMP%]:before{content:"\\f0c8"}.fa-navicon[_ngcontent-%COMP%]:before, .fa-reorder[_ngcontent-%COMP%]:before, .fa-bars[_ngcontent-%COMP%]:before{content:"\\f0c9"}.fa-list-ul[_ngcontent-%COMP%]:before{content:"\\f0ca"}.fa-list-ol[_ngcontent-%COMP%]:before{content:"\\f0cb"}.fa-strikethrough[_ngcontent-%COMP%]:before{content:"\\f0cc"}.fa-underline[_ngcontent-%COMP%]:before{content:"\\f0cd"}.fa-table[_ngcontent-%COMP%]:before{content:"\\f0ce"}.fa-magic[_ngcontent-%COMP%]:before{content:"\\f0d0"}.fa-truck[_ngcontent-%COMP%]:before{content:"\\f0d1"}.fa-pinterest[_ngcontent-%COMP%]:before{content:"\\f0d2"}.fa-pinterest-square[_ngcontent-%COMP%]:before{content:"\\f0d3"}.fa-google-plus-square[_ngcontent-%COMP%]:before{content:"\\f0d4"}.fa-google-plus[_ngcontent-%COMP%]:before{content:"\\f0d5"}.fa-money[_ngcontent-%COMP%]:before{content:"\\f0d6"}.fa-caret-down[_ngcontent-%COMP%]:before{content:"\\f0d7"}.fa-caret-up[_ngcontent-%COMP%]:before{content:"\\f0d8"}.fa-caret-left[_ngcontent-%COMP%]:before{content:"\\f0d9"}.fa-caret-right[_ngcontent-%COMP%]:before{content:"\\f0da"}.fa-columns[_ngcontent-%COMP%]:before{content:"\\f0db"}.fa-unsorted[_ngcontent-%COMP%]:before, .fa-sort[_ngcontent-%COMP%]:before{content:"\\f0dc"}.fa-sort-down[_ngcontent-%COMP%]:before, .fa-sort-desc[_ngcontent-%COMP%]:before{content:"\\f0dd"}.fa-sort-up[_ngcontent-%COMP%]:before, .fa-sort-asc[_ngcontent-%COMP%]:before{content:"\\f0de"}.fa-envelope[_ngcontent-%COMP%]:before{content:"\\f0e0"}.fa-linkedin[_ngcontent-%COMP%]:before{content:"\\f0e1"}.fa-rotate-left[_ngcontent-%COMP%]:before, .fa-undo[_ngcontent-%COMP%]:before{content:"\\f0e2"}.fa-legal[_ngcontent-%COMP%]:before, .fa-gavel[_ngcontent-%COMP%]:before{content:"\\f0e3"}.fa-dashboard[_ngcontent-%COMP%]:before, .fa-tachometer[_ngcontent-%COMP%]:before{content:"\\f0e4"}.fa-comment-o[_ngcontent-%COMP%]:before{content:"\\f0e5"}.fa-comments-o[_ngcontent-%COMP%]:before{content:"\\f0e6"}.fa-flash[_ngcontent-%COMP%]:before, .fa-bolt[_ngcontent-%COMP%]:before{content:"\\f0e7"}.fa-sitemap[_ngcontent-%COMP%]:before{content:"\\f0e8"}.fa-umbrella[_ngcontent-%COMP%]:before{content:"\\f0e9"}.fa-paste[_ngcontent-%COMP%]:before, .fa-clipboard[_ngcontent-%COMP%]:before{content:"\\f0ea"}.fa-lightbulb-o[_ngcontent-%COMP%]:before{content:"\\f0eb"}.fa-exchange[_ngcontent-%COMP%]:before{content:"\\f0ec"}.fa-cloud-download[_ngcontent-%COMP%]:before{content:"\\f0ed"}.fa-cloud-upload[_ngcontent-%COMP%]:before{content:"\\f0ee"}.fa-user-md[_ngcontent-%COMP%]:before{content:"\\f0f0"}.fa-stethoscope[_ngcontent-%COMP%]:before{content:"\\f0f1"}.fa-suitcase[_ngcontent-%COMP%]:before{content:"\\f0f2"}.fa-bell-o[_ngcontent-%COMP%]:before{content:"\\f0a2"}.fa-coffee[_ngcontent-%COMP%]:before{content:"\\f0f4"}.fa-cutlery[_ngcontent-%COMP%]:before{content:"\\f0f5"}.fa-file-text-o[_ngcontent-%COMP%]:before{content:"\\f0f6"}.fa-building-o[_ngcontent-%COMP%]:before{content:"\\f0f7"}.fa-hospital-o[_ngcontent-%COMP%]:before{content:"\\f0f8"}.fa-ambulance[_ngcontent-%COMP%]:before{content:"\\f0f9"}.fa-medkit[_ngcontent-%COMP%]:before{content:"\\f0fa"}.fa-fighter-jet[_ngcontent-%COMP%]:before{content:"\\f0fb"}.fa-beer[_ngcontent-%COMP%]:before{content:"\\f0fc"}.fa-h-square[_ngcontent-%COMP%]:before{content:"\\f0fd"}.fa-plus-square[_ngcontent-%COMP%]:before{content:"\\f0fe"}.fa-angle-double-left[_ngcontent-%COMP%]:before{content:"\\f100"}.fa-angle-double-right[_ngcontent-%COMP%]:before{content:"\\f101"}.fa-angle-double-up[_ngcontent-%COMP%]:before{content:"\\f102"}.fa-angle-double-down[_ngcontent-%COMP%]:before{content:"\\f103"}.fa-angle-left[_ngcontent-%COMP%]:before{content:"\\f104"}.fa-angle-right[_ngcontent-%COMP%]:before{content:"\\f105"}.fa-angle-up[_ngcontent-%COMP%]:before{content:"\\f106"}.fa-angle-down[_ngcontent-%COMP%]:before{content:"\\f107"}.fa-desktop[_ngcontent-%COMP%]:before{content:"\\f108"}.fa-laptop[_ngcontent-%COMP%]:before{content:"\\f109"}.fa-tablet[_ngcontent-%COMP%]:before{content:"\\f10a"}.fa-mobile-phone[_ngcontent-%COMP%]:before, .fa-mobile[_ngcontent-%COMP%]:before{content:"\\f10b"}.fa-circle-o[_ngcontent-%COMP%]:before{content:"\\f10c"}.fa-quote-left[_ngcontent-%COMP%]:before{content:"\\f10d"}.fa-quote-right[_ngcontent-%COMP%]:before{content:"\\f10e"}.fa-spinner[_ngcontent-%COMP%]:before{content:"\\f110"}.fa-circle[_ngcontent-%COMP%]:before{content:"\\f111"}.fa-mail-reply[_ngcontent-%COMP%]:before, .fa-reply[_ngcontent-%COMP%]:before{content:"\\f112"}.fa-github-alt[_ngcontent-%COMP%]:before{content:"\\f113"}.fa-folder-o[_ngcontent-%COMP%]:before{content:"\\f114"}.fa-folder-open-o[_ngcontent-%COMP%]:before{content:"\\f115"}.fa-smile-o[_ngcontent-%COMP%]:before{content:"\\f118"}.fa-frown-o[_ngcontent-%COMP%]:before{content:"\\f119"}.fa-meh-o[_ngcontent-%COMP%]:before{content:"\\f11a"}.fa-gamepad[_ngcontent-%COMP%]:before{content:"\\f11b"}.fa-keyboard-o[_ngcontent-%COMP%]:before{content:"\\f11c"}.fa-flag-o[_ngcontent-%COMP%]:before{content:"\\f11d"}.fa-flag-checkered[_ngcontent-%COMP%]:before{content:"\\f11e"}.fa-terminal[_ngcontent-%COMP%]:before{content:"\\f120"}.fa-code[_ngcontent-%COMP%]:before{content:"\\f121"}.fa-mail-reply-all[_ngcontent-%COMP%]:before, .fa-reply-all[_ngcontent-%COMP%]:before{content:"\\f122"}.fa-star-half-empty[_ngcontent-%COMP%]:before, .fa-star-half-full[_ngcontent-%COMP%]:before, .fa-star-half-o[_ngcontent-%COMP%]:before{content:"\\f123"}.fa-location-arrow[_ngcontent-%COMP%]:before{content:"\\f124"}.fa-crop[_ngcontent-%COMP%]:before{content:"\\f125"}.fa-code-fork[_ngcontent-%COMP%]:before{content:"\\f126"}.fa-unlink[_ngcontent-%COMP%]:before, .fa-chain-broken[_ngcontent-%COMP%]:before{content:"\\f127"}.fa-question[_ngcontent-%COMP%]:before{content:"\\f128"}.fa-info[_ngcontent-%COMP%]:before{content:"\\f129"}.fa-exclamation[_ngcontent-%COMP%]:before{content:"\\f12a"}.fa-superscript[_ngcontent-%COMP%]:before{content:"\\f12b"}.fa-subscript[_ngcontent-%COMP%]:before{content:"\\f12c"}.fa-eraser[_ngcontent-%COMP%]:before{content:"\\f12d"}.fa-puzzle-piece[_ngcontent-%COMP%]:before{content:"\\f12e"}.fa-microphone[_ngcontent-%COMP%]:before{content:"\\f130"}.fa-microphone-slash[_ngcontent-%COMP%]:before{content:"\\f131"}.fa-shield[_ngcontent-%COMP%]:before{content:"\\f132"}.fa-calendar-o[_ngcontent-%COMP%]:before{content:"\\f133"}.fa-fire-extinguisher[_ngcontent-%COMP%]:before{content:"\\f134"}.fa-rocket[_ngcontent-%COMP%]:before{content:"\\f135"}.fa-maxcdn[_ngcontent-%COMP%]:before{content:"\\f136"}.fa-chevron-circle-left[_ngcontent-%COMP%]:before{content:"\\f137"}.fa-chevron-circle-right[_ngcontent-%COMP%]:before{content:"\\f138"}.fa-chevron-circle-up[_ngcontent-%COMP%]:before{content:"\\f139"}.fa-chevron-circle-down[_ngcontent-%COMP%]:before{content:"\\f13a"}.fa-html5[_ngcontent-%COMP%]:before{content:"\\f13b"}.fa-css3[_ngcontent-%COMP%]:before{content:"\\f13c"}.fa-anchor[_ngcontent-%COMP%]:before{content:"\\f13d"}.fa-unlock-alt[_ngcontent-%COMP%]:before{content:"\\f13e"}.fa-bullseye[_ngcontent-%COMP%]:before{content:"\\f140"}.fa-ellipsis-h[_ngcontent-%COMP%]:before{content:"\\f141"}.fa-ellipsis-v[_ngcontent-%COMP%]:before{content:"\\f142"}.fa-rss-square[_ngcontent-%COMP%]:before{content:"\\f143"}.fa-play-circle[_ngcontent-%COMP%]:before{content:"\\f144"}.fa-ticket[_ngcontent-%COMP%]:before{content:"\\f145"}.fa-minus-square[_ngcontent-%COMP%]:before{content:"\\f146"}.fa-minus-square-o[_ngcontent-%COMP%]:before{content:"\\f147"}.fa-level-up[_ngcontent-%COMP%]:before{content:"\\f148"}.fa-level-down[_ngcontent-%COMP%]:before{content:"\\f149"}.fa-check-square[_ngcontent-%COMP%]:before{content:"\\f14a"}.fa-pencil-square[_ngcontent-%COMP%]:before{content:"\\f14b"}.fa-external-link-square[_ngcontent-%COMP%]:before{content:"\\f14c"}.fa-share-square[_ngcontent-%COMP%]:before{content:"\\f14d"}.fa-compass[_ngcontent-%COMP%]:before{content:"\\f14e"}.fa-toggle-down[_ngcontent-%COMP%]:before, .fa-caret-square-o-down[_ngcontent-%COMP%]:before{content:"\\f150"}.fa-toggle-up[_ngcontent-%COMP%]:before, .fa-caret-square-o-up[_ngcontent-%COMP%]:before{content:"\\f151"}.fa-toggle-right[_ngcontent-%COMP%]:before, .fa-caret-square-o-right[_ngcontent-%COMP%]:before{content:"\\f152"}.fa-euro[_ngcontent-%COMP%]:before, .fa-eur[_ngcontent-%COMP%]:before{content:"\\f153"}.fa-gbp[_ngcontent-%COMP%]:before{content:"\\f154"}.fa-dollar[_ngcontent-%COMP%]:before, .fa-usd[_ngcontent-%COMP%]:before{content:"\\f155"}.fa-rupee[_ngcontent-%COMP%]:before, .fa-inr[_ngcontent-%COMP%]:before{content:"\\f156"}.fa-cny[_ngcontent-%COMP%]:before, .fa-rmb[_ngcontent-%COMP%]:before, .fa-yen[_ngcontent-%COMP%]:before, .fa-jpy[_ngcontent-%COMP%]:before{content:"\\f157"}.fa-ruble[_ngcontent-%COMP%]:before, .fa-rouble[_ngcontent-%COMP%]:before, .fa-rub[_ngcontent-%COMP%]:before{content:"\\f158"}.fa-won[_ngcontent-%COMP%]:before, .fa-krw[_ngcontent-%COMP%]:before{content:"\\f159"}.fa-bitcoin[_ngcontent-%COMP%]:before, .fa-btc[_ngcontent-%COMP%]:before{content:"\\f15a"}.fa-file[_ngcontent-%COMP%]:before{content:"\\f15b"}.fa-file-text[_ngcontent-%COMP%]:before{content:"\\f15c"}.fa-sort-alpha-asc[_ngcontent-%COMP%]:before{content:"\\f15d"}.fa-sort-alpha-desc[_ngcontent-%COMP%]:before{content:"\\f15e"}.fa-sort-amount-asc[_ngcontent-%COMP%]:before{content:"\\f160"}.fa-sort-amount-desc[_ngcontent-%COMP%]:before{content:"\\f161"}.fa-sort-numeric-asc[_ngcontent-%COMP%]:before{content:"\\f162"}.fa-sort-numeric-desc[_ngcontent-%COMP%]:before{content:"\\f163"}.fa-thumbs-up[_ngcontent-%COMP%]:before{content:"\\f164"}.fa-thumbs-down[_ngcontent-%COMP%]:before{content:"\\f165"}.fa-youtube-square[_ngcontent-%COMP%]:before{content:"\\f166"}.fa-youtube[_ngcontent-%COMP%]:before{content:"\\f167"}.fa-xing[_ngcontent-%COMP%]:before{content:"\\f168"}.fa-xing-square[_ngcontent-%COMP%]:before{content:"\\f169"}.fa-youtube-play[_ngcontent-%COMP%]:before{content:"\\f16a"}.fa-dropbox[_ngcontent-%COMP%]:before{content:"\\f16b"}.fa-stack-overflow[_ngcontent-%COMP%]:before{content:"\\f16c"}.fa-instagram[_ngcontent-%COMP%]:before{content:"\\f16d"}.fa-flickr[_ngcontent-%COMP%]:before{content:"\\f16e"}.fa-adn[_ngcontent-%COMP%]:before{content:"\\f170"}.fa-bitbucket[_ngcontent-%COMP%]:before{content:"\\f171"}.fa-bitbucket-square[_ngcontent-%COMP%]:before{content:"\\f172"}.fa-tumblr[_ngcontent-%COMP%]:before{content:"\\f173"}.fa-tumblr-square[_ngcontent-%COMP%]:before{content:"\\f174"}.fa-long-arrow-down[_ngcontent-%COMP%]:before{content:"\\f175"}.fa-long-arrow-up[_ngcontent-%COMP%]:before{content:"\\f176"}.fa-long-arrow-left[_ngcontent-%COMP%]:before{content:"\\f177"}.fa-long-arrow-right[_ngcontent-%COMP%]:before{content:"\\f178"}.fa-apple[_ngcontent-%COMP%]:before{content:"\\f179"}.fa-windows[_ngcontent-%COMP%]:before{content:"\\f17a"}.fa-android[_ngcontent-%COMP%]:before{content:"\\f17b"}.fa-linux[_ngcontent-%COMP%]:before{content:"\\f17c"}.fa-dribbble[_ngcontent-%COMP%]:before{content:"\\f17d"}.fa-skype[_ngcontent-%COMP%]:before{content:"\\f17e"}.fa-foursquare[_ngcontent-%COMP%]:before{content:"\\f180"}.fa-trello[_ngcontent-%COMP%]:before{content:"\\f181"}.fa-female[_ngcontent-%COMP%]:before{content:"\\f182"}.fa-male[_ngcontent-%COMP%]:before{content:"\\f183"}.fa-gittip[_ngcontent-%COMP%]:before, .fa-gratipay[_ngcontent-%COMP%]:before{content:"\\f184"}.fa-sun-o[_ngcontent-%COMP%]:before{content:"\\f185"}.fa-moon-o[_ngcontent-%COMP%]:before{content:"\\f186"}.fa-archive[_ngcontent-%COMP%]:before{content:"\\f187"}.fa-bug[_ngcontent-%COMP%]:before{content:"\\f188"}.fa-vk[_ngcontent-%COMP%]:before{content:"\\f189"}.fa-weibo[_ngcontent-%COMP%]:before{content:"\\f18a"}.fa-renren[_ngcontent-%COMP%]:before{content:"\\f18b"}.fa-pagelines[_ngcontent-%COMP%]:before{content:"\\f18c"}.fa-stack-exchange[_ngcontent-%COMP%]:before{content:"\\f18d"}.fa-arrow-circle-o-right[_ngcontent-%COMP%]:before{content:"\\f18e"}.fa-arrow-circle-o-left[_ngcontent-%COMP%]:before{content:"\\f190"}.fa-toggle-left[_ngcontent-%COMP%]:before, .fa-caret-square-o-left[_ngcontent-%COMP%]:before{content:"\\f191"}.fa-dot-circle-o[_ngcontent-%COMP%]:before{content:"\\f192"}.fa-wheelchair[_ngcontent-%COMP%]:before{content:"\\f193"}.fa-vimeo-square[_ngcontent-%COMP%]:before{content:"\\f194"}.fa-turkish-lira[_ngcontent-%COMP%]:before, .fa-try[_ngcontent-%COMP%]:before{content:"\\f195"}.fa-plus-square-o[_ngcontent-%COMP%]:before{content:"\\f196"}.fa-space-shuttle[_ngcontent-%COMP%]:before{content:"\\f197"}.fa-slack[_ngcontent-%COMP%]:before{content:"\\f198"}.fa-envelope-square[_ngcontent-%COMP%]:before{content:"\\f199"}.fa-wordpress[_ngcontent-%COMP%]:before{content:"\\f19a"}.fa-openid[_ngcontent-%COMP%]:before{content:"\\f19b"}.fa-institution[_ngcontent-%COMP%]:before, .fa-bank[_ngcontent-%COMP%]:before, .fa-university[_ngcontent-%COMP%]:before{content:"\\f19c"}.fa-mortar-board[_ngcontent-%COMP%]:before, .fa-graduation-cap[_ngcontent-%COMP%]:before{content:"\\f19d"}.fa-yahoo[_ngcontent-%COMP%]:before{content:"\\f19e"}.fa-google[_ngcontent-%COMP%]:before{content:"\\f1a0"}.fa-reddit[_ngcontent-%COMP%]:before{content:"\\f1a1"}.fa-reddit-square[_ngcontent-%COMP%]:before{content:"\\f1a2"}.fa-stumbleupon-circle[_ngcontent-%COMP%]:before{content:"\\f1a3"}.fa-stumbleupon[_ngcontent-%COMP%]:before{content:"\\f1a4"}.fa-delicious[_ngcontent-%COMP%]:before{content:"\\f1a5"}.fa-digg[_ngcontent-%COMP%]:before{content:"\\f1a6"}.fa-pied-piper-pp[_ngcontent-%COMP%]:before{content:"\\f1a7"}.fa-pied-piper-alt[_ngcontent-%COMP%]:before{content:"\\f1a8"}.fa-drupal[_ngcontent-%COMP%]:before{content:"\\f1a9"}.fa-joomla[_ngcontent-%COMP%]:before{content:"\\f1aa"}.fa-language[_ngcontent-%COMP%]:before{content:"\\f1ab"}.fa-fax[_ngcontent-%COMP%]:before{content:"\\f1ac"}.fa-building[_ngcontent-%COMP%]:before{content:"\\f1ad"}.fa-child[_ngcontent-%COMP%]:before{content:"\\f1ae"}.fa-paw[_ngcontent-%COMP%]:before{content:"\\f1b0"}.fa-spoon[_ngcontent-%COMP%]:before{content:"\\f1b1"}.fa-cube[_ngcontent-%COMP%]:before{content:"\\f1b2"}.fa-cubes[_ngcontent-%COMP%]:before{content:"\\f1b3"}.fa-behance[_ngcontent-%COMP%]:before{content:"\\f1b4"}.fa-behance-square[_ngcontent-%COMP%]:before{content:"\\f1b5"}.fa-steam[_ngcontent-%COMP%]:before{content:"\\f1b6"}.fa-steam-square[_ngcontent-%COMP%]:before{content:"\\f1b7"}.fa-recycle[_ngcontent-%COMP%]:before{content:"\\f1b8"}.fa-automobile[_ngcontent-%COMP%]:before, .fa-car[_ngcontent-%COMP%]:before{content:"\\f1b9"}.fa-cab[_ngcontent-%COMP%]:before, .fa-taxi[_ngcontent-%COMP%]:before{content:"\\f1ba"}.fa-tree[_ngcontent-%COMP%]:before{content:"\\f1bb"}.fa-spotify[_ngcontent-%COMP%]:before{content:"\\f1bc"}.fa-deviantart[_ngcontent-%COMP%]:before{content:"\\f1bd"}.fa-soundcloud[_ngcontent-%COMP%]:before{content:"\\f1be"}.fa-database[_ngcontent-%COMP%]:before{content:"\\f1c0"}.fa-file-pdf-o[_ngcontent-%COMP%]:before{content:"\\f1c1"}.fa-file-word-o[_ngcontent-%COMP%]:before{content:"\\f1c2"}.fa-file-excel-o[_ngcontent-%COMP%]:before{content:"\\f1c3"}.fa-file-powerpoint-o[_ngcontent-%COMP%]:before{content:"\\f1c4"}.fa-file-photo-o[_ngcontent-%COMP%]:before, .fa-file-picture-o[_ngcontent-%COMP%]:before, .fa-file-image-o[_ngcontent-%COMP%]:before{content:"\\f1c5"}.fa-file-zip-o[_ngcontent-%COMP%]:before, .fa-file-archive-o[_ngcontent-%COMP%]:before{content:"\\f1c6"}.fa-file-sound-o[_ngcontent-%COMP%]:before, .fa-file-audio-o[_ngcontent-%COMP%]:before{content:"\\f1c7"}.fa-file-movie-o[_ngcontent-%COMP%]:before, .fa-file-video-o[_ngcontent-%COMP%]:before{content:"\\f1c8"}.fa-file-code-o[_ngcontent-%COMP%]:before{content:"\\f1c9"}.fa-vine[_ngcontent-%COMP%]:before{content:"\\f1ca"}.fa-codepen[_ngcontent-%COMP%]:before{content:"\\f1cb"}.fa-jsfiddle[_ngcontent-%COMP%]:before{content:"\\f1cc"}.fa-life-bouy[_ngcontent-%COMP%]:before, .fa-life-buoy[_ngcontent-%COMP%]:before, .fa-life-saver[_ngcontent-%COMP%]:before, .fa-support[_ngcontent-%COMP%]:before, .fa-life-ring[_ngcontent-%COMP%]:before{content:"\\f1cd"}.fa-circle-o-notch[_ngcontent-%COMP%]:before{content:"\\f1ce"}.fa-ra[_ngcontent-%COMP%]:before, .fa-resistance[_ngcontent-%COMP%]:before, .fa-rebel[_ngcontent-%COMP%]:before{content:"\\f1d0"}.fa-ge[_ngcontent-%COMP%]:before, .fa-empire[_ngcontent-%COMP%]:before{content:"\\f1d1"}.fa-git-square[_ngcontent-%COMP%]:before{content:"\\f1d2"}.fa-git[_ngcontent-%COMP%]:before{content:"\\f1d3"}.fa-y-combinator-square[_ngcontent-%COMP%]:before, .fa-yc-square[_ngcontent-%COMP%]:before, .fa-hacker-news[_ngcontent-%COMP%]:before{content:"\\f1d4"}.fa-tencent-weibo[_ngcontent-%COMP%]:before{content:"\\f1d5"}.fa-qq[_ngcontent-%COMP%]:before{content:"\\f1d6"}.fa-wechat[_ngcontent-%COMP%]:before, .fa-weixin[_ngcontent-%COMP%]:before{content:"\\f1d7"}.fa-send[_ngcontent-%COMP%]:before, .fa-paper-plane[_ngcontent-%COMP%]:before{content:"\\f1d8"}.fa-send-o[_ngcontent-%COMP%]:before, .fa-paper-plane-o[_ngcontent-%COMP%]:before{content:"\\f1d9"}.fa-history[_ngcontent-%COMP%]:before{content:"\\f1da"}.fa-circle-thin[_ngcontent-%COMP%]:before{content:"\\f1db"}.fa-header[_ngcontent-%COMP%]:before{content:"\\f1dc"}.fa-paragraph[_ngcontent-%COMP%]:before{content:"\\f1dd"}.fa-sliders[_ngcontent-%COMP%]:before{content:"\\f1de"}.fa-share-alt[_ngcontent-%COMP%]:before{content:"\\f1e0"}.fa-share-alt-square[_ngcontent-%COMP%]:before{content:"\\f1e1"}.fa-bomb[_ngcontent-%COMP%]:before{content:"\\f1e2"}.fa-soccer-ball-o[_ngcontent-%COMP%]:before, .fa-futbol-o[_ngcontent-%COMP%]:before{content:"\\f1e3"}.fa-tty[_ngcontent-%COMP%]:before{content:"\\f1e4"}.fa-binoculars[_ngcontent-%COMP%]:before{content:"\\f1e5"}.fa-plug[_ngcontent-%COMP%]:before{content:"\\f1e6"}.fa-slideshare[_ngcontent-%COMP%]:before{content:"\\f1e7"}.fa-twitch[_ngcontent-%COMP%]:before{content:"\\f1e8"}.fa-yelp[_ngcontent-%COMP%]:before{content:"\\f1e9"}.fa-newspaper-o[_ngcontent-%COMP%]:before{content:"\\f1ea"}.fa-wifi[_ngcontent-%COMP%]:before{content:"\\f1eb"}.fa-calculator[_ngcontent-%COMP%]:before{content:"\\f1ec"}.fa-paypal[_ngcontent-%COMP%]:before{content:"\\f1ed"}.fa-google-wallet[_ngcontent-%COMP%]:before{content:"\\f1ee"}.fa-cc-visa[_ngcontent-%COMP%]:before{content:"\\f1f0"}.fa-cc-mastercard[_ngcontent-%COMP%]:before{content:"\\f1f1"}.fa-cc-discover[_ngcontent-%COMP%]:before{content:"\\f1f2"}.fa-cc-amex[_ngcontent-%COMP%]:before{content:"\\f1f3"}.fa-cc-paypal[_ngcontent-%COMP%]:before{content:"\\f1f4"}.fa-cc-stripe[_ngcontent-%COMP%]:before{content:"\\f1f5"}.fa-bell-slash[_ngcontent-%COMP%]:before{content:"\\f1f6"}.fa-bell-slash-o[_ngcontent-%COMP%]:before{content:"\\f1f7"}.fa-trash[_ngcontent-%COMP%]:before{content:"\\f1f8"}.fa-copyright[_ngcontent-%COMP%]:before{content:"\\f1f9"}.fa-at[_ngcontent-%COMP%]:before{content:"\\f1fa"}.fa-eyedropper[_ngcontent-%COMP%]:before{content:"\\f1fb"}.fa-paint-brush[_ngcontent-%COMP%]:before{content:"\\f1fc"}.fa-birthday-cake[_ngcontent-%COMP%]:before{content:"\\f1fd"}.fa-area-chart[_ngcontent-%COMP%]:before{content:"\\f1fe"}.fa-pie-chart[_ngcontent-%COMP%]:before{content:"\\f200"}.fa-line-chart[_ngcontent-%COMP%]:before{content:"\\f201"}.fa-lastfm[_ngcontent-%COMP%]:before{content:"\\f202"}.fa-lastfm-square[_ngcontent-%COMP%]:before{content:"\\f203"}.fa-toggle-off[_ngcontent-%COMP%]:before{content:"\\f204"}.fa-toggle-on[_ngcontent-%COMP%]:before{content:"\\f205"}.fa-bicycle[_ngcontent-%COMP%]:before{content:"\\f206"}.fa-bus[_ngcontent-%COMP%]:before{content:"\\f207"}.fa-ioxhost[_ngcontent-%COMP%]:before{content:"\\f208"}.fa-angellist[_ngcontent-%COMP%]:before{content:"\\f209"}.fa-cc[_ngcontent-%COMP%]:before{content:"\\f20a"}.fa-shekel[_ngcontent-%COMP%]:before, .fa-sheqel[_ngcontent-%COMP%]:before, .fa-ils[_ngcontent-%COMP%]:before{content:"\\f20b"}.fa-meanpath[_ngcontent-%COMP%]:before{content:"\\f20c"}.fa-buysellads[_ngcontent-%COMP%]:before{content:"\\f20d"}.fa-connectdevelop[_ngcontent-%COMP%]:before{content:"\\f20e"}.fa-dashcube[_ngcontent-%COMP%]:before{content:"\\f210"}.fa-forumbee[_ngcontent-%COMP%]:before{content:"\\f211"}.fa-leanpub[_ngcontent-%COMP%]:before{content:"\\f212"}.fa-sellsy[_ngcontent-%COMP%]:before{content:"\\f213"}.fa-shirtsinbulk[_ngcontent-%COMP%]:before{content:"\\f214"}.fa-simplybuilt[_ngcontent-%COMP%]:before{content:"\\f215"}.fa-skyatlas[_ngcontent-%COMP%]:before{content:"\\f216"}.fa-cart-plus[_ngcontent-%COMP%]:before{content:"\\f217"}.fa-cart-arrow-down[_ngcontent-%COMP%]:before{content:"\\f218"}.fa-diamond[_ngcontent-%COMP%]:before{content:"\\f219"}.fa-ship[_ngcontent-%COMP%]:before{content:"\\f21a"}.fa-user-secret[_ngcontent-%COMP%]:before{content:"\\f21b"}.fa-motorcycle[_ngcontent-%COMP%]:before{content:"\\f21c"}.fa-street-view[_ngcontent-%COMP%]:before{content:"\\f21d"}.fa-heartbeat[_ngcontent-%COMP%]:before{content:"\\f21e"}.fa-venus[_ngcontent-%COMP%]:before{content:"\\f221"}.fa-mars[_ngcontent-%COMP%]:before{content:"\\f222"}.fa-mercury[_ngcontent-%COMP%]:before{content:"\\f223"}.fa-intersex[_ngcontent-%COMP%]:before, .fa-transgender[_ngcontent-%COMP%]:before{content:"\\f224"}.fa-transgender-alt[_ngcontent-%COMP%]:before{content:"\\f225"}.fa-venus-double[_ngcontent-%COMP%]:before{content:"\\f226"}.fa-mars-double[_ngcontent-%COMP%]:before{content:"\\f227"}.fa-venus-mars[_ngcontent-%COMP%]:before{content:"\\f228"}.fa-mars-stroke[_ngcontent-%COMP%]:before{content:"\\f229"}.fa-mars-stroke-v[_ngcontent-%COMP%]:before{content:"\\f22a"}.fa-mars-stroke-h[_ngcontent-%COMP%]:before{content:"\\f22b"}.fa-neuter[_ngcontent-%COMP%]:before{content:"\\f22c"}.fa-genderless[_ngcontent-%COMP%]:before{content:"\\f22d"}.fa-facebook-official[_ngcontent-%COMP%]:before{content:"\\f230"}.fa-pinterest-p[_ngcontent-%COMP%]:before{content:"\\f231"}.fa-whatsapp[_ngcontent-%COMP%]:before{content:"\\f232"}.fa-server[_ngcontent-%COMP%]:before{content:"\\f233"}.fa-user-plus[_ngcontent-%COMP%]:before{content:"\\f234"}.fa-user-times[_ngcontent-%COMP%]:before{content:"\\f235"}.fa-hotel[_ngcontent-%COMP%]:before, .fa-bed[_ngcontent-%COMP%]:before{content:"\\f236"}.fa-viacoin[_ngcontent-%COMP%]:before{content:"\\f237"}.fa-train[_ngcontent-%COMP%]:before{content:"\\f238"}.fa-subway[_ngcontent-%COMP%]:before{content:"\\f239"}.fa-medium[_ngcontent-%COMP%]:before{content:"\\f23a"}.fa-yc[_ngcontent-%COMP%]:before, .fa-y-combinator[_ngcontent-%COMP%]:before{content:"\\f23b"}.fa-optin-monster[_ngcontent-%COMP%]:before{content:"\\f23c"}.fa-opencart[_ngcontent-%COMP%]:before{content:"\\f23d"}.fa-expeditedssl[_ngcontent-%COMP%]:before{content:"\\f23e"}.fa-battery-4[_ngcontent-%COMP%]:before, .fa-battery[_ngcontent-%COMP%]:before, .fa-battery-full[_ngcontent-%COMP%]:before{content:"\\f240"}.fa-battery-3[_ngcontent-%COMP%]:before, .fa-battery-three-quarters[_ngcontent-%COMP%]:before{content:"\\f241"}.fa-battery-2[_ngcontent-%COMP%]:before, .fa-battery-half[_ngcontent-%COMP%]:before{content:"\\f242"}.fa-battery-1[_ngcontent-%COMP%]:before, .fa-battery-quarter[_ngcontent-%COMP%]:before{content:"\\f243"}.fa-battery-0[_ngcontent-%COMP%]:before, .fa-battery-empty[_ngcontent-%COMP%]:before{content:"\\f244"}.fa-mouse-pointer[_ngcontent-%COMP%]:before{content:"\\f245"}.fa-i-cursor[_ngcontent-%COMP%]:before{content:"\\f246"}.fa-object-group[_ngcontent-%COMP%]:before{content:"\\f247"}.fa-object-ungroup[_ngcontent-%COMP%]:before{content:"\\f248"}.fa-sticky-note[_ngcontent-%COMP%]:before{content:"\\f249"}.fa-sticky-note-o[_ngcontent-%COMP%]:before{content:"\\f24a"}.fa-cc-jcb[_ngcontent-%COMP%]:before{content:"\\f24b"}.fa-cc-diners-club[_ngcontent-%COMP%]:before{content:"\\f24c"}.fa-clone[_ngcontent-%COMP%]:before{content:"\\f24d"}.fa-balance-scale[_ngcontent-%COMP%]:before{content:"\\f24e"}.fa-hourglass-o[_ngcontent-%COMP%]:before{content:"\\f250"}.fa-hourglass-1[_ngcontent-%COMP%]:before, .fa-hourglass-start[_ngcontent-%COMP%]:before{content:"\\f251"}.fa-hourglass-2[_ngcontent-%COMP%]:before, .fa-hourglass-half[_ngcontent-%COMP%]:before{content:"\\f252"}.fa-hourglass-3[_ngcontent-%COMP%]:before, .fa-hourglass-end[_ngcontent-%COMP%]:before{content:"\\f253"}.fa-hourglass[_ngcontent-%COMP%]:before{content:"\\f254"}.fa-hand-grab-o[_ngcontent-%COMP%]:before, .fa-hand-rock-o[_ngcontent-%COMP%]:before{content:"\\f255"}.fa-hand-stop-o[_ngcontent-%COMP%]:before, .fa-hand-paper-o[_ngcontent-%COMP%]:before{content:"\\f256"}.fa-hand-scissors-o[_ngcontent-%COMP%]:before{content:"\\f257"}.fa-hand-lizard-o[_ngcontent-%COMP%]:before{content:"\\f258"}.fa-hand-spock-o[_ngcontent-%COMP%]:before{content:"\\f259"}.fa-hand-pointer-o[_ngcontent-%COMP%]:before{content:"\\f25a"}.fa-hand-peace-o[_ngcontent-%COMP%]:before{content:"\\f25b"}.fa-trademark[_ngcontent-%COMP%]:before{content:"\\f25c"}.fa-registered[_ngcontent-%COMP%]:before{content:"\\f25d"}.fa-creative-commons[_ngcontent-%COMP%]:before{content:"\\f25e"}.fa-gg[_ngcontent-%COMP%]:before{content:"\\f260"}.fa-gg-circle[_ngcontent-%COMP%]:before{content:"\\f261"}.fa-tripadvisor[_ngcontent-%COMP%]:before{content:"\\f262"}.fa-odnoklassniki[_ngcontent-%COMP%]:before{content:"\\f263"}.fa-odnoklassniki-square[_ngcontent-%COMP%]:before{content:"\\f264"}.fa-get-pocket[_ngcontent-%COMP%]:before{content:"\\f265"}.fa-wikipedia-w[_ngcontent-%COMP%]:before{content:"\\f266"}.fa-safari[_ngcontent-%COMP%]:before{content:"\\f267"}.fa-chrome[_ngcontent-%COMP%]:before{content:"\\f268"}.fa-firefox[_ngcontent-%COMP%]:before{content:"\\f269"}.fa-opera[_ngcontent-%COMP%]:before{content:"\\f26a"}.fa-internet-explorer[_ngcontent-%COMP%]:before{content:"\\f26b"}.fa-tv[_ngcontent-%COMP%]:before, .fa-television[_ngcontent-%COMP%]:before{content:"\\f26c"}.fa-contao[_ngcontent-%COMP%]:before{content:"\\f26d"}.fa-500px[_ngcontent-%COMP%]:before{content:"\\f26e"}.fa-amazon[_ngcontent-%COMP%]:before{content:"\\f270"}.fa-calendar-plus-o[_ngcontent-%COMP%]:before{content:"\\f271"}.fa-calendar-minus-o[_ngcontent-%COMP%]:before{content:"\\f272"}.fa-calendar-times-o[_ngcontent-%COMP%]:before{content:"\\f273"}.fa-calendar-check-o[_ngcontent-%COMP%]:before{content:"\\f274"}.fa-industry[_ngcontent-%COMP%]:before{content:"\\f275"}.fa-map-pin[_ngcontent-%COMP%]:before{content:"\\f276"}.fa-map-signs[_ngcontent-%COMP%]:before{content:"\\f277"}.fa-map-o[_ngcontent-%COMP%]:before{content:"\\f278"}.fa-map[_ngcontent-%COMP%]:before{content:"\\f279"}.fa-commenting[_ngcontent-%COMP%]:before{content:"\\f27a"}.fa-commenting-o[_ngcontent-%COMP%]:before{content:"\\f27b"}.fa-houzz[_ngcontent-%COMP%]:before{content:"\\f27c"}.fa-vimeo[_ngcontent-%COMP%]:before{content:"\\f27d"}.fa-black-tie[_ngcontent-%COMP%]:before{content:"\\f27e"}.fa-fonticons[_ngcontent-%COMP%]:before{content:"\\f280"}.fa-reddit-alien[_ngcontent-%COMP%]:before{content:"\\f281"}.fa-edge[_ngcontent-%COMP%]:before{content:"\\f282"}.fa-credit-card-alt[_ngcontent-%COMP%]:before{content:"\\f283"}.fa-codiepie[_ngcontent-%COMP%]:before{content:"\\f284"}.fa-modx[_ngcontent-%COMP%]:before{content:"\\f285"}.fa-fort-awesome[_ngcontent-%COMP%]:before{content:"\\f286"}.fa-usb[_ngcontent-%COMP%]:before{content:"\\f287"}.fa-product-hunt[_ngcontent-%COMP%]:before{content:"\\f288"}.fa-mixcloud[_ngcontent-%COMP%]:before{content:"\\f289"}.fa-scribd[_ngcontent-%COMP%]:before{content:"\\f28a"}.fa-pause-circle[_ngcontent-%COMP%]:before{content:"\\f28b"}.fa-pause-circle-o[_ngcontent-%COMP%]:before{content:"\\f28c"}.fa-stop-circle[_ngcontent-%COMP%]:before{content:"\\f28d"}.fa-stop-circle-o[_ngcontent-%COMP%]:before{content:"\\f28e"}.fa-shopping-bag[_ngcontent-%COMP%]:before{content:"\\f290"}.fa-shopping-basket[_ngcontent-%COMP%]:before{content:"\\f291"}.fa-hashtag[_ngcontent-%COMP%]:before{content:"\\f292"}.fa-bluetooth[_ngcontent-%COMP%]:before{content:"\\f293"}.fa-bluetooth-b[_ngcontent-%COMP%]:before{content:"\\f294"}.fa-percent[_ngcontent-%COMP%]:before{content:"\\f295"}.fa-gitlab[_ngcontent-%COMP%]:before{content:"\\f296"}.fa-wpbeginner[_ngcontent-%COMP%]:before{content:"\\f297"}.fa-wpforms[_ngcontent-%COMP%]:before{content:"\\f298"}.fa-envira[_ngcontent-%COMP%]:before{content:"\\f299"}.fa-universal-access[_ngcontent-%COMP%]:before{content:"\\f29a"}.fa-wheelchair-alt[_ngcontent-%COMP%]:before{content:"\\f29b"}.fa-question-circle-o[_ngcontent-%COMP%]:before{content:"\\f29c"}.fa-blind[_ngcontent-%COMP%]:before{content:"\\f29d"}.fa-audio-description[_ngcontent-%COMP%]:before{content:"\\f29e"}.fa-volume-control-phone[_ngcontent-%COMP%]:before{content:"\\f2a0"}.fa-braille[_ngcontent-%COMP%]:before{content:"\\f2a1"}.fa-assistive-listening-systems[_ngcontent-%COMP%]:before{content:"\\f2a2"}.fa-asl-interpreting[_ngcontent-%COMP%]:before, .fa-american-sign-language-interpreting[_ngcontent-%COMP%]:before{content:"\\f2a3"}.fa-deafness[_ngcontent-%COMP%]:before, .fa-hard-of-hearing[_ngcontent-%COMP%]:before, .fa-deaf[_ngcontent-%COMP%]:before{content:"\\f2a4"}.fa-glide[_ngcontent-%COMP%]:before{content:"\\f2a5"}.fa-glide-g[_ngcontent-%COMP%]:before{content:"\\f2a6"}.fa-signing[_ngcontent-%COMP%]:before, .fa-sign-language[_ngcontent-%COMP%]:before{content:"\\f2a7"}.fa-low-vision[_ngcontent-%COMP%]:before{content:"\\f2a8"}.fa-viadeo[_ngcontent-%COMP%]:before{content:"\\f2a9"}.fa-viadeo-square[_ngcontent-%COMP%]:before{content:"\\f2aa"}.fa-snapchat[_ngcontent-%COMP%]:before{content:"\\f2ab"}.fa-snapchat-ghost[_ngcontent-%COMP%]:before{content:"\\f2ac"}.fa-snapchat-square[_ngcontent-%COMP%]:before{content:"\\f2ad"}.fa-pied-piper[_ngcontent-%COMP%]:before{content:"\\f2ae"}.fa-first-order[_ngcontent-%COMP%]:before{content:"\\f2b0"}.fa-yoast[_ngcontent-%COMP%]:before{content:"\\f2b1"}.fa-themeisle[_ngcontent-%COMP%]:before{content:"\\f2b2"}.fa-google-plus-circle[_ngcontent-%COMP%]:before, .fa-google-plus-official[_ngcontent-%COMP%]:before{content:"\\f2b3"}.fa-fa[_ngcontent-%COMP%]:before, .fa-font-awesome[_ngcontent-%COMP%]:before{content:"\\f2b4"}.fa-handshake-o[_ngcontent-%COMP%]:before{content:"\\f2b5"}.fa-envelope-open[_ngcontent-%COMP%]:before{content:"\\f2b6"}.fa-envelope-open-o[_ngcontent-%COMP%]:before{content:"\\f2b7"}.fa-linode[_ngcontent-%COMP%]:before{content:"\\f2b8"}.fa-address-book[_ngcontent-%COMP%]:before{content:"\\f2b9"}.fa-address-book-o[_ngcontent-%COMP%]:before{content:"\\f2ba"}.fa-vcard[_ngcontent-%COMP%]:before, .fa-address-card[_ngcontent-%COMP%]:before{content:"\\f2bb"}.fa-vcard-o[_ngcontent-%COMP%]:before, .fa-address-card-o[_ngcontent-%COMP%]:before{content:"\\f2bc"}.fa-user-circle[_ngcontent-%COMP%]:before{content:"\\f2bd"}.fa-user-circle-o[_ngcontent-%COMP%]:before{content:"\\f2be"}.fa-user-o[_ngcontent-%COMP%]:before{content:"\\f2c0"}.fa-id-badge[_ngcontent-%COMP%]:before{content:"\\f2c1"}.fa-drivers-license[_ngcontent-%COMP%]:before, .fa-id-card[_ngcontent-%COMP%]:before{content:"\\f2c2"}.fa-drivers-license-o[_ngcontent-%COMP%]:before, .fa-id-card-o[_ngcontent-%COMP%]:before{content:"\\f2c3"}.fa-quora[_ngcontent-%COMP%]:before{content:"\\f2c4"}.fa-free-code-camp[_ngcontent-%COMP%]:before{content:"\\f2c5"}.fa-telegram[_ngcontent-%COMP%]:before{content:"\\f2c6"}.fa-thermometer-4[_ngcontent-%COMP%]:before, .fa-thermometer[_ngcontent-%COMP%]:before, .fa-thermometer-full[_ngcontent-%COMP%]:before{content:"\\f2c7"}.fa-thermometer-3[_ngcontent-%COMP%]:before, .fa-thermometer-three-quarters[_ngcontent-%COMP%]:before{content:"\\f2c8"}.fa-thermometer-2[_ngcontent-%COMP%]:before, .fa-thermometer-half[_ngcontent-%COMP%]:before{content:"\\f2c9"}.fa-thermometer-1[_ngcontent-%COMP%]:before, .fa-thermometer-quarter[_ngcontent-%COMP%]:before{content:"\\f2ca"}.fa-thermometer-0[_ngcontent-%COMP%]:before, .fa-thermometer-empty[_ngcontent-%COMP%]:before{content:"\\f2cb"}.fa-shower[_ngcontent-%COMP%]:before{content:"\\f2cc"}.fa-bathtub[_ngcontent-%COMP%]:before, .fa-s15[_ngcontent-%COMP%]:before, .fa-bath[_ngcontent-%COMP%]:before{content:"\\f2cd"}.fa-podcast[_ngcontent-%COMP%]:before{content:"\\f2ce"}.fa-window-maximize[_ngcontent-%COMP%]:before{content:"\\f2d0"}.fa-window-minimize[_ngcontent-%COMP%]:before{content:"\\f2d1"}.fa-window-restore[_ngcontent-%COMP%]:before{content:"\\f2d2"}.fa-times-rectangle[_ngcontent-%COMP%]:before, .fa-window-close[_ngcontent-%COMP%]:before{content:"\\f2d3"}.fa-times-rectangle-o[_ngcontent-%COMP%]:before, .fa-window-close-o[_ngcontent-%COMP%]:before{content:"\\f2d4"}.fa-bandcamp[_ngcontent-%COMP%]:before{content:"\\f2d5"}.fa-grav[_ngcontent-%COMP%]:before{content:"\\f2d6"}.fa-etsy[_ngcontent-%COMP%]:before{content:"\\f2d7"}.fa-imdb[_ngcontent-%COMP%]:before{content:"\\f2d8"}.fa-ravelry[_ngcontent-%COMP%]:before{content:"\\f2d9"}.fa-eercast[_ngcontent-%COMP%]:before{content:"\\f2da"}.fa-microchip[_ngcontent-%COMP%]:before{content:"\\f2db"}.fa-snowflake-o[_ngcontent-%COMP%]:before{content:"\\f2dc"}.fa-superpowers[_ngcontent-%COMP%]:before{content:"\\f2dd"}.fa-wpexplorer[_ngcontent-%COMP%]:before{content:"\\f2de"}.fa-meetup[_ngcontent-%COMP%]:before{content:"\\f2e0"}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable[_ngcontent-%COMP%]:active, .sr-only-focusable[_ngcontent-%COMP%]:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-textarea[_ngcontent-%COMP%]{min-height:150px;overflow:auto;margin-top:5px;resize:vertical}.angular-editor-textarea[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;right:0;display:block;width:8px;height:8px;cursor:nwse-resize;background-color:#ffffff80}.angular-editor-toolbar[_ngcontent-%COMP%]{font:100 14px/15px Roboto,Arial,sans-serif;background-color:#f5f5f5;font-size:.8rem;padding:.2rem;border:1px solid #ddd}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]{display:none;margin-right:5px;vertical-align:baseline}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]{background-color:#fff;vertical-align:middle;border:1px solid #ddd;padding:.4rem;min-width:2rem;float:left}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:focus, .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.focus[_ngcontent-%COMP%]{outline:0}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background:#555555}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.background[_ngcontent-%COMP%]{background:#555555}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]{background:#fff5b9}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]:hover{background-color:#fffa98}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:11px;width:90px;vertical-align:middle;background-color:transparent;border:.5px solid rgba(255,255,255,0);border-radius:5px;outline:none;padding:.4rem;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .default[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:24px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:15px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h5[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h6[_ngcontent-%COMP%]{font-size:13px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .div[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .pre[_ngcontent-%COMP%]{font-size:12px}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]{display:inline-block;width:50px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size1[_ngcontent-%COMP%]{font-size:10px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size2[_ngcontent-%COMP%]{font-size:12px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size3[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size4[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size5[_ngcontent-%COMP%]{font-size:18px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size6[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size7[_ngcontent-%COMP%]{font-size:22px}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .color-label[_ngcontent-%COMP%]{position:relative;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{font-size:smaller;background:#1b1b1b;color:#fff;padding:3px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{position:absolute;content:"";left:-1px;top:auto;bottom:-3px;right:auto;width:15px;height:2px;z-index:0;background:#1b1b1b}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]:not([style*="display:none"]):not([style*="display: none"]){display:inline-block}']}),n})(),MT=(()=>{class n{constructor(t,r,o,a,u,h,_){this.r=t,this.editorService=r,this.doc=o,this.sanitizer=a,this.cdRef=u,this.autoFocus=_,this.modeVisual=!0,this.showPlaceholder=!1,this.disabled=!1,this.focused=!1,this.touched=!1,this.changed=!1,this.id="",this.config=Yd,this.placeholder="",this.executeCommandFn=this.executeCommand.bind(this),this.viewMode=new l.vpe,this.blurEvent=new l.vpe,this.focusEvent=new l.vpe,this.tabindex=-1;const v=Number(h);this.tabIndex=v||0===v?v:null}onFocus(){this.focus()}ngOnInit(){this.config.toolbarPosition=this.config.toolbarPosition?this.config.toolbarPosition:Yd.toolbarPosition}ngAfterViewInit(){S0(this.autoFocus)&&this.focus()}onPaste(t){if(this.config.rawPaste){t.preventDefault();const r=t.clipboardData.getData("text/plain");return document.execCommand("insertHTML",!1,r),r}}executeCommand(t,r){this.focus(),"focus"!==t&&("toggleEditorMode"===t?this.toggleEditorMode(this.modeVisual):""!==t&&("clear"===t?(this.editorService.removeSelectedElements(this.getCustomTags()),this.onContentChange(this.textArea.nativeElement)):"default"===t?(this.editorService.removeSelectedElements("h1,h2,h3,h4,h5,h6,p,pre"),this.onContentChange(this.textArea.nativeElement)):this.editorService.executeCommand(t,r),this.exec()))}onTextAreaFocus(t){this.focused?t.stopPropagation():(this.focused=!0,this.focusEvent.emit(t),(!this.touched||!this.changed)&&this.editorService.executeInNextQueueIteration(()=>{this.configure(),this.touched=!0}))}onTextAreaMouseOut(t){this.editorService.saveSelection()}onTextAreaBlur(t){if(this.editorService.executeInNextQueueIteration(this.editorService.saveSelection),"function"==typeof this.onTouched&&this.onTouched(),null!==t.relatedTarget){const r=t.relatedTarget.parentElement;!r.classList.contains("angular-editor-toolbar-set")&&!r.classList.contains("ae-picker")&&(this.blurEvent.emit(t),this.focused=!1)}}focus(){this.modeVisual?this.textArea.nativeElement.focus():(this.doc.getElementById("sourceText"+this.id).focus(),this.focused=!0)}onContentChange(t){let r="";r=this.modeVisual?t.innerHTML:t.innerText,(!r||"<br>"===r)&&(r=""),"function"==typeof this.onChange&&(this.onChange(this.config.sanitize||void 0===this.config.sanitize?this.sanitizer.sanitize(l.q3G.HTML,r):r),!r!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder)),this.changed=!0}registerOnChange(t){this.onChange=r=>t("<br>"===r?"":r)}registerOnTouched(t){this.onTouched=t}writeValue(t){(!t||"<br>"===t||""===t)!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder),(void 0===t||""===t||"<br>"===t)&&(t=null),this.refreshView(t)}refreshView(t){this.r.setProperty(this.textArea.nativeElement,"innerHTML",null===t?"":t)}togglePlaceholder(t){t?(this.r.removeClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!1):(this.r.addClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!0)}setDisabledState(t){this.r[t?"addClass":"removeClass"](this.textArea.nativeElement,"disabled"),this.disabled=t}toggleEditorMode(t){let r;const o=this.textArea.nativeElement;if(t){r=this.r.createText(o.innerHTML),this.r.setProperty(o,"innerHTML",""),this.r.setProperty(o,"contentEditable",!1);const a=this.r.createElement("pre");this.r.setStyle(a,"margin","0"),this.r.setStyle(a,"outline","none");const u=this.r.createElement("code");this.r.setProperty(u,"id","sourceText"+this.id),this.r.setStyle(u,"display","block"),this.r.setStyle(u,"white-space","pre-wrap"),this.r.setStyle(u,"word-break","keep-all"),this.r.setStyle(u,"outline","none"),this.r.setStyle(u,"margin","0"),this.r.setStyle(u,"background-color","#fff5b9"),this.r.setProperty(u,"contentEditable",!0),this.r.appendChild(u,r),this.focusInstance=this.r.listen(u,"focus",h=>this.onTextAreaFocus(h)),this.blurInstance=this.r.listen(u,"blur",h=>this.onTextAreaBlur(h)),this.r.appendChild(a,u),this.r.appendChild(o,a),this.doc.execCommand("defaultParagraphSeparator",!1,"div"),this.modeVisual=!1,this.viewMode.emit(!1),u.focus()}else this.doc.querySelectorAll?this.r.setProperty(o,"innerHTML",o.innerText):(r=this.doc.createRange(),r.selectNodeContents(o.firstChild),this.r.setProperty(o,"innerHTML",r.toString())),this.r.setProperty(o,"contentEditable",!0),this.modeVisual=!0,this.viewMode.emit(!0),this.onContentChange(o),o.focus();this.editorToolbar.setEditorMode(!this.modeVisual)}exec(){let t;this.editorToolbar.triggerButtons(),this.doc.getSelection&&(t=this.doc.getSelection(),this.editorService.executeInNextQueueIteration(this.editorService.saveSelection));let r=t.focusNode;const o=[];for(;r&&"editor"!==r.id;)o.unshift(r),r=r.parentNode;this.editorToolbar.triggerBlocks(o)}configure(){this.editorService.uploadUrl=this.config.uploadUrl,this.editorService.uploadWithCredentials=this.config.uploadWithCredentials,this.config.defaultParagraphSeparator&&this.editorService.setDefaultParagraphSeparator(this.config.defaultParagraphSeparator),this.config.defaultFontName&&this.editorService.setFontName(this.config.defaultFontName),this.config.defaultFontSize&&this.editorService.setFontSize(this.config.defaultFontSize)}getFonts(){return(this.config.fonts?this.config.fonts:Yd.fonts).map(r=>({label:r.name,value:r.name}))}getCustomTags(){const t=["span"];return this.config.customClasses.forEach(r=>{void 0!==r.tag&&(t.includes(r.tag)||t.push(r.tag))}),t.join(",")}ngOnDestroy(){this.blurInstance&&this.blurInstance(),this.focusInstance&&this.focusInstance()}filterStyles(t){return t.replace("position: fixed;","")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(fg),l.Y36(se),l.Y36(vu),l.Y36(l.sBO),l.$8M("tabindex"),l.$8M("autofocus"))},n.\u0275cmp=l.Xpm({type:n,selectors:[["angular-editor"]],contentQueries:function(t,r,o){if(1&t&&l.Suo(o,Kd,5),2&t){let a;l.iGM(a=l.CRH())&&(r.customButtonsTemplateRef=a.first)}},viewQuery:function(t,r){if(1&t&&(l.Gf(by,7),l.Gf(ug,7),l.Gf(O0,5)),2&t){let o;l.iGM(o=l.CRH())&&(r.textArea=o.first),l.iGM(o=l.CRH())&&(r.editorWrapper=o.first),l.iGM(o=l.CRH())&&(r.editorToolbar=o.first)}},hostVars:1,hostBindings:function(t,r){1&t&&l.NdJ("focus",function(){return r.onFocus()}),2&t&&l.uIk("tabindex",r.tabindex)},inputs:{id:"id",config:"config",placeholder:"placeholder",tabIndex:"tabIndex"},outputs:{html:"html",viewMode:"viewMode",blurEvent:"blur",focusEvent:"focus"},features:[l._Bn([{provide:Po,useExisting:(0,l.Gpc)(()=>n),multi:!0},fg])],decls:10,vars:19,consts:[[1,"angular-editor"],["angularEditor",""],[3,"id","uploadUrl","upload","showToolbar","fonts","customClasses","defaultFontName","defaultFontSize","hiddenButtons","execute",4,"ngIf"],[1,"angular-editor-wrapper"],["editorWrapper",""],[1,"angular-editor-textarea",3,"input","focus","blur","click","keyup","mouseout","paste"],["editor",""],[1,"angular-editor-placeholder"],[3,"id","uploadUrl","upload","showToolbar","fonts","customClasses","defaultFontName","defaultFontSize","hiddenButtons","execute"],["editorToolbar",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0,1),l.YNc(2,Cy,3,13,"angular-editor-toolbar",2),l.TgZ(3,"div",3,4)(5,"div",5,6),l.NdJ("input",function(a){return r.onContentChange(a.target)})("focus",function(a){return r.onTextAreaFocus(a)})("blur",function(a){return r.onTextAreaBlur(a)})("click",function(){return r.exec()})("keyup",function(){return r.exec()})("mouseout",function(a){return r.onTextAreaMouseOut(a)})("paste",function(a){return r.onPaste(a)}),l.qZA(),l.TgZ(7,"span",7),l._uU(8),l.qZA()(),l.YNc(9,wy,2,9,"angular-editor-toolbar",2),l.qZA()),2&t&&(l.Udp("width",r.config.width)("min-width",r.config.minWidth),l.xp6(2),l.Q6J("ngIf","top"===r.config.toolbarPosition),l.xp6(3),l.Udp("height",r.config.height)("min-height",r.config.minHeight)("max-height",r.config.maxHeight)("outline",!1===r.config.outline?"none":void 0),l.uIk("contenteditable",r.config.editable)("tabindex",r.disabled?-1:r.tabIndex)("translate",r.config.translate)("spellcheck",r.config.spellcheck),l.xp6(3),l.Oqu(r.placeholder||r.config.placeholder),l.xp6(1),l.Q6J("ngIf","bottom"===r.config.toolbarPosition))},dependencies:[A0,kr,nr],styles:['@font-face{font-family:FontAwesome;src:url(/assets/fonts/fontawesome-webfont.eot?v=4.7.0);src:url(/assets/fonts/fontawesome-webfont.eot?#iefix&v=4.7.0) format("embedded-opentype"),url(/assets/fonts/fontawesome-webfont.woff2?v=4.7.0) format("woff2"),url(/assets/fonts/fontawesome-webfont.woff?v=4.7.0) format("woff"),url(/assets/fonts/fontawesome-webfont.ttf?v=4.7.0) format("truetype"),url(/assets/fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular) format("svg");font-weight:400;font-style:normal}.fa[_ngcontent-%COMP%]{display:inline-block;font: 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg[_ngcontent-%COMP%]{font-size:1.3333333333em;line-height:.75em;vertical-align:-15%}.fa-2x[_ngcontent-%COMP%]{font-size:2em}.fa-3x[_ngcontent-%COMP%]{font-size:3em}.fa-4x[_ngcontent-%COMP%]{font-size:4em}.fa-5x[_ngcontent-%COMP%]{font-size:5em}.fa-fw[_ngcontent-%COMP%]{width:1.2857142857em;text-align:center}.fa-ul[_ngcontent-%COMP%]{padding-left:0;margin-left:2.1428571429em;list-style-type:none}.fa-ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}.fa-li[_ngcontent-%COMP%]{position:absolute;left:-2.1428571429em;width:2.1428571429em;top:.1428571429em;text-align:center}.fa-li.fa-lg[_ngcontent-%COMP%]{left:-1.8571428571em}.fa-border[_ngcontent-%COMP%]{padding:.2em .25em .15em;border:solid .08em #eee;border-radius:.1em}.fa-pull-left[_ngcontent-%COMP%]{float:left}.fa-pull-right[_ngcontent-%COMP%]{float:right}.fa.fa-pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.fa-pull-right[_ngcontent-%COMP%]{margin-left:.3em}.pull-right[_ngcontent-%COMP%]{float:right}.pull-left[_ngcontent-%COMP%]{float:left}.fa.pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.pull-right[_ngcontent-%COMP%]{margin-left:.3em}.fa-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fa-spin 2s infinite linear}.fa-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fa-spin 1s infinite steps(8)}@keyframes _ngcontent-%COMP%_fa-spin{0%{transform:rotate(0)}to{transform:rotate(359deg)}}.fa-rotate-90[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";transform:rotate(90deg)}.fa-rotate-180[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";transform:rotate(180deg)}.fa-rotate-270[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";transform:rotate(270deg)}.fa-flip-horizontal[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";transform:scaleX(-1)}.fa-flip-vertical[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";transform:scaleY(-1)}[_ngcontent-%COMP%]:root   .fa-rotate-90[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-180[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-270[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-flip-horizontal[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-flip-vertical[_ngcontent-%COMP%]{filter:none}.fa-stack[_ngcontent-%COMP%]{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x[_ngcontent-%COMP%], .fa-stack-2x[_ngcontent-%COMP%]{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x[_ngcontent-%COMP%]{line-height:inherit}.fa-stack-2x[_ngcontent-%COMP%]{font-size:2em}.fa-inverse[_ngcontent-%COMP%]{color:#fff}.fa-glass[_ngcontent-%COMP%]:before{content:"\\f000"}.fa-music[_ngcontent-%COMP%]:before{content:"\\f001"}.fa-search[_ngcontent-%COMP%]:before{content:"\\f002"}.fa-envelope-o[_ngcontent-%COMP%]:before{content:"\\f003"}.fa-heart[_ngcontent-%COMP%]:before{content:"\\f004"}.fa-star[_ngcontent-%COMP%]:before{content:"\\f005"}.fa-star-o[_ngcontent-%COMP%]:before{content:"\\f006"}.fa-user[_ngcontent-%COMP%]:before{content:"\\f007"}.fa-film[_ngcontent-%COMP%]:before{content:"\\f008"}.fa-th-large[_ngcontent-%COMP%]:before{content:"\\f009"}.fa-th[_ngcontent-%COMP%]:before{content:"\\f00a"}.fa-th-list[_ngcontent-%COMP%]:before{content:"\\f00b"}.fa-check[_ngcontent-%COMP%]:before{content:"\\f00c"}.fa-remove[_ngcontent-%COMP%]:before, .fa-close[_ngcontent-%COMP%]:before, .fa-times[_ngcontent-%COMP%]:before{content:"\\f00d"}.fa-search-plus[_ngcontent-%COMP%]:before{content:"\\f00e"}.fa-search-minus[_ngcontent-%COMP%]:before{content:"\\f010"}.fa-power-off[_ngcontent-%COMP%]:before{content:"\\f011"}.fa-signal[_ngcontent-%COMP%]:before{content:"\\f012"}.fa-gear[_ngcontent-%COMP%]:before, .fa-cog[_ngcontent-%COMP%]:before{content:"\\f013"}.fa-trash-o[_ngcontent-%COMP%]:before{content:"\\f014"}.fa-home[_ngcontent-%COMP%]:before{content:"\\f015"}.fa-file-o[_ngcontent-%COMP%]:before{content:"\\f016"}.fa-clock-o[_ngcontent-%COMP%]:before{content:"\\f017"}.fa-road[_ngcontent-%COMP%]:before{content:"\\f018"}.fa-download[_ngcontent-%COMP%]:before{content:"\\f019"}.fa-arrow-circle-o-down[_ngcontent-%COMP%]:before{content:"\\f01a"}.fa-arrow-circle-o-up[_ngcontent-%COMP%]:before{content:"\\f01b"}.fa-inbox[_ngcontent-%COMP%]:before{content:"\\f01c"}.fa-play-circle-o[_ngcontent-%COMP%]:before{content:"\\f01d"}.fa-rotate-right[_ngcontent-%COMP%]:before, .fa-repeat[_ngcontent-%COMP%]:before{content:"\\f01e"}.fa-refresh[_ngcontent-%COMP%]:before{content:"\\f021"}.fa-list-alt[_ngcontent-%COMP%]:before{content:"\\f022"}.fa-lock[_ngcontent-%COMP%]:before{content:"\\f023"}.fa-flag[_ngcontent-%COMP%]:before{content:"\\f024"}.fa-headphones[_ngcontent-%COMP%]:before{content:"\\f025"}.fa-volume-off[_ngcontent-%COMP%]:before{content:"\\f026"}.fa-volume-down[_ngcontent-%COMP%]:before{content:"\\f027"}.fa-volume-up[_ngcontent-%COMP%]:before{content:"\\f028"}.fa-qrcode[_ngcontent-%COMP%]:before{content:"\\f029"}.fa-barcode[_ngcontent-%COMP%]:before{content:"\\f02a"}.fa-tag[_ngcontent-%COMP%]:before{content:"\\f02b"}.fa-tags[_ngcontent-%COMP%]:before{content:"\\f02c"}.fa-book[_ngcontent-%COMP%]:before{content:"\\f02d"}.fa-bookmark[_ngcontent-%COMP%]:before{content:"\\f02e"}.fa-print[_ngcontent-%COMP%]:before{content:"\\f02f"}.fa-camera[_ngcontent-%COMP%]:before{content:"\\f030"}.fa-font[_ngcontent-%COMP%]:before{content:"\\f031"}.fa-bold[_ngcontent-%COMP%]:before{content:"\\f032"}.fa-italic[_ngcontent-%COMP%]:before{content:"\\f033"}.fa-text-height[_ngcontent-%COMP%]:before{content:"\\f034"}.fa-text-width[_ngcontent-%COMP%]:before{content:"\\f035"}.fa-align-left[_ngcontent-%COMP%]:before{content:"\\f036"}.fa-align-center[_ngcontent-%COMP%]:before{content:"\\f037"}.fa-align-right[_ngcontent-%COMP%]:before{content:"\\f038"}.fa-align-justify[_ngcontent-%COMP%]:before{content:"\\f039"}.fa-list[_ngcontent-%COMP%]:before{content:"\\f03a"}.fa-dedent[_ngcontent-%COMP%]:before, .fa-outdent[_ngcontent-%COMP%]:before{content:"\\f03b"}.fa-indent[_ngcontent-%COMP%]:before{content:"\\f03c"}.fa-video-camera[_ngcontent-%COMP%]:before{content:"\\f03d"}.fa-photo[_ngcontent-%COMP%]:before, .fa-image[_ngcontent-%COMP%]:before, .fa-picture-o[_ngcontent-%COMP%]:before{content:"\\f03e"}.fa-pencil[_ngcontent-%COMP%]:before{content:"\\f040"}.fa-map-marker[_ngcontent-%COMP%]:before{content:"\\f041"}.fa-adjust[_ngcontent-%COMP%]:before{content:"\\f042"}.fa-tint[_ngcontent-%COMP%]:before{content:"\\f043"}.fa-edit[_ngcontent-%COMP%]:before, .fa-pencil-square-o[_ngcontent-%COMP%]:before{content:"\\f044"}.fa-share-square-o[_ngcontent-%COMP%]:before{content:"\\f045"}.fa-check-square-o[_ngcontent-%COMP%]:before{content:"\\f046"}.fa-arrows[_ngcontent-%COMP%]:before{content:"\\f047"}.fa-step-backward[_ngcontent-%COMP%]:before{content:"\\f048"}.fa-fast-backward[_ngcontent-%COMP%]:before{content:"\\f049"}.fa-backward[_ngcontent-%COMP%]:before{content:"\\f04a"}.fa-play[_ngcontent-%COMP%]:before{content:"\\f04b"}.fa-pause[_ngcontent-%COMP%]:before{content:"\\f04c"}.fa-stop[_ngcontent-%COMP%]:before{content:"\\f04d"}.fa-forward[_ngcontent-%COMP%]:before{content:"\\f04e"}.fa-fast-forward[_ngcontent-%COMP%]:before{content:"\\f050"}.fa-step-forward[_ngcontent-%COMP%]:before{content:"\\f051"}.fa-eject[_ngcontent-%COMP%]:before{content:"\\f052"}.fa-chevron-left[_ngcontent-%COMP%]:before{content:"\\f053"}.fa-chevron-right[_ngcontent-%COMP%]:before{content:"\\f054"}.fa-plus-circle[_ngcontent-%COMP%]:before{content:"\\f055"}.fa-minus-circle[_ngcontent-%COMP%]:before{content:"\\f056"}.fa-times-circle[_ngcontent-%COMP%]:before{content:"\\f057"}.fa-check-circle[_ngcontent-%COMP%]:before{content:"\\f058"}.fa-question-circle[_ngcontent-%COMP%]:before{content:"\\f059"}.fa-info-circle[_ngcontent-%COMP%]:before{content:"\\f05a"}.fa-crosshairs[_ngcontent-%COMP%]:before{content:"\\f05b"}.fa-times-circle-o[_ngcontent-%COMP%]:before{content:"\\f05c"}.fa-check-circle-o[_ngcontent-%COMP%]:before{content:"\\f05d"}.fa-ban[_ngcontent-%COMP%]:before{content:"\\f05e"}.fa-arrow-left[_ngcontent-%COMP%]:before{content:"\\f060"}.fa-arrow-right[_ngcontent-%COMP%]:before{content:"\\f061"}.fa-arrow-up[_ngcontent-%COMP%]:before{content:"\\f062"}.fa-arrow-down[_ngcontent-%COMP%]:before{content:"\\f063"}.fa-mail-forward[_ngcontent-%COMP%]:before, .fa-share[_ngcontent-%COMP%]:before{content:"\\f064"}.fa-expand[_ngcontent-%COMP%]:before{content:"\\f065"}.fa-compress[_ngcontent-%COMP%]:before{content:"\\f066"}.fa-plus[_ngcontent-%COMP%]:before{content:"\\f067"}.fa-minus[_ngcontent-%COMP%]:before{content:"\\f068"}.fa-asterisk[_ngcontent-%COMP%]:before{content:"\\f069"}.fa-exclamation-circle[_ngcontent-%COMP%]:before{content:"\\f06a"}.fa-gift[_ngcontent-%COMP%]:before{content:"\\f06b"}.fa-leaf[_ngcontent-%COMP%]:before{content:"\\f06c"}.fa-fire[_ngcontent-%COMP%]:before{content:"\\f06d"}.fa-eye[_ngcontent-%COMP%]:before{content:"\\f06e"}.fa-eye-slash[_ngcontent-%COMP%]:before{content:"\\f070"}.fa-warning[_ngcontent-%COMP%]:before, .fa-exclamation-triangle[_ngcontent-%COMP%]:before{content:"\\f071"}.fa-plane[_ngcontent-%COMP%]:before{content:"\\f072"}.fa-calendar[_ngcontent-%COMP%]:before{content:"\\f073"}.fa-random[_ngcontent-%COMP%]:before{content:"\\f074"}.fa-comment[_ngcontent-%COMP%]:before{content:"\\f075"}.fa-magnet[_ngcontent-%COMP%]:before{content:"\\f076"}.fa-chevron-up[_ngcontent-%COMP%]:before{content:"\\f077"}.fa-chevron-down[_ngcontent-%COMP%]:before{content:"\\f078"}.fa-retweet[_ngcontent-%COMP%]:before{content:"\\f079"}.fa-shopping-cart[_ngcontent-%COMP%]:before{content:"\\f07a"}.fa-folder[_ngcontent-%COMP%]:before{content:"\\f07b"}.fa-folder-open[_ngcontent-%COMP%]:before{content:"\\f07c"}.fa-arrows-v[_ngcontent-%COMP%]:before{content:"\\f07d"}.fa-arrows-h[_ngcontent-%COMP%]:before{content:"\\f07e"}.fa-bar-chart-o[_ngcontent-%COMP%]:before, .fa-bar-chart[_ngcontent-%COMP%]:before{content:"\\f080"}.fa-twitter-square[_ngcontent-%COMP%]:before{content:"\\f081"}.fa-facebook-square[_ngcontent-%COMP%]:before{content:"\\f082"}.fa-camera-retro[_ngcontent-%COMP%]:before{content:"\\f083"}.fa-key[_ngcontent-%COMP%]:before{content:"\\f084"}.fa-gears[_ngcontent-%COMP%]:before, .fa-cogs[_ngcontent-%COMP%]:before{content:"\\f085"}.fa-comments[_ngcontent-%COMP%]:before{content:"\\f086"}.fa-thumbs-o-up[_ngcontent-%COMP%]:before{content:"\\f087"}.fa-thumbs-o-down[_ngcontent-%COMP%]:before{content:"\\f088"}.fa-star-half[_ngcontent-%COMP%]:before{content:"\\f089"}.fa-heart-o[_ngcontent-%COMP%]:before{content:"\\f08a"}.fa-sign-out[_ngcontent-%COMP%]:before{content:"\\f08b"}.fa-linkedin-square[_ngcontent-%COMP%]:before{content:"\\f08c"}.fa-thumb-tack[_ngcontent-%COMP%]:before{content:"\\f08d"}.fa-external-link[_ngcontent-%COMP%]:before{content:"\\f08e"}.fa-sign-in[_ngcontent-%COMP%]:before{content:"\\f090"}.fa-trophy[_ngcontent-%COMP%]:before{content:"\\f091"}.fa-github-square[_ngcontent-%COMP%]:before{content:"\\f092"}.fa-upload[_ngcontent-%COMP%]:before{content:"\\f093"}.fa-lemon-o[_ngcontent-%COMP%]:before{content:"\\f094"}.fa-phone[_ngcontent-%COMP%]:before{content:"\\f095"}.fa-square-o[_ngcontent-%COMP%]:before{content:"\\f096"}.fa-bookmark-o[_ngcontent-%COMP%]:before{content:"\\f097"}.fa-phone-square[_ngcontent-%COMP%]:before{content:"\\f098"}.fa-twitter[_ngcontent-%COMP%]:before{content:"\\f099"}.fa-facebook-f[_ngcontent-%COMP%]:before, .fa-facebook[_ngcontent-%COMP%]:before{content:"\\f09a"}.fa-github[_ngcontent-%COMP%]:before{content:"\\f09b"}.fa-unlock[_ngcontent-%COMP%]:before{content:"\\f09c"}.fa-credit-card[_ngcontent-%COMP%]:before{content:"\\f09d"}.fa-feed[_ngcontent-%COMP%]:before, .fa-rss[_ngcontent-%COMP%]:before{content:"\\f09e"}.fa-hdd-o[_ngcontent-%COMP%]:before{content:"\\f0a0"}.fa-bullhorn[_ngcontent-%COMP%]:before{content:"\\f0a1"}.fa-bell[_ngcontent-%COMP%]:before{content:"\\f0f3"}.fa-certificate[_ngcontent-%COMP%]:before{content:"\\f0a3"}.fa-hand-o-right[_ngcontent-%COMP%]:before{content:"\\f0a4"}.fa-hand-o-left[_ngcontent-%COMP%]:before{content:"\\f0a5"}.fa-hand-o-up[_ngcontent-%COMP%]:before{content:"\\f0a6"}.fa-hand-o-down[_ngcontent-%COMP%]:before{content:"\\f0a7"}.fa-arrow-circle-left[_ngcontent-%COMP%]:before{content:"\\f0a8"}.fa-arrow-circle-right[_ngcontent-%COMP%]:before{content:"\\f0a9"}.fa-arrow-circle-up[_ngcontent-%COMP%]:before{content:"\\f0aa"}.fa-arrow-circle-down[_ngcontent-%COMP%]:before{content:"\\f0ab"}.fa-globe[_ngcontent-%COMP%]:before{content:"\\f0ac"}.fa-wrench[_ngcontent-%COMP%]:before{content:"\\f0ad"}.fa-tasks[_ngcontent-%COMP%]:before{content:"\\f0ae"}.fa-filter[_ngcontent-%COMP%]:before{content:"\\f0b0"}.fa-briefcase[_ngcontent-%COMP%]:before{content:"\\f0b1"}.fa-arrows-alt[_ngcontent-%COMP%]:before{content:"\\f0b2"}.fa-group[_ngcontent-%COMP%]:before, .fa-users[_ngcontent-%COMP%]:before{content:"\\f0c0"}.fa-chain[_ngcontent-%COMP%]:before, .fa-link[_ngcontent-%COMP%]:before{content:"\\f0c1"}.fa-cloud[_ngcontent-%COMP%]:before{content:"\\f0c2"}.fa-flask[_ngcontent-%COMP%]:before{content:"\\f0c3"}.fa-cut[_ngcontent-%COMP%]:before, .fa-scissors[_ngcontent-%COMP%]:before{content:"\\f0c4"}.fa-copy[_ngcontent-%COMP%]:before, .fa-files-o[_ngcontent-%COMP%]:before{content:"\\f0c5"}.fa-paperclip[_ngcontent-%COMP%]:before{content:"\\f0c6"}.fa-save[_ngcontent-%COMP%]:before, .fa-floppy-o[_ngcontent-%COMP%]:before{content:"\\f0c7"}.fa-square[_ngcontent-%COMP%]:before{content:"\\f0c8"}.fa-navicon[_ngcontent-%COMP%]:before, .fa-reorder[_ngcontent-%COMP%]:before, .fa-bars[_ngcontent-%COMP%]:before{content:"\\f0c9"}.fa-list-ul[_ngcontent-%COMP%]:before{content:"\\f0ca"}.fa-list-ol[_ngcontent-%COMP%]:before{content:"\\f0cb"}.fa-strikethrough[_ngcontent-%COMP%]:before{content:"\\f0cc"}.fa-underline[_ngcontent-%COMP%]:before{content:"\\f0cd"}.fa-table[_ngcontent-%COMP%]:before{content:"\\f0ce"}.fa-magic[_ngcontent-%COMP%]:before{content:"\\f0d0"}.fa-truck[_ngcontent-%COMP%]:before{content:"\\f0d1"}.fa-pinterest[_ngcontent-%COMP%]:before{content:"\\f0d2"}.fa-pinterest-square[_ngcontent-%COMP%]:before{content:"\\f0d3"}.fa-google-plus-square[_ngcontent-%COMP%]:before{content:"\\f0d4"}.fa-google-plus[_ngcontent-%COMP%]:before{content:"\\f0d5"}.fa-money[_ngcontent-%COMP%]:before{content:"\\f0d6"}.fa-caret-down[_ngcontent-%COMP%]:before{content:"\\f0d7"}.fa-caret-up[_ngcontent-%COMP%]:before{content:"\\f0d8"}.fa-caret-left[_ngcontent-%COMP%]:before{content:"\\f0d9"}.fa-caret-right[_ngcontent-%COMP%]:before{content:"\\f0da"}.fa-columns[_ngcontent-%COMP%]:before{content:"\\f0db"}.fa-unsorted[_ngcontent-%COMP%]:before, .fa-sort[_ngcontent-%COMP%]:before{content:"\\f0dc"}.fa-sort-down[_ngcontent-%COMP%]:before, .fa-sort-desc[_ngcontent-%COMP%]:before{content:"\\f0dd"}.fa-sort-up[_ngcontent-%COMP%]:before, .fa-sort-asc[_ngcontent-%COMP%]:before{content:"\\f0de"}.fa-envelope[_ngcontent-%COMP%]:before{content:"\\f0e0"}.fa-linkedin[_ngcontent-%COMP%]:before{content:"\\f0e1"}.fa-rotate-left[_ngcontent-%COMP%]:before, .fa-undo[_ngcontent-%COMP%]:before{content:"\\f0e2"}.fa-legal[_ngcontent-%COMP%]:before, .fa-gavel[_ngcontent-%COMP%]:before{content:"\\f0e3"}.fa-dashboard[_ngcontent-%COMP%]:before, .fa-tachometer[_ngcontent-%COMP%]:before{content:"\\f0e4"}.fa-comment-o[_ngcontent-%COMP%]:before{content:"\\f0e5"}.fa-comments-o[_ngcontent-%COMP%]:before{content:"\\f0e6"}.fa-flash[_ngcontent-%COMP%]:before, .fa-bolt[_ngcontent-%COMP%]:before{content:"\\f0e7"}.fa-sitemap[_ngcontent-%COMP%]:before{content:"\\f0e8"}.fa-umbrella[_ngcontent-%COMP%]:before{content:"\\f0e9"}.fa-paste[_ngcontent-%COMP%]:before, .fa-clipboard[_ngcontent-%COMP%]:before{content:"\\f0ea"}.fa-lightbulb-o[_ngcontent-%COMP%]:before{content:"\\f0eb"}.fa-exchange[_ngcontent-%COMP%]:before{content:"\\f0ec"}.fa-cloud-download[_ngcontent-%COMP%]:before{content:"\\f0ed"}.fa-cloud-upload[_ngcontent-%COMP%]:before{content:"\\f0ee"}.fa-user-md[_ngcontent-%COMP%]:before{content:"\\f0f0"}.fa-stethoscope[_ngcontent-%COMP%]:before{content:"\\f0f1"}.fa-suitcase[_ngcontent-%COMP%]:before{content:"\\f0f2"}.fa-bell-o[_ngcontent-%COMP%]:before{content:"\\f0a2"}.fa-coffee[_ngcontent-%COMP%]:before{content:"\\f0f4"}.fa-cutlery[_ngcontent-%COMP%]:before{content:"\\f0f5"}.fa-file-text-o[_ngcontent-%COMP%]:before{content:"\\f0f6"}.fa-building-o[_ngcontent-%COMP%]:before{content:"\\f0f7"}.fa-hospital-o[_ngcontent-%COMP%]:before{content:"\\f0f8"}.fa-ambulance[_ngcontent-%COMP%]:before{content:"\\f0f9"}.fa-medkit[_ngcontent-%COMP%]:before{content:"\\f0fa"}.fa-fighter-jet[_ngcontent-%COMP%]:before{content:"\\f0fb"}.fa-beer[_ngcontent-%COMP%]:before{content:"\\f0fc"}.fa-h-square[_ngcontent-%COMP%]:before{content:"\\f0fd"}.fa-plus-square[_ngcontent-%COMP%]:before{content:"\\f0fe"}.fa-angle-double-left[_ngcontent-%COMP%]:before{content:"\\f100"}.fa-angle-double-right[_ngcontent-%COMP%]:before{content:"\\f101"}.fa-angle-double-up[_ngcontent-%COMP%]:before{content:"\\f102"}.fa-angle-double-down[_ngcontent-%COMP%]:before{content:"\\f103"}.fa-angle-left[_ngcontent-%COMP%]:before{content:"\\f104"}.fa-angle-right[_ngcontent-%COMP%]:before{content:"\\f105"}.fa-angle-up[_ngcontent-%COMP%]:before{content:"\\f106"}.fa-angle-down[_ngcontent-%COMP%]:before{content:"\\f107"}.fa-desktop[_ngcontent-%COMP%]:before{content:"\\f108"}.fa-laptop[_ngcontent-%COMP%]:before{content:"\\f109"}.fa-tablet[_ngcontent-%COMP%]:before{content:"\\f10a"}.fa-mobile-phone[_ngcontent-%COMP%]:before, .fa-mobile[_ngcontent-%COMP%]:before{content:"\\f10b"}.fa-circle-o[_ngcontent-%COMP%]:before{content:"\\f10c"}.fa-quote-left[_ngcontent-%COMP%]:before{content:"\\f10d"}.fa-quote-right[_ngcontent-%COMP%]:before{content:"\\f10e"}.fa-spinner[_ngcontent-%COMP%]:before{content:"\\f110"}.fa-circle[_ngcontent-%COMP%]:before{content:"\\f111"}.fa-mail-reply[_ngcontent-%COMP%]:before, .fa-reply[_ngcontent-%COMP%]:before{content:"\\f112"}.fa-github-alt[_ngcontent-%COMP%]:before{content:"\\f113"}.fa-folder-o[_ngcontent-%COMP%]:before{content:"\\f114"}.fa-folder-open-o[_ngcontent-%COMP%]:before{content:"\\f115"}.fa-smile-o[_ngcontent-%COMP%]:before{content:"\\f118"}.fa-frown-o[_ngcontent-%COMP%]:before{content:"\\f119"}.fa-meh-o[_ngcontent-%COMP%]:before{content:"\\f11a"}.fa-gamepad[_ngcontent-%COMP%]:before{content:"\\f11b"}.fa-keyboard-o[_ngcontent-%COMP%]:before{content:"\\f11c"}.fa-flag-o[_ngcontent-%COMP%]:before{content:"\\f11d"}.fa-flag-checkered[_ngcontent-%COMP%]:before{content:"\\f11e"}.fa-terminal[_ngcontent-%COMP%]:before{content:"\\f120"}.fa-code[_ngcontent-%COMP%]:before{content:"\\f121"}.fa-mail-reply-all[_ngcontent-%COMP%]:before, .fa-reply-all[_ngcontent-%COMP%]:before{content:"\\f122"}.fa-star-half-empty[_ngcontent-%COMP%]:before, .fa-star-half-full[_ngcontent-%COMP%]:before, .fa-star-half-o[_ngcontent-%COMP%]:before{content:"\\f123"}.fa-location-arrow[_ngcontent-%COMP%]:before{content:"\\f124"}.fa-crop[_ngcontent-%COMP%]:before{content:"\\f125"}.fa-code-fork[_ngcontent-%COMP%]:before{content:"\\f126"}.fa-unlink[_ngcontent-%COMP%]:before, .fa-chain-broken[_ngcontent-%COMP%]:before{content:"\\f127"}.fa-question[_ngcontent-%COMP%]:before{content:"\\f128"}.fa-info[_ngcontent-%COMP%]:before{content:"\\f129"}.fa-exclamation[_ngcontent-%COMP%]:before{content:"\\f12a"}.fa-superscript[_ngcontent-%COMP%]:before{content:"\\f12b"}.fa-subscript[_ngcontent-%COMP%]:before{content:"\\f12c"}.fa-eraser[_ngcontent-%COMP%]:before{content:"\\f12d"}.fa-puzzle-piece[_ngcontent-%COMP%]:before{content:"\\f12e"}.fa-microphone[_ngcontent-%COMP%]:before{content:"\\f130"}.fa-microphone-slash[_ngcontent-%COMP%]:before{content:"\\f131"}.fa-shield[_ngcontent-%COMP%]:before{content:"\\f132"}.fa-calendar-o[_ngcontent-%COMP%]:before{content:"\\f133"}.fa-fire-extinguisher[_ngcontent-%COMP%]:before{content:"\\f134"}.fa-rocket[_ngcontent-%COMP%]:before{content:"\\f135"}.fa-maxcdn[_ngcontent-%COMP%]:before{content:"\\f136"}.fa-chevron-circle-left[_ngcontent-%COMP%]:before{content:"\\f137"}.fa-chevron-circle-right[_ngcontent-%COMP%]:before{content:"\\f138"}.fa-chevron-circle-up[_ngcontent-%COMP%]:before{content:"\\f139"}.fa-chevron-circle-down[_ngcontent-%COMP%]:before{content:"\\f13a"}.fa-html5[_ngcontent-%COMP%]:before{content:"\\f13b"}.fa-css3[_ngcontent-%COMP%]:before{content:"\\f13c"}.fa-anchor[_ngcontent-%COMP%]:before{content:"\\f13d"}.fa-unlock-alt[_ngcontent-%COMP%]:before{content:"\\f13e"}.fa-bullseye[_ngcontent-%COMP%]:before{content:"\\f140"}.fa-ellipsis-h[_ngcontent-%COMP%]:before{content:"\\f141"}.fa-ellipsis-v[_ngcontent-%COMP%]:before{content:"\\f142"}.fa-rss-square[_ngcontent-%COMP%]:before{content:"\\f143"}.fa-play-circle[_ngcontent-%COMP%]:before{content:"\\f144"}.fa-ticket[_ngcontent-%COMP%]:before{content:"\\f145"}.fa-minus-square[_ngcontent-%COMP%]:before{content:"\\f146"}.fa-minus-square-o[_ngcontent-%COMP%]:before{content:"\\f147"}.fa-level-up[_ngcontent-%COMP%]:before{content:"\\f148"}.fa-level-down[_ngcontent-%COMP%]:before{content:"\\f149"}.fa-check-square[_ngcontent-%COMP%]:before{content:"\\f14a"}.fa-pencil-square[_ngcontent-%COMP%]:before{content:"\\f14b"}.fa-external-link-square[_ngcontent-%COMP%]:before{content:"\\f14c"}.fa-share-square[_ngcontent-%COMP%]:before{content:"\\f14d"}.fa-compass[_ngcontent-%COMP%]:before{content:"\\f14e"}.fa-toggle-down[_ngcontent-%COMP%]:before, .fa-caret-square-o-down[_ngcontent-%COMP%]:before{content:"\\f150"}.fa-toggle-up[_ngcontent-%COMP%]:before, .fa-caret-square-o-up[_ngcontent-%COMP%]:before{content:"\\f151"}.fa-toggle-right[_ngcontent-%COMP%]:before, .fa-caret-square-o-right[_ngcontent-%COMP%]:before{content:"\\f152"}.fa-euro[_ngcontent-%COMP%]:before, .fa-eur[_ngcontent-%COMP%]:before{content:"\\f153"}.fa-gbp[_ngcontent-%COMP%]:before{content:"\\f154"}.fa-dollar[_ngcontent-%COMP%]:before, .fa-usd[_ngcontent-%COMP%]:before{content:"\\f155"}.fa-rupee[_ngcontent-%COMP%]:before, .fa-inr[_ngcontent-%COMP%]:before{content:"\\f156"}.fa-cny[_ngcontent-%COMP%]:before, .fa-rmb[_ngcontent-%COMP%]:before, .fa-yen[_ngcontent-%COMP%]:before, .fa-jpy[_ngcontent-%COMP%]:before{content:"\\f157"}.fa-ruble[_ngcontent-%COMP%]:before, .fa-rouble[_ngcontent-%COMP%]:before, .fa-rub[_ngcontent-%COMP%]:before{content:"\\f158"}.fa-won[_ngcontent-%COMP%]:before, .fa-krw[_ngcontent-%COMP%]:before{content:"\\f159"}.fa-bitcoin[_ngcontent-%COMP%]:before, .fa-btc[_ngcontent-%COMP%]:before{content:"\\f15a"}.fa-file[_ngcontent-%COMP%]:before{content:"\\f15b"}.fa-file-text[_ngcontent-%COMP%]:before{content:"\\f15c"}.fa-sort-alpha-asc[_ngcontent-%COMP%]:before{content:"\\f15d"}.fa-sort-alpha-desc[_ngcontent-%COMP%]:before{content:"\\f15e"}.fa-sort-amount-asc[_ngcontent-%COMP%]:before{content:"\\f160"}.fa-sort-amount-desc[_ngcontent-%COMP%]:before{content:"\\f161"}.fa-sort-numeric-asc[_ngcontent-%COMP%]:before{content:"\\f162"}.fa-sort-numeric-desc[_ngcontent-%COMP%]:before{content:"\\f163"}.fa-thumbs-up[_ngcontent-%COMP%]:before{content:"\\f164"}.fa-thumbs-down[_ngcontent-%COMP%]:before{content:"\\f165"}.fa-youtube-square[_ngcontent-%COMP%]:before{content:"\\f166"}.fa-youtube[_ngcontent-%COMP%]:before{content:"\\f167"}.fa-xing[_ngcontent-%COMP%]:before{content:"\\f168"}.fa-xing-square[_ngcontent-%COMP%]:before{content:"\\f169"}.fa-youtube-play[_ngcontent-%COMP%]:before{content:"\\f16a"}.fa-dropbox[_ngcontent-%COMP%]:before{content:"\\f16b"}.fa-stack-overflow[_ngcontent-%COMP%]:before{content:"\\f16c"}.fa-instagram[_ngcontent-%COMP%]:before{content:"\\f16d"}.fa-flickr[_ngcontent-%COMP%]:before{content:"\\f16e"}.fa-adn[_ngcontent-%COMP%]:before{content:"\\f170"}.fa-bitbucket[_ngcontent-%COMP%]:before{content:"\\f171"}.fa-bitbucket-square[_ngcontent-%COMP%]:before{content:"\\f172"}.fa-tumblr[_ngcontent-%COMP%]:before{content:"\\f173"}.fa-tumblr-square[_ngcontent-%COMP%]:before{content:"\\f174"}.fa-long-arrow-down[_ngcontent-%COMP%]:before{content:"\\f175"}.fa-long-arrow-up[_ngcontent-%COMP%]:before{content:"\\f176"}.fa-long-arrow-left[_ngcontent-%COMP%]:before{content:"\\f177"}.fa-long-arrow-right[_ngcontent-%COMP%]:before{content:"\\f178"}.fa-apple[_ngcontent-%COMP%]:before{content:"\\f179"}.fa-windows[_ngcontent-%COMP%]:before{content:"\\f17a"}.fa-android[_ngcontent-%COMP%]:before{content:"\\f17b"}.fa-linux[_ngcontent-%COMP%]:before{content:"\\f17c"}.fa-dribbble[_ngcontent-%COMP%]:before{content:"\\f17d"}.fa-skype[_ngcontent-%COMP%]:before{content:"\\f17e"}.fa-foursquare[_ngcontent-%COMP%]:before{content:"\\f180"}.fa-trello[_ngcontent-%COMP%]:before{content:"\\f181"}.fa-female[_ngcontent-%COMP%]:before{content:"\\f182"}.fa-male[_ngcontent-%COMP%]:before{content:"\\f183"}.fa-gittip[_ngcontent-%COMP%]:before, .fa-gratipay[_ngcontent-%COMP%]:before{content:"\\f184"}.fa-sun-o[_ngcontent-%COMP%]:before{content:"\\f185"}.fa-moon-o[_ngcontent-%COMP%]:before{content:"\\f186"}.fa-archive[_ngcontent-%COMP%]:before{content:"\\f187"}.fa-bug[_ngcontent-%COMP%]:before{content:"\\f188"}.fa-vk[_ngcontent-%COMP%]:before{content:"\\f189"}.fa-weibo[_ngcontent-%COMP%]:before{content:"\\f18a"}.fa-renren[_ngcontent-%COMP%]:before{content:"\\f18b"}.fa-pagelines[_ngcontent-%COMP%]:before{content:"\\f18c"}.fa-stack-exchange[_ngcontent-%COMP%]:before{content:"\\f18d"}.fa-arrow-circle-o-right[_ngcontent-%COMP%]:before{content:"\\f18e"}.fa-arrow-circle-o-left[_ngcontent-%COMP%]:before{content:"\\f190"}.fa-toggle-left[_ngcontent-%COMP%]:before, .fa-caret-square-o-left[_ngcontent-%COMP%]:before{content:"\\f191"}.fa-dot-circle-o[_ngcontent-%COMP%]:before{content:"\\f192"}.fa-wheelchair[_ngcontent-%COMP%]:before{content:"\\f193"}.fa-vimeo-square[_ngcontent-%COMP%]:before{content:"\\f194"}.fa-turkish-lira[_ngcontent-%COMP%]:before, .fa-try[_ngcontent-%COMP%]:before{content:"\\f195"}.fa-plus-square-o[_ngcontent-%COMP%]:before{content:"\\f196"}.fa-space-shuttle[_ngcontent-%COMP%]:before{content:"\\f197"}.fa-slack[_ngcontent-%COMP%]:before{content:"\\f198"}.fa-envelope-square[_ngcontent-%COMP%]:before{content:"\\f199"}.fa-wordpress[_ngcontent-%COMP%]:before{content:"\\f19a"}.fa-openid[_ngcontent-%COMP%]:before{content:"\\f19b"}.fa-institution[_ngcontent-%COMP%]:before, .fa-bank[_ngcontent-%COMP%]:before, .fa-university[_ngcontent-%COMP%]:before{content:"\\f19c"}.fa-mortar-board[_ngcontent-%COMP%]:before, .fa-graduation-cap[_ngcontent-%COMP%]:before{content:"\\f19d"}.fa-yahoo[_ngcontent-%COMP%]:before{content:"\\f19e"}.fa-google[_ngcontent-%COMP%]:before{content:"\\f1a0"}.fa-reddit[_ngcontent-%COMP%]:before{content:"\\f1a1"}.fa-reddit-square[_ngcontent-%COMP%]:before{content:"\\f1a2"}.fa-stumbleupon-circle[_ngcontent-%COMP%]:before{content:"\\f1a3"}.fa-stumbleupon[_ngcontent-%COMP%]:before{content:"\\f1a4"}.fa-delicious[_ngcontent-%COMP%]:before{content:"\\f1a5"}.fa-digg[_ngcontent-%COMP%]:before{content:"\\f1a6"}.fa-pied-piper-pp[_ngcontent-%COMP%]:before{content:"\\f1a7"}.fa-pied-piper-alt[_ngcontent-%COMP%]:before{content:"\\f1a8"}.fa-drupal[_ngcontent-%COMP%]:before{content:"\\f1a9"}.fa-joomla[_ngcontent-%COMP%]:before{content:"\\f1aa"}.fa-language[_ngcontent-%COMP%]:before{content:"\\f1ab"}.fa-fax[_ngcontent-%COMP%]:before{content:"\\f1ac"}.fa-building[_ngcontent-%COMP%]:before{content:"\\f1ad"}.fa-child[_ngcontent-%COMP%]:before{content:"\\f1ae"}.fa-paw[_ngcontent-%COMP%]:before{content:"\\f1b0"}.fa-spoon[_ngcontent-%COMP%]:before{content:"\\f1b1"}.fa-cube[_ngcontent-%COMP%]:before{content:"\\f1b2"}.fa-cubes[_ngcontent-%COMP%]:before{content:"\\f1b3"}.fa-behance[_ngcontent-%COMP%]:before{content:"\\f1b4"}.fa-behance-square[_ngcontent-%COMP%]:before{content:"\\f1b5"}.fa-steam[_ngcontent-%COMP%]:before{content:"\\f1b6"}.fa-steam-square[_ngcontent-%COMP%]:before{content:"\\f1b7"}.fa-recycle[_ngcontent-%COMP%]:before{content:"\\f1b8"}.fa-automobile[_ngcontent-%COMP%]:before, .fa-car[_ngcontent-%COMP%]:before{content:"\\f1b9"}.fa-cab[_ngcontent-%COMP%]:before, .fa-taxi[_ngcontent-%COMP%]:before{content:"\\f1ba"}.fa-tree[_ngcontent-%COMP%]:before{content:"\\f1bb"}.fa-spotify[_ngcontent-%COMP%]:before{content:"\\f1bc"}.fa-deviantart[_ngcontent-%COMP%]:before{content:"\\f1bd"}.fa-soundcloud[_ngcontent-%COMP%]:before{content:"\\f1be"}.fa-database[_ngcontent-%COMP%]:before{content:"\\f1c0"}.fa-file-pdf-o[_ngcontent-%COMP%]:before{content:"\\f1c1"}.fa-file-word-o[_ngcontent-%COMP%]:before{content:"\\f1c2"}.fa-file-excel-o[_ngcontent-%COMP%]:before{content:"\\f1c3"}.fa-file-powerpoint-o[_ngcontent-%COMP%]:before{content:"\\f1c4"}.fa-file-photo-o[_ngcontent-%COMP%]:before, .fa-file-picture-o[_ngcontent-%COMP%]:before, .fa-file-image-o[_ngcontent-%COMP%]:before{content:"\\f1c5"}.fa-file-zip-o[_ngcontent-%COMP%]:before, .fa-file-archive-o[_ngcontent-%COMP%]:before{content:"\\f1c6"}.fa-file-sound-o[_ngcontent-%COMP%]:before, .fa-file-audio-o[_ngcontent-%COMP%]:before{content:"\\f1c7"}.fa-file-movie-o[_ngcontent-%COMP%]:before, .fa-file-video-o[_ngcontent-%COMP%]:before{content:"\\f1c8"}.fa-file-code-o[_ngcontent-%COMP%]:before{content:"\\f1c9"}.fa-vine[_ngcontent-%COMP%]:before{content:"\\f1ca"}.fa-codepen[_ngcontent-%COMP%]:before{content:"\\f1cb"}.fa-jsfiddle[_ngcontent-%COMP%]:before{content:"\\f1cc"}.fa-life-bouy[_ngcontent-%COMP%]:before, .fa-life-buoy[_ngcontent-%COMP%]:before, .fa-life-saver[_ngcontent-%COMP%]:before, .fa-support[_ngcontent-%COMP%]:before, .fa-life-ring[_ngcontent-%COMP%]:before{content:"\\f1cd"}.fa-circle-o-notch[_ngcontent-%COMP%]:before{content:"\\f1ce"}.fa-ra[_ngcontent-%COMP%]:before, .fa-resistance[_ngcontent-%COMP%]:before, .fa-rebel[_ngcontent-%COMP%]:before{content:"\\f1d0"}.fa-ge[_ngcontent-%COMP%]:before, .fa-empire[_ngcontent-%COMP%]:before{content:"\\f1d1"}.fa-git-square[_ngcontent-%COMP%]:before{content:"\\f1d2"}.fa-git[_ngcontent-%COMP%]:before{content:"\\f1d3"}.fa-y-combinator-square[_ngcontent-%COMP%]:before, .fa-yc-square[_ngcontent-%COMP%]:before, .fa-hacker-news[_ngcontent-%COMP%]:before{content:"\\f1d4"}.fa-tencent-weibo[_ngcontent-%COMP%]:before{content:"\\f1d5"}.fa-qq[_ngcontent-%COMP%]:before{content:"\\f1d6"}.fa-wechat[_ngcontent-%COMP%]:before, .fa-weixin[_ngcontent-%COMP%]:before{content:"\\f1d7"}.fa-send[_ngcontent-%COMP%]:before, .fa-paper-plane[_ngcontent-%COMP%]:before{content:"\\f1d8"}.fa-send-o[_ngcontent-%COMP%]:before, .fa-paper-plane-o[_ngcontent-%COMP%]:before{content:"\\f1d9"}.fa-history[_ngcontent-%COMP%]:before{content:"\\f1da"}.fa-circle-thin[_ngcontent-%COMP%]:before{content:"\\f1db"}.fa-header[_ngcontent-%COMP%]:before{content:"\\f1dc"}.fa-paragraph[_ngcontent-%COMP%]:before{content:"\\f1dd"}.fa-sliders[_ngcontent-%COMP%]:before{content:"\\f1de"}.fa-share-alt[_ngcontent-%COMP%]:before{content:"\\f1e0"}.fa-share-alt-square[_ngcontent-%COMP%]:before{content:"\\f1e1"}.fa-bomb[_ngcontent-%COMP%]:before{content:"\\f1e2"}.fa-soccer-ball-o[_ngcontent-%COMP%]:before, .fa-futbol-o[_ngcontent-%COMP%]:before{content:"\\f1e3"}.fa-tty[_ngcontent-%COMP%]:before{content:"\\f1e4"}.fa-binoculars[_ngcontent-%COMP%]:before{content:"\\f1e5"}.fa-plug[_ngcontent-%COMP%]:before{content:"\\f1e6"}.fa-slideshare[_ngcontent-%COMP%]:before{content:"\\f1e7"}.fa-twitch[_ngcontent-%COMP%]:before{content:"\\f1e8"}.fa-yelp[_ngcontent-%COMP%]:before{content:"\\f1e9"}.fa-newspaper-o[_ngcontent-%COMP%]:before{content:"\\f1ea"}.fa-wifi[_ngcontent-%COMP%]:before{content:"\\f1eb"}.fa-calculator[_ngcontent-%COMP%]:before{content:"\\f1ec"}.fa-paypal[_ngcontent-%COMP%]:before{content:"\\f1ed"}.fa-google-wallet[_ngcontent-%COMP%]:before{content:"\\f1ee"}.fa-cc-visa[_ngcontent-%COMP%]:before{content:"\\f1f0"}.fa-cc-mastercard[_ngcontent-%COMP%]:before{content:"\\f1f1"}.fa-cc-discover[_ngcontent-%COMP%]:before{content:"\\f1f2"}.fa-cc-amex[_ngcontent-%COMP%]:before{content:"\\f1f3"}.fa-cc-paypal[_ngcontent-%COMP%]:before{content:"\\f1f4"}.fa-cc-stripe[_ngcontent-%COMP%]:before{content:"\\f1f5"}.fa-bell-slash[_ngcontent-%COMP%]:before{content:"\\f1f6"}.fa-bell-slash-o[_ngcontent-%COMP%]:before{content:"\\f1f7"}.fa-trash[_ngcontent-%COMP%]:before{content:"\\f1f8"}.fa-copyright[_ngcontent-%COMP%]:before{content:"\\f1f9"}.fa-at[_ngcontent-%COMP%]:before{content:"\\f1fa"}.fa-eyedropper[_ngcontent-%COMP%]:before{content:"\\f1fb"}.fa-paint-brush[_ngcontent-%COMP%]:before{content:"\\f1fc"}.fa-birthday-cake[_ngcontent-%COMP%]:before{content:"\\f1fd"}.fa-area-chart[_ngcontent-%COMP%]:before{content:"\\f1fe"}.fa-pie-chart[_ngcontent-%COMP%]:before{content:"\\f200"}.fa-line-chart[_ngcontent-%COMP%]:before{content:"\\f201"}.fa-lastfm[_ngcontent-%COMP%]:before{content:"\\f202"}.fa-lastfm-square[_ngcontent-%COMP%]:before{content:"\\f203"}.fa-toggle-off[_ngcontent-%COMP%]:before{content:"\\f204"}.fa-toggle-on[_ngcontent-%COMP%]:before{content:"\\f205"}.fa-bicycle[_ngcontent-%COMP%]:before{content:"\\f206"}.fa-bus[_ngcontent-%COMP%]:before{content:"\\f207"}.fa-ioxhost[_ngcontent-%COMP%]:before{content:"\\f208"}.fa-angellist[_ngcontent-%COMP%]:before{content:"\\f209"}.fa-cc[_ngcontent-%COMP%]:before{content:"\\f20a"}.fa-shekel[_ngcontent-%COMP%]:before, .fa-sheqel[_ngcontent-%COMP%]:before, .fa-ils[_ngcontent-%COMP%]:before{content:"\\f20b"}.fa-meanpath[_ngcontent-%COMP%]:before{content:"\\f20c"}.fa-buysellads[_ngcontent-%COMP%]:before{content:"\\f20d"}.fa-connectdevelop[_ngcontent-%COMP%]:before{content:"\\f20e"}.fa-dashcube[_ngcontent-%COMP%]:before{content:"\\f210"}.fa-forumbee[_ngcontent-%COMP%]:before{content:"\\f211"}.fa-leanpub[_ngcontent-%COMP%]:before{content:"\\f212"}.fa-sellsy[_ngcontent-%COMP%]:before{content:"\\f213"}.fa-shirtsinbulk[_ngcontent-%COMP%]:before{content:"\\f214"}.fa-simplybuilt[_ngcontent-%COMP%]:before{content:"\\f215"}.fa-skyatlas[_ngcontent-%COMP%]:before{content:"\\f216"}.fa-cart-plus[_ngcontent-%COMP%]:before{content:"\\f217"}.fa-cart-arrow-down[_ngcontent-%COMP%]:before{content:"\\f218"}.fa-diamond[_ngcontent-%COMP%]:before{content:"\\f219"}.fa-ship[_ngcontent-%COMP%]:before{content:"\\f21a"}.fa-user-secret[_ngcontent-%COMP%]:before{content:"\\f21b"}.fa-motorcycle[_ngcontent-%COMP%]:before{content:"\\f21c"}.fa-street-view[_ngcontent-%COMP%]:before{content:"\\f21d"}.fa-heartbeat[_ngcontent-%COMP%]:before{content:"\\f21e"}.fa-venus[_ngcontent-%COMP%]:before{content:"\\f221"}.fa-mars[_ngcontent-%COMP%]:before{content:"\\f222"}.fa-mercury[_ngcontent-%COMP%]:before{content:"\\f223"}.fa-intersex[_ngcontent-%COMP%]:before, .fa-transgender[_ngcontent-%COMP%]:before{content:"\\f224"}.fa-transgender-alt[_ngcontent-%COMP%]:before{content:"\\f225"}.fa-venus-double[_ngcontent-%COMP%]:before{content:"\\f226"}.fa-mars-double[_ngcontent-%COMP%]:before{content:"\\f227"}.fa-venus-mars[_ngcontent-%COMP%]:before{content:"\\f228"}.fa-mars-stroke[_ngcontent-%COMP%]:before{content:"\\f229"}.fa-mars-stroke-v[_ngcontent-%COMP%]:before{content:"\\f22a"}.fa-mars-stroke-h[_ngcontent-%COMP%]:before{content:"\\f22b"}.fa-neuter[_ngcontent-%COMP%]:before{content:"\\f22c"}.fa-genderless[_ngcontent-%COMP%]:before{content:"\\f22d"}.fa-facebook-official[_ngcontent-%COMP%]:before{content:"\\f230"}.fa-pinterest-p[_ngcontent-%COMP%]:before{content:"\\f231"}.fa-whatsapp[_ngcontent-%COMP%]:before{content:"\\f232"}.fa-server[_ngcontent-%COMP%]:before{content:"\\f233"}.fa-user-plus[_ngcontent-%COMP%]:before{content:"\\f234"}.fa-user-times[_ngcontent-%COMP%]:before{content:"\\f235"}.fa-hotel[_ngcontent-%COMP%]:before, .fa-bed[_ngcontent-%COMP%]:before{content:"\\f236"}.fa-viacoin[_ngcontent-%COMP%]:before{content:"\\f237"}.fa-train[_ngcontent-%COMP%]:before{content:"\\f238"}.fa-subway[_ngcontent-%COMP%]:before{content:"\\f239"}.fa-medium[_ngcontent-%COMP%]:before{content:"\\f23a"}.fa-yc[_ngcontent-%COMP%]:before, .fa-y-combinator[_ngcontent-%COMP%]:before{content:"\\f23b"}.fa-optin-monster[_ngcontent-%COMP%]:before{content:"\\f23c"}.fa-opencart[_ngcontent-%COMP%]:before{content:"\\f23d"}.fa-expeditedssl[_ngcontent-%COMP%]:before{content:"\\f23e"}.fa-battery-4[_ngcontent-%COMP%]:before, .fa-battery[_ngcontent-%COMP%]:before, .fa-battery-full[_ngcontent-%COMP%]:before{content:"\\f240"}.fa-battery-3[_ngcontent-%COMP%]:before, .fa-battery-three-quarters[_ngcontent-%COMP%]:before{content:"\\f241"}.fa-battery-2[_ngcontent-%COMP%]:before, .fa-battery-half[_ngcontent-%COMP%]:before{content:"\\f242"}.fa-battery-1[_ngcontent-%COMP%]:before, .fa-battery-quarter[_ngcontent-%COMP%]:before{content:"\\f243"}.fa-battery-0[_ngcontent-%COMP%]:before, .fa-battery-empty[_ngcontent-%COMP%]:before{content:"\\f244"}.fa-mouse-pointer[_ngcontent-%COMP%]:before{content:"\\f245"}.fa-i-cursor[_ngcontent-%COMP%]:before{content:"\\f246"}.fa-object-group[_ngcontent-%COMP%]:before{content:"\\f247"}.fa-object-ungroup[_ngcontent-%COMP%]:before{content:"\\f248"}.fa-sticky-note[_ngcontent-%COMP%]:before{content:"\\f249"}.fa-sticky-note-o[_ngcontent-%COMP%]:before{content:"\\f24a"}.fa-cc-jcb[_ngcontent-%COMP%]:before{content:"\\f24b"}.fa-cc-diners-club[_ngcontent-%COMP%]:before{content:"\\f24c"}.fa-clone[_ngcontent-%COMP%]:before{content:"\\f24d"}.fa-balance-scale[_ngcontent-%COMP%]:before{content:"\\f24e"}.fa-hourglass-o[_ngcontent-%COMP%]:before{content:"\\f250"}.fa-hourglass-1[_ngcontent-%COMP%]:before, .fa-hourglass-start[_ngcontent-%COMP%]:before{content:"\\f251"}.fa-hourglass-2[_ngcontent-%COMP%]:before, .fa-hourglass-half[_ngcontent-%COMP%]:before{content:"\\f252"}.fa-hourglass-3[_ngcontent-%COMP%]:before, .fa-hourglass-end[_ngcontent-%COMP%]:before{content:"\\f253"}.fa-hourglass[_ngcontent-%COMP%]:before{content:"\\f254"}.fa-hand-grab-o[_ngcontent-%COMP%]:before, .fa-hand-rock-o[_ngcontent-%COMP%]:before{content:"\\f255"}.fa-hand-stop-o[_ngcontent-%COMP%]:before, .fa-hand-paper-o[_ngcontent-%COMP%]:before{content:"\\f256"}.fa-hand-scissors-o[_ngcontent-%COMP%]:before{content:"\\f257"}.fa-hand-lizard-o[_ngcontent-%COMP%]:before{content:"\\f258"}.fa-hand-spock-o[_ngcontent-%COMP%]:before{content:"\\f259"}.fa-hand-pointer-o[_ngcontent-%COMP%]:before{content:"\\f25a"}.fa-hand-peace-o[_ngcontent-%COMP%]:before{content:"\\f25b"}.fa-trademark[_ngcontent-%COMP%]:before{content:"\\f25c"}.fa-registered[_ngcontent-%COMP%]:before{content:"\\f25d"}.fa-creative-commons[_ngcontent-%COMP%]:before{content:"\\f25e"}.fa-gg[_ngcontent-%COMP%]:before{content:"\\f260"}.fa-gg-circle[_ngcontent-%COMP%]:before{content:"\\f261"}.fa-tripadvisor[_ngcontent-%COMP%]:before{content:"\\f262"}.fa-odnoklassniki[_ngcontent-%COMP%]:before{content:"\\f263"}.fa-odnoklassniki-square[_ngcontent-%COMP%]:before{content:"\\f264"}.fa-get-pocket[_ngcontent-%COMP%]:before{content:"\\f265"}.fa-wikipedia-w[_ngcontent-%COMP%]:before{content:"\\f266"}.fa-safari[_ngcontent-%COMP%]:before{content:"\\f267"}.fa-chrome[_ngcontent-%COMP%]:before{content:"\\f268"}.fa-firefox[_ngcontent-%COMP%]:before{content:"\\f269"}.fa-opera[_ngcontent-%COMP%]:before{content:"\\f26a"}.fa-internet-explorer[_ngcontent-%COMP%]:before{content:"\\f26b"}.fa-tv[_ngcontent-%COMP%]:before, .fa-television[_ngcontent-%COMP%]:before{content:"\\f26c"}.fa-contao[_ngcontent-%COMP%]:before{content:"\\f26d"}.fa-500px[_ngcontent-%COMP%]:before{content:"\\f26e"}.fa-amazon[_ngcontent-%COMP%]:before{content:"\\f270"}.fa-calendar-plus-o[_ngcontent-%COMP%]:before{content:"\\f271"}.fa-calendar-minus-o[_ngcontent-%COMP%]:before{content:"\\f272"}.fa-calendar-times-o[_ngcontent-%COMP%]:before{content:"\\f273"}.fa-calendar-check-o[_ngcontent-%COMP%]:before{content:"\\f274"}.fa-industry[_ngcontent-%COMP%]:before{content:"\\f275"}.fa-map-pin[_ngcontent-%COMP%]:before{content:"\\f276"}.fa-map-signs[_ngcontent-%COMP%]:before{content:"\\f277"}.fa-map-o[_ngcontent-%COMP%]:before{content:"\\f278"}.fa-map[_ngcontent-%COMP%]:before{content:"\\f279"}.fa-commenting[_ngcontent-%COMP%]:before{content:"\\f27a"}.fa-commenting-o[_ngcontent-%COMP%]:before{content:"\\f27b"}.fa-houzz[_ngcontent-%COMP%]:before{content:"\\f27c"}.fa-vimeo[_ngcontent-%COMP%]:before{content:"\\f27d"}.fa-black-tie[_ngcontent-%COMP%]:before{content:"\\f27e"}.fa-fonticons[_ngcontent-%COMP%]:before{content:"\\f280"}.fa-reddit-alien[_ngcontent-%COMP%]:before{content:"\\f281"}.fa-edge[_ngcontent-%COMP%]:before{content:"\\f282"}.fa-credit-card-alt[_ngcontent-%COMP%]:before{content:"\\f283"}.fa-codiepie[_ngcontent-%COMP%]:before{content:"\\f284"}.fa-modx[_ngcontent-%COMP%]:before{content:"\\f285"}.fa-fort-awesome[_ngcontent-%COMP%]:before{content:"\\f286"}.fa-usb[_ngcontent-%COMP%]:before{content:"\\f287"}.fa-product-hunt[_ngcontent-%COMP%]:before{content:"\\f288"}.fa-mixcloud[_ngcontent-%COMP%]:before{content:"\\f289"}.fa-scribd[_ngcontent-%COMP%]:before{content:"\\f28a"}.fa-pause-circle[_ngcontent-%COMP%]:before{content:"\\f28b"}.fa-pause-circle-o[_ngcontent-%COMP%]:before{content:"\\f28c"}.fa-stop-circle[_ngcontent-%COMP%]:before{content:"\\f28d"}.fa-stop-circle-o[_ngcontent-%COMP%]:before{content:"\\f28e"}.fa-shopping-bag[_ngcontent-%COMP%]:before{content:"\\f290"}.fa-shopping-basket[_ngcontent-%COMP%]:before{content:"\\f291"}.fa-hashtag[_ngcontent-%COMP%]:before{content:"\\f292"}.fa-bluetooth[_ngcontent-%COMP%]:before{content:"\\f293"}.fa-bluetooth-b[_ngcontent-%COMP%]:before{content:"\\f294"}.fa-percent[_ngcontent-%COMP%]:before{content:"\\f295"}.fa-gitlab[_ngcontent-%COMP%]:before{content:"\\f296"}.fa-wpbeginner[_ngcontent-%COMP%]:before{content:"\\f297"}.fa-wpforms[_ngcontent-%COMP%]:before{content:"\\f298"}.fa-envira[_ngcontent-%COMP%]:before{content:"\\f299"}.fa-universal-access[_ngcontent-%COMP%]:before{content:"\\f29a"}.fa-wheelchair-alt[_ngcontent-%COMP%]:before{content:"\\f29b"}.fa-question-circle-o[_ngcontent-%COMP%]:before{content:"\\f29c"}.fa-blind[_ngcontent-%COMP%]:before{content:"\\f29d"}.fa-audio-description[_ngcontent-%COMP%]:before{content:"\\f29e"}.fa-volume-control-phone[_ngcontent-%COMP%]:before{content:"\\f2a0"}.fa-braille[_ngcontent-%COMP%]:before{content:"\\f2a1"}.fa-assistive-listening-systems[_ngcontent-%COMP%]:before{content:"\\f2a2"}.fa-asl-interpreting[_ngcontent-%COMP%]:before, .fa-american-sign-language-interpreting[_ngcontent-%COMP%]:before{content:"\\f2a3"}.fa-deafness[_ngcontent-%COMP%]:before, .fa-hard-of-hearing[_ngcontent-%COMP%]:before, .fa-deaf[_ngcontent-%COMP%]:before{content:"\\f2a4"}.fa-glide[_ngcontent-%COMP%]:before{content:"\\f2a5"}.fa-glide-g[_ngcontent-%COMP%]:before{content:"\\f2a6"}.fa-signing[_ngcontent-%COMP%]:before, .fa-sign-language[_ngcontent-%COMP%]:before{content:"\\f2a7"}.fa-low-vision[_ngcontent-%COMP%]:before{content:"\\f2a8"}.fa-viadeo[_ngcontent-%COMP%]:before{content:"\\f2a9"}.fa-viadeo-square[_ngcontent-%COMP%]:before{content:"\\f2aa"}.fa-snapchat[_ngcontent-%COMP%]:before{content:"\\f2ab"}.fa-snapchat-ghost[_ngcontent-%COMP%]:before{content:"\\f2ac"}.fa-snapchat-square[_ngcontent-%COMP%]:before{content:"\\f2ad"}.fa-pied-piper[_ngcontent-%COMP%]:before{content:"\\f2ae"}.fa-first-order[_ngcontent-%COMP%]:before{content:"\\f2b0"}.fa-yoast[_ngcontent-%COMP%]:before{content:"\\f2b1"}.fa-themeisle[_ngcontent-%COMP%]:before{content:"\\f2b2"}.fa-google-plus-circle[_ngcontent-%COMP%]:before, .fa-google-plus-official[_ngcontent-%COMP%]:before{content:"\\f2b3"}.fa-fa[_ngcontent-%COMP%]:before, .fa-font-awesome[_ngcontent-%COMP%]:before{content:"\\f2b4"}.fa-handshake-o[_ngcontent-%COMP%]:before{content:"\\f2b5"}.fa-envelope-open[_ngcontent-%COMP%]:before{content:"\\f2b6"}.fa-envelope-open-o[_ngcontent-%COMP%]:before{content:"\\f2b7"}.fa-linode[_ngcontent-%COMP%]:before{content:"\\f2b8"}.fa-address-book[_ngcontent-%COMP%]:before{content:"\\f2b9"}.fa-address-book-o[_ngcontent-%COMP%]:before{content:"\\f2ba"}.fa-vcard[_ngcontent-%COMP%]:before, .fa-address-card[_ngcontent-%COMP%]:before{content:"\\f2bb"}.fa-vcard-o[_ngcontent-%COMP%]:before, .fa-address-card-o[_ngcontent-%COMP%]:before{content:"\\f2bc"}.fa-user-circle[_ngcontent-%COMP%]:before{content:"\\f2bd"}.fa-user-circle-o[_ngcontent-%COMP%]:before{content:"\\f2be"}.fa-user-o[_ngcontent-%COMP%]:before{content:"\\f2c0"}.fa-id-badge[_ngcontent-%COMP%]:before{content:"\\f2c1"}.fa-drivers-license[_ngcontent-%COMP%]:before, .fa-id-card[_ngcontent-%COMP%]:before{content:"\\f2c2"}.fa-drivers-license-o[_ngcontent-%COMP%]:before, .fa-id-card-o[_ngcontent-%COMP%]:before{content:"\\f2c3"}.fa-quora[_ngcontent-%COMP%]:before{content:"\\f2c4"}.fa-free-code-camp[_ngcontent-%COMP%]:before{content:"\\f2c5"}.fa-telegram[_ngcontent-%COMP%]:before{content:"\\f2c6"}.fa-thermometer-4[_ngcontent-%COMP%]:before, .fa-thermometer[_ngcontent-%COMP%]:before, .fa-thermometer-full[_ngcontent-%COMP%]:before{content:"\\f2c7"}.fa-thermometer-3[_ngcontent-%COMP%]:before, .fa-thermometer-three-quarters[_ngcontent-%COMP%]:before{content:"\\f2c8"}.fa-thermometer-2[_ngcontent-%COMP%]:before, .fa-thermometer-half[_ngcontent-%COMP%]:before{content:"\\f2c9"}.fa-thermometer-1[_ngcontent-%COMP%]:before, .fa-thermometer-quarter[_ngcontent-%COMP%]:before{content:"\\f2ca"}.fa-thermometer-0[_ngcontent-%COMP%]:before, .fa-thermometer-empty[_ngcontent-%COMP%]:before{content:"\\f2cb"}.fa-shower[_ngcontent-%COMP%]:before{content:"\\f2cc"}.fa-bathtub[_ngcontent-%COMP%]:before, .fa-s15[_ngcontent-%COMP%]:before, .fa-bath[_ngcontent-%COMP%]:before{content:"\\f2cd"}.fa-podcast[_ngcontent-%COMP%]:before{content:"\\f2ce"}.fa-window-maximize[_ngcontent-%COMP%]:before{content:"\\f2d0"}.fa-window-minimize[_ngcontent-%COMP%]:before{content:"\\f2d1"}.fa-window-restore[_ngcontent-%COMP%]:before{content:"\\f2d2"}.fa-times-rectangle[_ngcontent-%COMP%]:before, .fa-window-close[_ngcontent-%COMP%]:before{content:"\\f2d3"}.fa-times-rectangle-o[_ngcontent-%COMP%]:before, .fa-window-close-o[_ngcontent-%COMP%]:before{content:"\\f2d4"}.fa-bandcamp[_ngcontent-%COMP%]:before{content:"\\f2d5"}.fa-grav[_ngcontent-%COMP%]:before{content:"\\f2d6"}.fa-etsy[_ngcontent-%COMP%]:before{content:"\\f2d7"}.fa-imdb[_ngcontent-%COMP%]:before{content:"\\f2d8"}.fa-ravelry[_ngcontent-%COMP%]:before{content:"\\f2d9"}.fa-eercast[_ngcontent-%COMP%]:before{content:"\\f2da"}.fa-microchip[_ngcontent-%COMP%]:before{content:"\\f2db"}.fa-snowflake-o[_ngcontent-%COMP%]:before{content:"\\f2dc"}.fa-superpowers[_ngcontent-%COMP%]:before{content:"\\f2dd"}.fa-wpexplorer[_ngcontent-%COMP%]:before{content:"\\f2de"}.fa-meetup[_ngcontent-%COMP%]:before{content:"\\f2e0"}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable[_ngcontent-%COMP%]:active, .sr-only-focusable[_ngcontent-%COMP%]:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-textarea[_ngcontent-%COMP%]{min-height:150px;overflow:auto;margin-top:5px;resize:vertical}.angular-editor-textarea[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;right:0;display:block;width:8px;height:8px;cursor:nwse-resize;background-color:#ffffff80}.angular-editor-toolbar[_ngcontent-%COMP%]{font:100 14px/15px Roboto,Arial,sans-serif;background-color:#f5f5f5;font-size:.8rem;padding:.2rem;border:1px solid #ddd}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]{display:none;margin-right:5px;vertical-align:baseline}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]{background-color:#fff;vertical-align:middle;border:1px solid #ddd;padding:.4rem;min-width:2rem;float:left}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:focus, .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.focus[_ngcontent-%COMP%]{outline:0}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background:#555555}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.background[_ngcontent-%COMP%]{background:#555555}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]{background:#fff5b9}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]:hover{background-color:#fffa98}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:11px;width:90px;vertical-align:middle;background-color:transparent;border:.5px solid rgba(255,255,255,0);border-radius:5px;outline:none;padding:.4rem;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .default[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:24px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:15px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h5[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h6[_ngcontent-%COMP%]{font-size:13px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .div[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .pre[_ngcontent-%COMP%]{font-size:12px}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]{display:inline-block;width:50px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size1[_ngcontent-%COMP%]{font-size:10px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size2[_ngcontent-%COMP%]{font-size:12px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size3[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size4[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size5[_ngcontent-%COMP%]{font-size:18px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size6[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size7[_ngcontent-%COMP%]{font-size:22px}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .color-label[_ngcontent-%COMP%]{position:relative;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{font-size:smaller;background:#1b1b1b;color:#fff;padding:3px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{position:absolute;content:"";left:-1px;top:auto;bottom:-3px;right:auto;width:15px;height:2px;z-index:0;background:#1b1b1b}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]:not([style*="display:none"]):not([style*="display: none"]){display:inline-block}.angular-editor[_ngcontent-%COMP%]{position:relative}.angular-editor[_ngcontent-%COMP%]     [contenteditable=true]:empty:before{content:attr(placeholder);color:#868e96;opacity:1}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]{position:relative}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]{min-height:5rem;padding:.5rem .8rem 1rem;border:1px solid #ddd;background-color:transparent;overflow-x:hidden;overflow-y:auto;position:relative}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]     blockquote{margin-left:1rem;border-left:.2em solid #dfe2e5;padding-left:.5rem}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]     p{margin-bottom:0}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-placeholder[_ngcontent-%COMP%]{display:none;position:absolute;top:0;padding:.5rem .8rem 1rem .9rem;color:#6c757d;opacity:.75}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper.show-placeholder[_ngcontent-%COMP%]   .angular-editor-placeholder[_ngcontent-%COMP%]{display:block}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5;pointer-events:none}']}),n})(),PT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[nu,Q_,J_]]}),n})();var Zo=F(2011),Ci=F(6451),dg=F(5363);function no(n,e){return(0,Vo.e)((t,r)=>{let o=null,a=0,u=!1;const h=()=>u&&!o&&r.complete();t.subscribe((0,zr.x)(r,_=>{o?.unsubscribe();let v=0;const M=a++;(0,ol.Xf)(n(_,M)).subscribe(o=(0,zr.x)(r,D=>r.next(e?e(_,D,M,v++):D),()=>{o=null,h()}))},()=>{u=!0,h()}))})}var nA=F(6063);class Ey extends Uo.x{constructor(e=1/0,t=1/0,r=nA.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:a,_windowTime:u}=this;t||(r.push(e),!o&&r.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,a=o.slice();for(let u=0;u<a.length&&!e.closed;u+=r?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,a=(o?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!o){const u=t.now();let h=0;for(let _=1;_<r.length&&r[_]<=u;_+=2)h=_;h&&r.splice(0,h+1)}}}var x0=F(3099);function k0(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,x0.B)({connector:()=>new Ey(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const hg=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var fa=F(515);function Xu(n){return n<=0?()=>fa.E:(0,Vo.e)((e,t)=>{let r=0;e.subscribe((0,zr.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function pg(n){return(0,Vo.e)((e,t)=>{let r=!1;e.subscribe((0,zr.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function gg(n=OT){return(0,Vo.e)((e,t)=>{let r=!1;e.subscribe((0,zr.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function OT(){return new hg}var Qd=F(4671);function da(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ao((o,a)=>n(o,a,r)):Qd.y,Xu(1),t?pg(e):gg(()=>new hg))}function R0(n,e){return(0,ay.m)(e)?no(()=>n,e):no(()=>n)}var My=F(9468),pn=F(3324),Os=F(259);class ef{constructor(e){return e}}class N0{constructor(){return(0,Os.C6)()}}const Iy=new l.OlP("angularfire2._apps"),xT={provide:ef,useFactory:function AT(n){return n&&1===n.length?n[0]:new ef((0,Os.Mq)())},deps:[[new l.FiY,Iy]]},Ty={provide:N0,deps:[[new l.FiY,Iy]]};function kT(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ef(r)}}let RT=(()=>{class n{constructor(t){(0,Os.KN)("angularfire",pn.q4.full,"core"),(0,Os.KN)("angularfire",pn.q4.full,"app"),(0,Os.KN)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[xT,Ty]}),n})();function mg(n,...e){return{ngModule:RT,providers:[{provide:Iy,useFactory:kT(n),multi:!0,deps:[l.R0b,l.zs3,pn.HU,...e]}]}}const Oy=(0,pn.u3)(Os.ZF,!0);var Me=F(5861),ci=F(6881),rc=F(4859),$t=F(2090),es=F(1877);const tf=new Map,nf={activated:!1,tokenObservers:[]},LT={initialized:!1,enabled:!1};function Pr(n){return tf.get(n)||Object.assign({},nf)}function _g(){return LT}const Sy="https://content-firebaseappcheck.googleapis.com/v1",rA="exchangeDebugToken",L0={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class BT{constructor(e,t,r,o,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=o,o>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Me.Z)(function*(){t.stop();try{t.pending=new $t.BH,yield function HT(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new $t.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const xo=new $t.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function bg(n){if(!Pr(n).activated)throw xo.create("use-before-activation",{appName:n.name})}function rf(n,e){return Ay.apply(this,arguments)}function Ay(){return(Ay=(0,Me.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const D=yield o.getHeartbeatsHeader();D&&(r["X-Firebase-Client"]=D)}const a={method:"POST",body:JSON.stringify(e),headers:r};let u,h;try{u=yield fetch(n,a)}catch(D){throw xo.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==u.status)throw xo.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(D){throw xo.create("fetch-parse-error",{originalErrorMessage:D?.message})}const _=h.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw xo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const v=1e3*Number(_[1]),M=Date.now();return{token:h.token,expireTimeMillis:M+v,issuedAtTimeMillis:M}})).apply(this,arguments)}function U0(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`${Sy}/projects/${t}/apps/${r}:${rA}?key=${o}`,body:{debug_token:e}}}const qT="firebase-app-check-database",GT=1,eh="firebase-app-check-store";let th=null;function H0(n,e){return ky.apply(this,arguments)}function ky(){return(ky=(0,Me.Z)(function*(n,e){const r=(yield function V0(){return th||(th=new Promise((n,e)=>{try{const t=indexedDB.open(qT,GT);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(xo.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(eh,{keyPath:"compositeKey"})}}catch(t){e(xo.create("storage-open",{originalErrorMessage:t?.message}))}}),th)}()).transaction(eh,"readwrite"),a=r.objectStore(eh).put({compositeKey:n,value:e});return new Promise((u,h)=>{a.onsuccess=_=>{u()},r.onerror=_=>{var v;h(xo.create("storage-set",{originalErrorMessage:null===(v=_.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const ha=new es.Yd("@firebase/app-check");function sf(n,e){return(0,$t.hl)()?function B0(n,e){return H0(function ts(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ha.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function oc(){return _g().enabled}function ic(){return sc.apply(this,arguments)}function sc(){return(sc=(0,Me.Z)(function*(){const n=_g();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const cf={error:"UNKNOWN_ERROR"};function lf(n){return $t.US.encodeString(JSON.stringify(n),!1)}function ga(n){return ac.apply(this,arguments)}function ac(){return(ac=(0,Me.Z)(function*(n,e=!1){const t=n.app;bg(t);const r=Pr(t);let a,o=r.token;if(o&&!Il(o)&&(r.token=void 0,o=void 0),!o){const _=yield r.cachedTokenPromise;_&&(Il(_)?o=_:yield sf(t,void 0))}if(!e&&o&&Il(o))return{token:o.token};let h,u=!1;if(oc()){r.exchangeTokenPromise||(r.exchangeTokenPromise=rf(U0(t,yield ic()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const _=yield r.exchangeTokenPromise;return yield sf(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),o=yield Pr(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?ha.warn(_.message):ha.error(_),a=_}return o?a?h=Il(o)?{token:o.token,internalError:a}:Ly(a):(h={token:o.token},r.token=o,yield sf(t,o)):h=Ly(a),u&&function Fy(n,e){const t=Pr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,h),h})).apply(this,arguments)}function Ml(n){return Eg.apply(this,arguments)}function Eg(){return(Eg=(0,Me.Z)(function*(n){const e=n.app;bg(e);const{provider:t}=Pr(e);if(oc()){const r=yield ic(),{token:o}=yield rf(U0(e,r),n.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function Ig(n,e){const t=Pr(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Ny(n){const{app:e}=n,t=Pr(e);let r=t.tokenRefresher;r||(r=function $0(n){const{app:e}=n;return new BT((0,Me.Z)(function*(){let r;if(r=Pr(e).token?yield ga(n,!0):yield ga(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Pr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},L0.RETRIAL_MIN_WAIT,L0.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Il(n){return n.expireTimeMillis-Date.now()>0}function Ly(n){return{token:lf(cf),error:n}}class j0{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Pr(this.app);for(const t of e)Ig(this.app,t.next);return Promise.resolve()}}const qy="app-check-internal";!function Gy(){(0,ci._registerComponent)(new rc.wA("app-check",n=>function WT(n,e){return new j0(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(qy).initialize()})),(0,ci._registerComponent)(new rc.wA(qy,n=>function ZT(n){return{getToken:e=>ga(n,e),getLimitedUseToken:()=>Ml(n),addTokenListener:e=>function Mg(n,e,t,r){const{app:o}=n,a=Pr(o);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&Il(a.token)){const h=a.token;Promise.resolve().then(()=>{t({token:h.token}),Ny(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Ny(n))}(n,"INTERNAL",e),removeTokenListener:e=>Ig(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ci.registerVersion)("@firebase/app-check","0.8.0")}();class uf{constructor(){return(0,pn.vb)("app-check")}}typeof window<"u"&&window;var J0=F(9260);const X0=new l.OlP("angularfire2.auth.use-emulator"),ew=new l.OlP("angularfire2.auth.settings"),Wy=new l.OlP("angularfire2.auth.tenant-id"),tw=new l.OlP("angularfire2.auth.langugage-code"),ro=new l.OlP("angularfire2.auth.use-device-language"),Zy=new l.OlP("angularfire.auth.persistence"),nw=(n,e,t,r,o,a,u,h)=>(0,Zo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=o,a&&_.useDeviceLanguage(),u)for(const[v,M]of Object.entries(u))_.settings[v]=M;return h&&_.setPersistence(h),_},[t,r,o,a,u,h]);let Ng=(()=>{class n{constructor(t,r,o,a,u,h,_,v,M,D,L,B){const Z=new Uo.x,oe=xt(void 0).pipe((0,dg.Q)(u.outsideAngular),no(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9568)))),(0,Dt.U)(()=>(0,Zo.on)(t,a,r)),(0,Dt.U)(ue=>nw(ue,a,h,v,M,D,_,L)),k0({bufferSize:1,refCount:!1}));if(ds(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=xt(null);else{oe.pipe(da()).subscribe();const Ve=oe.pipe(no(ot=>ot.getRedirectResult().then(Wt=>Wt,()=>null)),pn.iC,k0({bufferSize:1,refCount:!1})),rt=oe.pipe(no(ot=>new _o.y(Wt=>({unsubscribe:a.runOutsideAngular(()=>ot.onAuthStateChanged(Zt=>Wt.next(Zt),Zt=>Wt.error(Zt),()=>Wt.complete()))})))),tt=oe.pipe(no(ot=>new _o.y(Wt=>({unsubscribe:a.runOutsideAngular(()=>ot.onIdTokenChanged(Zt=>Wt.next(Zt),Zt=>Wt.error(Zt),()=>Wt.complete()))}))));this.authState=Ve.pipe(R0(rt),(0,My.R)(u.outsideAngular),(0,dg.Q)(u.insideAngular)),this.user=Ve.pipe(R0(tt),(0,My.R)(u.outsideAngular),(0,dg.Q)(u.insideAngular)),this.idToken=this.user.pipe(no(ot=>ot?(0,In.D)(ot.getIdToken()):xt(null))),this.idTokenResult=this.user.pipe(no(ot=>ot?(0,In.D)(ot.getIdTokenResult()):xt(null))),this.credential=(0,Ci.T)(Ve,Z,this.authState.pipe(Ao(ot=>!ot))).pipe((0,Dt.U)(ot=>ot?.user?ot:null),(0,My.R)(u.outsideAngular),(0,dg.Q)(u.insideAngular))}return(0,Zo.pX)(this,oe,a,{spy:{apply:(ue,Ve,rt)=>{(ue.startsWith("signIn")||ue.startsWith("createUser"))&&rt.then(tt=>Z.next(tt))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Zo.Dh),l.LFG(Zo.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(pn.HU),l.LFG(X0,8),l.LFG(ew,8),l.LFG(Wy,8),l.LFG(tw,8),l.LFG(ro,8),l.LFG(Zy,8),l.LFG(uf,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),rw=(()=>{class n{constructor(){J0.Z.registerVersion("angularfire",pn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Ng]}),n})();var ow=F(4986),df=F(8189);function cc(...n){return function iw(){return(0,df.J)(1)}()((0,In.D)(n,(0,qa.yG)(n)))}function Fg(...n){const e=(0,qa.yG)(n);return(0,Vo.e)((t,r)=>{(e?cc(n,t,e):cc(n,t)).subscribe(r)})}function Ky(){return(0,Vo.e)((n,e)=>{let t,r=!1;n.subscribe((0,zr.x)(e,o=>{const a=t;t=o,r&&e.next([a,o]),r=!0}))})}function ih(n,e){return(0,Vo.e)(function sw(n,e,t,r,o){return(a,u)=>{let h=t,_=e,v=0;a.subscribe((0,zr.x)(u,M=>{const D=v++;_=h?n(_,M,D):(h=!0,M),r&&u.next(_)},o&&(()=>{h&&u.next(_),u.complete()})))}}(n,e,arguments.length>=2,!0))}function uA(n,e){return n===e}F(9568);var pt,Lg=F(3942),Ss=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ns={},Bi=Bi||{},Bt=Ss||self;function li(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function hf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Yy="closure_uid_"+(1e9*Math.random()>>>0),sP=0;function aP(n,e,t){return n.call.apply(n.bind,arguments)}function cP(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function bo(n,e,t){return(bo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aP:cP).apply(null,arguments)}function lc(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function vo(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,o,a){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[o].apply(r,u)}}function ma(){this.s=this.s,this.o=this.o}ma.prototype.s=!1,ma.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function lw(n){Object.prototype.hasOwnProperty.call(n,Yy)&&n[Yy]||(n[Yy]=++sP)}(this)},ma.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Ug(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Qy(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(li(r)){const o=n.length||0,a=r.length||0;n.length=o+a;for(let u=0;u<a;u++)n[o+u]=r[u]}else n.push(r)}}function uo(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}uo.prototype.h=function(){this.defaultPrevented=!0};var uP=function(){if(!Bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Bt.addEventListener("test",()=>{},e),Bt.removeEventListener("test",()=>{},e)}catch{}return n}();function pf(n){return/^[\s\xa0]*$/.test(n)}function sh(){var n=Bt.navigator;return n&&(n=n.userAgent)?n:""}function Hi(n){return-1!=sh().indexOf(n)}function gf(n){return gf[" "](n),n}gf[" "]=function(){};var tb,n,dw=Hi("Opera"),Dl=Hi("Trident")||Hi("MSIE"),Jy=Hi("Edge"),Vg=Jy||Dl,Xy=Hi("Gecko")&&!(-1!=sh().toLowerCase().indexOf("webkit")&&!Hi("Edge"))&&!(Hi("Trident")||Hi("MSIE"))&&!Hi("Edge"),hw=-1!=sh().toLowerCase().indexOf("webkit")&&!Hi("Edge");function eb(){var n=Bt.document;return n?n.documentMode:void 0}e:{var nb="",rb=(n=sh(),Xy?/rv:([^\);]+)(\)|;)/.exec(n):Jy?/Edge\/([\d\.]+)/.exec(n):Dl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):hw?/WebKit\/(\S+)/.exec(n):dw?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(rb&&(nb=rb?rb[1]:""),Dl){var ob=eb();if(null!=ob&&ob>parseFloat(nb)){tb=String(ob);break e}}tb=nb}var fP=Bt.document&&Dl&&(eb()||parseInt(tb,10))||void 0;function ah(n,e){if(uo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Xy){e:{try{gf(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:dP[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ah.$.h.call(this)}}vo(ah,uo);var dP={2:"touch",3:"pen",4:"mouse"};ah.prototype.h=function(){ah.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ch="closure_listenable_"+(1e6*Math.random()|0),hP=0;function pP(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=o,this.key=++hP,this.fa=this.ia=!1}function Bg(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function sb(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function gw(n){const e={};for(const t in n)e[t]=n[t];return e}const mw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _w(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let a=0;a<mw.length;a++)t=mw[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function lh(n){this.src=n,this.g={},this.h=0}function Hg(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],o=uw(r,e);(a=0<=o)&&Array.prototype.splice.call(r,o,1),a&&(Bg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function $g(n,e,t,r){for(var o=0;o<n.length;++o){var a=n[o];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return o}return-1}lh.prototype.add=function(n,e,t,r,o){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=$g(n,e,r,o);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new pP(e,this.src,a,!!r,o)).ia=t,n.push(e)),e};var jg="closure_lm_"+(1e6*Math.random()|0),zg={};function ab(n,e,t,r,o){if(r&&r.once)return lb(n,e,t,r,o);if(Array.isArray(e)){for(var a=0;a<e.length;a++)ab(n,e[a],t,r,o);return null}return t=bw(t),n&&n[ch]?n.O(e,t,hf(r)?!!r.capture:!!r,o):cb(n,e,t,!1,r,o)}function cb(n,e,t,r,o,a){if(!e)throw Error("Invalid event type");var u=hf(o)?!!o.capture:!!o,h=fb(n);if(h||(n[jg]=h=new lh(n)),(t=h.add(e,t,r,u,a)).proxy)return t;if(r=function yw(){const e=mP;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)uP||(o=u),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(uc(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function lb(n,e,t,r,o){if(Array.isArray(e)){for(var a=0;a<e.length;a++)lb(n,e[a],t,r,o);return null}return t=bw(t),n&&n[ch]?n.P(e,t,hf(r)?!!r.capture:!!r,o):cb(n,e,t,!0,r,o)}function ub(n,e,t,r,o){if(Array.isArray(e))for(var a=0;a<e.length;a++)ub(n,e[a],t,r,o);else r=hf(r)?!!r.capture:!!r,t=bw(t),n&&n[ch]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=$g(a=n.g[e],t,r,o))&&(Bg(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=fb(n))&&(e=n.g[e.toString()],n=-1,e&&(n=$g(e,t,r,o)),(t=-1<n?e[n]:null)&&uh(t))}function uh(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[ch])Hg(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(uc(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=fb(e))?(Hg(t,n),0==t.h&&(t.src=null,e[jg]=null)):Bg(n)}}}function uc(n){return n in zg?zg[n]:zg[n]="on"+n}function mP(n,e){if(n.fa)n=!0;else{e=new ah(e,this);var t=n.listener,r=n.la||n.src;n.ia&&uh(n),n=t.call(r,e)}return n}function fb(n){return(n=n[jg])instanceof lh?n:null}var fc="__closure_events_fn_"+(1e9*Math.random()>>>0);function bw(n){return"function"==typeof n?n:(n[fc]||(n[fc]=function(e){return n.handleEvent(e)}),n[fc])}function oo(){ma.call(this),this.i=new lh(this),this.S=this,this.J=null}function Ho(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new uo(e,n);else if(e instanceof uo)e.target=e.target||n;else{var o=e;_w(e=new uo(r,n),o)}if(o=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];o=fh(u,r,!0,e)&&o}if(o=fh(u=e.g=n,r,!0,e)&&o,o=fh(u,r,!1,e)&&o,t)for(a=0;a<t.length;a++)o=fh(u=e.g=t[a],r,!1,e)&&o}function fh(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.fa&&u.capture==t){var h=u.listener,_=u.la||u.src;u.ia&&Hg(n.i,u),o=!1!==h.call(_,r)&&o}}return o&&!r.defaultPrevented}vo(oo,ma),oo.prototype[ch]=!0,oo.prototype.removeEventListener=function(n,e,t,r){ub(this,n,e,t,r)},oo.prototype.N=function(){if(oo.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Bg(t[r]);delete n.g[e],n.h--}}this.J=null},oo.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},oo.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var qg=Bt.JSON.stringify;function jt(){var n=Er;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var vw=new class fA{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new yP,n=>n.reset());class yP{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function mf(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function bP(n){Bt.setTimeout(()=>{throw n},0)}let dc,hc=!1,Er=new class _P{constructor(){this.h=this.g=null}add(e,t){const r=vw.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},vP=()=>{const n=Bt.Promise.resolve(void 0);dc=()=>{n.then(Cw)}};var Cw=()=>{for(var n;n=jt();){try{n.h.call(n.g)}catch(t){bP(t)}var e=vw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}hc=!1};function dh(n,e){oo.call(this),this.h=n||1,this.g=e||Bt,this.j=bo(this.qb,this),this.l=Date.now()}function db(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Gg(n,e,t){if("function"==typeof n)t&&(n=bo(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=bo(n.handleEvent,n)}return 2147483647<Number(e)?-1:Bt.setTimeout(n,e||0)}function hb(n){n.g=Gg(()=>{n.g=null,n.i&&(n.i=!1,hb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}vo(dh,oo),(pt=dh.prototype).ga=!1,pt.T=null,pt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ho(this,"tick"),this.ga&&(db(this),this.start()))}},pt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pt.N=function(){dh.$.N.call(this),db(this),delete this.g};class ww extends ma{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hb(this)}N(){super.N(),this.g&&(Bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _f(n){ma.call(this),this.h=n,this.g={}}vo(_f,ma);var Ew=[];function Mw(n,e,t,r){Array.isArray(t)||(t&&(Ew[0]=t.toString()),t=Ew);for(var o=0;o<t.length;o++){var a=ab(e,t[o],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Iw(n){sb(n.g,function(e,t){this.g.hasOwnProperty(t)&&uh(e)},n),n.g={}}function pc(){this.g=!0}function yf(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Tw(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var a=o[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<o.length;u++)o[u]=""}}}return qg(t)}catch{return e}}(n,t)+(r?" "+r:"")})}_f.prototype.N=function(){_f.$.N.call(this),Iw(this)},_f.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pc.prototype.Ea=function(){this.g=!1},pc.prototype.info=function(){};var gc={},pb=null;function Zg(){return pb=pb||new oo}function bf(n){uo.call(this,gc.Ta,n)}function _a(n){const e=Zg();Ho(e,new bf(e))}function Pw(n,e){uo.call(this,gc.STAT_EVENT,n),this.stat=e}function Ko(n){const e=Zg();Ho(e,new Pw(e,n))}function Dw(n,e){uo.call(this,gc.Ua,n),this.size=e}function vf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Bt.setTimeout(function(){n()},e)}gc.Ta="serverreachability",vo(bf,uo),gc.STAT_EVENT="statevent",vo(Pw,uo),gc.Ua="timingevent",vo(Dw,uo);var hh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function mb(){}function Ow(){}mb.prototype.h=null;var xw,ph={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Sw(){uo.call(this,"d")}function Aw(){uo.call(this,"c")}function yb(){}function Cf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new _f(this),this.P=EP,this.V=new dh(n=Vg?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new gh}function gh(){this.i=null,this.g="",this.h=!1}vo(Sw,uo),vo(Aw,uo),vo(yb,mb),yb.prototype.g=function(){return new XMLHttpRequest},yb.prototype.i=function(){return{}},xw=new yb;var EP=45e3,bb={},mh={};function Ol(n,e,t){n.L=1,n.v=Qg(ya(e)),n.s=t,n.S=!0,kw(n,null)}function kw(n,e){n.G=Date.now(),Kg(n),n.A=ya(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),jw(t.i,"t",r),n.C=0,t=n.l.J,n.h=new gh,n.g=Bb(n.l,t?e:null,!n.s),0<n.O&&(n.M=new ww(bo(n.Pa,n,n.g),n.O)),Mw(n.U,n.g,"readystatechange",n.nb),e=n.I?gw(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),_a(),function CP(n,e,t,r,o,a){n.info(function(){if(n.g)if(a)for(var u="",h=a.split("&"),_=0;_<h.length;_++){var v=h[_].split("=");if(1<v.length){var M=v[0];v=v[1];var D=M.split("_");u=2<=D.length&&"type"==D[1]?u+(M+"=")+v+"&":u+(M+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Rw(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Nw(n,e,t){let o,r=!0;for(;!n.J&&n.C<t.length;){if(o=MP(n,t),o==mh){4==e&&(n.o=4,Ko(14),r=!1),yf(n.j,n.m,null,"[Incomplete Response]");break}if(o==bb){n.o=4,Ko(15),yf(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}yf(n.j,n.m,o,null),Al(n,o)}Rw(n)&&o!=mh&&o!=bb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ko(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Lb(e),e.M=!0,Ko(11))):(yf(n.j,n.m,t,"[Invalid Chunked Response]"),Sl(n),yh(n))}function MP(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?mh:(t=Number(e.substring(t,r)),isNaN(t)?bb:(r+=1)+t>e.length?mh:(e=e.slice(r,r+t),n.C=r+t,e))}function Kg(n){n.Y=Date.now()+n.P,Fw(n,n.P)}function Fw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=vf(bo(n.lb,n),e)}function _h(n){n.B&&(Bt.clearTimeout(n.B),n.B=null)}function yh(n){0==n.l.H||n.J||iE(n.l,n)}function Sl(n){_h(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,db(n.V),Iw(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Al(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Eb(t.i,n)))if(!n.K&&Eb(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;om(t),Rb(t)}Fb(t),Ko(18)}}else t.Fa=o[1],0<t.Fa-t.V&&37500>o[2]&&t.G&&0==t.A&&!t.v&&(t.v=vf(bo(t.ib,t),6e3));if(1>=Zw(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else yc(t,11)}else if((n.K||t.g==n)&&om(t),!pf(e))for(o=t.Ja.g.parse(e),e=0;e<o.length;e++){let v=o[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.K=v[1],t.pa=v[2];const M=v[3];null!=M&&(t.ra=M,t.l.info("VER="+t.ra));const D=v[4];null!=D&&(t.Ga=D,t.l.info("SVER="+t.Ga));const L=v[5];null!=L&&"number"==typeof L&&0<L&&(t.L=r=1.5*L,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const Z=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z){var a=r.i;a.g||-1==Z.indexOf("spdy")&&-1==Z.indexOf("quic")&&-1==Z.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(wh(a,a.h),a.h=null))}if(r.F){const oe=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;oe&&(r.Da=oe,ur(r.I,r.F,oe))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var u=n;if((r=t).wa=Vb(r,r.J?r.pa:null,r.Y),u.K){Jg(r.i,u);var h=u,_=r.L;_&&h.setTimeout(_),h.B&&(_h(h),Kg(h)),r.g=u}else rE(r);0<t.j.length&&rm(t)}else"stop"!=v[0]&&"close"!=v[0]||yc(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?yc(t,7):kb(t):"noop"!=v[0]&&t.h&&t.h.Aa(v),t.A=0)}_a()}catch{}}function Uw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(li(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Lw(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(li(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function IP(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(li(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,a=0;a<o;a++)e.call(void 0,r[a],t&&t[a],n)}(pt=Cf.prototype).setTimeout=function(n){this.P=n},pt.nb=function(n){n=n.target;const e=this.M;e&&3==As(n)?e.l():this.Pa(n)},pt.Pa=function(n){try{if(n==this.g)e:{const M=As(this.g);var e=this.g.Ia();if(this.g.da(),!(3>M)&&(3!=M||Vg||this.g&&(this.h.h||this.g.ja()||Jw(this.g)))){this.J||4!=M||7==e||_a(),_h(this);var t=this.g.da();this.ca=t;t:if(Rw(this)){var r=Jw(this.g);n="";var o=r.length,a=4==As(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Sl(this),yh(this);var u="";break t}this.h.i=new Bt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function wP(n,e,t,r,o,a,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.W,M,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,_=this.g;if((h=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pf(h)){var v=h;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Ko(12),Sl(this),yh(this);break e}yf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Al(this,t)}this.S?(Nw(this,M,u),Vg&&this.i&&3==M&&(Mw(this.U,this.V,"tick",this.mb),this.V.start())):(yf(this.j,this.m,u,null),Al(this,u)),4==M&&Sl(this),this.i&&!this.J&&(4==M?iE(this.l,this):(this.i=!1,Kg(this)))}else(function RP(n){const e={};n=(n.g&&2<=As(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(pf(n[r]))continue;var t=mf(n[r]);const o=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[o]||[];e[o]=a,a.push(t)}!function gP(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Ko(12)):(this.o=0,Ko(13)),Sl(this),yh(this)}}}catch{}},pt.mb=function(){if(this.g){var n=As(this.g),e=this.g.ja();this.C<e.length&&(_h(this),Nw(this,n,e),this.i&&4!=n&&Kg(this))}},pt.cancel=function(){this.J=!0,Sl(this)},pt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Wg(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(_a(),Ko(17)),Sl(this),this.o=2,yh(this)):Fw(this,this.Y-n)};var vb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof mc){this.h=n.h,wf(this,n.j),this.s=n.s,this.g=n.g,Yg(this,n.m),this.l=n.l;var e=n.i,t=new Ch;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Cb(this,t),this.o=n.o}else n&&(e=String(n).match(vb))?(this.h=!1,wf(this,e[1]||"",!0),this.s=bh(e[2]||""),this.g=bh(e[3]||"",!0),Yg(this,e[4]),this.l=bh(e[5]||"",!0),Cb(this,e[6]||"",!0),this.o=bh(e[7]||"")):(this.h=!1,this.i=new Ch(null,this.h))}function ya(n){return new mc(n)}function wf(n,e,t){n.j=t?bh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Yg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Cb(n,e,t){e instanceof Ch?(n.i=e,function zw(n,e){e&&!n.j&&(_c(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(Hw(this,r),jw(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=vh(e,DP)),n.i=new Ch(e,n.h))}function ur(n,e,t){n.i.set(e,t)}function Qg(n){return ur(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function bh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function vh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,wb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function wb(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}mc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(vh(e,Vw,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(vh(e,Vw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(vh(t,"/"==t.charAt(0)?PP:Bw,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",vh(t,OP)),n.join("")};var Vw=/[#\/\?@]/g,Bw=/[#\?:]/g,PP=/[#\?]/g,DP=/[#\?@]/g,OP=/#/g;function Ch(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function _c(n){n.g||(n.g=new Map,n.h=0,n.i&&function TP(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var a=n[t].substring(0,r);o=n[t].substring(r+1)}else a=n[t];e(a,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Hw(n,e){_c(n),e=xl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function $w(n,e){return _c(n),e=xl(n,e),n.g.has(e)}function jw(n,e,t){Hw(n,e),0<t.length&&(n.i=null,n.g.set(xl(n,e),Ug(t)),n.h+=t.length)}function xl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function qw(n){this.l=n||Gw,n=Bt.PerformanceNavigationTiming?0<(n=Bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Bt.g&&Bt.g.Ka&&Bt.g.Ka()&&Bt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pt=Ch.prototype).add=function(n,e){_c(this),this.i=null,n=xl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},pt.forEach=function(n,e){_c(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},pt.ta=function(){_c(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let a=0;a<o.length;a++)t.push(e[r])}return t},pt.Z=function(n){_c(this);let e=[];if("string"==typeof n)$w(this,n)&&(e=e.concat(this.g.get(xl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},pt.set=function(n,e){return _c(this),this.i=null,$w(this,n=xl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},pt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var o=a;""!==u[r]&&(o+="="+encodeURIComponent(String(u[r]))),n.push(o)}}return this.i=n.join("&")};var Gw=10;function Ww(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Zw(n){return n.h?1:n.g?n.g.size:0}function Eb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function wh(n,e){n.g?n.g.add(e):n.h=e}function Jg(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Mb(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Ug(n.i)}qw.prototype.cancel=function(){if(this.i=Mb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Ib=class{stringify(n){return Bt.JSON.stringify(n,void 0)}parse(n){return Bt.JSON.parse(n,void 0)}};function AP(){this.g=new Ib}function xP(n,e,t){const r=t||"";try{Uw(n,function(o,a){let u=o;hf(o)&&(u=qg(o)),e.push(r+a+"="+encodeURIComponent(u))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Xg(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Ef(n){this.l=n.fc||null,this.j=n.ob||!1}function ba(n,e){oo.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=em,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vo(Ef,mb),Ef.prototype.g=function(){return new ba(this.l,this.j)},Ef.prototype.i=function(n){return function(){return n}}({}),vo(ba,oo);var em=0;function Kw(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function tm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Mf(n)}function Mf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(pt=ba.prototype).open=function(n,e){if(this.readyState!=em)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Mf(this)},pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Bt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tm(this)),this.readyState=em},pt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Mf(this)),this.g&&(this.readyState=3,Mf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Bt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Kw(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},pt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?tm(this):Mf(this),3==this.readyState&&Kw(this)}},pt.Za=function(n){this.g&&(this.response=this.responseText=n,tm(this))},pt.Ya=function(n){this.g&&(this.response=n,tm(this))},pt.ka=function(){this.g&&tm(this)},pt.setRequestHeader=function(n,e){this.v.append(n,e)},pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ba.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Pb=Bt.JSON.parse;function Ur(n){oo.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=nm,this.L=this.M=!1}vo(Ur,oo);var nm="",kP=/^https?$/i,Yw=["POST","PUT"];function Ob(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Sb(n),Eh(n)}function Sb(n){n.F||(n.F=!0,Ho(n,"complete"),Ho(n,"error"))}function Ab(n){if(n.h&&typeof Bi<"u"&&(!n.C[1]||4!=As(n)||2!=n.da()))if(n.v&&4==As(n))Gg(n.La,0,n);else if(Ho(n,"readystatechange"),4==As(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===u){var o=String(n.I).match(vb)[1]||null;!o&&Bt.self&&Bt.self.location&&(o=Bt.self.location.protocol.slice(0,-1)),r=!kP.test(o?o.toLowerCase():"")}t=r}if(t)Ho(n,"complete"),Ho(n,"success");else{n.m=6;try{var a=2<As(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",Sb(n)}}finally{Eh(n)}}}function Eh(n,e){if(n.g){Qw(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ho(n,"ready");try{t.onreadystatechange=r}catch{}}}function Qw(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Bt.clearTimeout(n.A),n.A=null)}function As(n){return n.g?n.g.readyState:0}function Jw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case nm:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function xb(n){let e="";return sb(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Xw(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=xb(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ur(n,e,t))}function If(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function eE(n){this.Ga=0,this.j=[],this.l=new pc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=If("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=If("baseRetryDelayMs",5e3,n),this.hb=If("retryDelaySeedMs",1e4,n),this.eb=If("forwardChannelMaxRetries",2,n),this.xa=If("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new qw(n&&n.concurrentRequestLimit),this.Ja=new AP,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function kb(n){if(tE(n),3==n.H){var e=n.W++,t=ya(n.I);if(ur(t,"SID",n.K),ur(t,"RID",e),ur(t,"TYPE","terminate"),Tf(n,t),(e=new Cf(n,n.l,e)).L=2,e.v=Qg(ya(t)),t=!1,Bt.navigator&&Bt.navigator.sendBeacon)try{t=Bt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Bb(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Kg(e)}Ub(n)}function Rb(n){n.g&&(Lb(n),n.g.cancel(),n.g=null)}function tE(n){Rb(n),n.u&&(Bt.clearTimeout(n.u),n.u=null),om(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Bt.clearTimeout(n.m),n.m=null)}function rm(n){if(!Ww(n.i)&&!n.m){n.m=!0;var e=n.Na;dc||vP(),hc||(dc(),hc=!0),Er.add(e,n),n.C=0}}function Nb(n,e){var t;t=e?e.m:n.W++;const r=ya(n.I);ur(r,"SID",n.K),ur(r,"RID",t),ur(r,"AID",n.V),Tf(n,r),n.o&&n.s&&Xw(r,n.o,n.s),t=new Cf(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=nE(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),wh(n.i,t),Ol(t,r,e)}function Tf(n,e){n.na&&sb(n.na,function(t,r){ur(e,r,t)}),n.h&&Uw({},function(t,r){ur(e,r,t)})}function nE(n,e,t){t=Math.min(n.j.length,t);var r=n.h?bo(n.h.Va,n.h,n):null;e:{var o=n.j;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=o[0].g,u.push("ofs="+a)):a=0:u.push("ofs="+a);let h=!0;for(let _=0;_<t;_++){let v=o[_].g;const M=o[_].map;if(v-=a,0>v)a=Math.max(0,o[_].g-100),h=!1;else try{xP(M,u,"req"+v+"_")}catch{r&&r(M)}}if(h){r=u.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function rE(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;dc||vP(),hc||(dc(),hc=!0),Er.add(e,n),n.A=0}}function Fb(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=vf(bo(n.Ma,n),Pf(n,n.A)),n.A++,0))}function Lb(n){null!=n.B&&(Bt.clearTimeout(n.B),n.B=null)}function oE(n){n.g=new Cf(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ya(n.wa);ur(e,"RID","rpc"),ur(e,"SID",n.K),ur(e,"AID",n.V),ur(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ur(e,"TO",n.qa),ur(e,"TYPE","xmlhttp"),Tf(n,e),n.o&&n.s&&Xw(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Qg(ya(e)),t.s=null,t.S=!0,kw(t,n)}function om(n){null!=n.v&&(Bt.clearTimeout(n.v),n.v=null)}function iE(n,e){var t=null;if(n.g==e){om(n),Lb(n),n.g=null;var r=2}else{if(!Eb(n.i,e))return;t=e.F,Jg(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var o=n.C;Ho(r=Zg(),new Dw(r,t)),rm(n)}else rE(n);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==r&&function NP(n,e){return!(Zw(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=vf(bo(n.Na,n,e),Pf(n,n.C)),n.C++,0)))}(n,e)||2==r&&Fb(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:yc(n,5);break;case 4:yc(n,10);break;case 3:yc(n,6);break;default:yc(n,2)}}function Pf(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function yc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=bo(n.pb,n);t||(t=new mc("//www.google.com/images/cleardot.gif"),Bt.location&&"http"==Bt.location.protocol||wf(t,"https"),Qg(t)),function Tb(n,e){const t=new pc;if(Bt.Image){const r=new Image;r.onload=lc(Xg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=lc(Xg,t,r,"TestLoadImage: error",!1,e),r.onabort=lc(Xg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=lc(Xg,t,r,"TestLoadImage: timeout",!1,e),Bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ko(2);n.H=0,n.h&&n.h.za(e),Ub(n),tE(n)}function Ub(n){if(n.H=0,n.ma=[],n.h){const e=Mb(n.i);(0!=e.length||0!=n.j.length)&&(Qy(n.ma,e),Qy(n.ma,n.j),n.i.i.length=0,Ug(n.j),n.j.length=0),n.h.ya()}}function Vb(n,e,t){var r=t instanceof mc?ya(t):new mc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Yg(r,r.m);else{var o=Bt.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var a=new mc(null);r&&wf(a,r),e&&(a.g=e),o&&Yg(a,o),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&ur(r,t,e),ur(r,"VER",n.ra),Tf(n,r),r}function Bb(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ur(t&&n.Ha&&!n.va?new Ef({ob:!0}):n.va)).Oa(n.J),e}function Hb(){}function Mh(){if(Dl&&!(10<=Number(fP)))throw Error("Environmental error: no available transport.")}function wi(n,e){oo.call(this),this.g=new eE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!pf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pf(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Df(this)}function FP(n){Sw.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function $b(){Aw.call(this),this.status=1}function Df(n){this.g=n}function rs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function jb(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(o=0;16>o;++o)r[o]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],u=(e=n.g[0])+(a^(t=n.g[1])&((o=n.g[2])^a))+r[0]+3614090360&4294967295;u=(t=(o=(a=(e=(t=(o=(a=(e=(t=(o=(a=(e=(t=(o=(a=(e=(t=(o=(a=(e=(t=(o=(a=(e=(t=(o=(a=(e=(t=(o=(a=(e=(t=(o=(a=(e=(t=(o=(a=(e=(t=(o=(a=(e=(t=(o=(a=(e=(t=(o=(a=(e=(t=(o=(a=(e=(t=(o=(a=(e=t+(u<<7&4294967295|u>>>25))+((u=a+(o^e&(t^o))+r[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=o+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^o&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^t&(o^a))+r[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=a+(o^e&(t^o))+r[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=o+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^o&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^t&(o^a))+r[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=a+(o^e&(t^o))+r[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=o+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^o&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^t&(o^a))+r[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=a+(o^e&(t^o))+r[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=o+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^o&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(o^a&(t^o))+r[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^o&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=o+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(o^a))+r[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(o^a&(t^o))+r[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^o&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=o+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(o^a))+r[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(o^a&(t^o))+r[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^o&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=o+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(o^a))+r[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(o^a&(t^o))+r[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^o&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=o+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(o^a))+r[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^o^a)+r[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^o)+r[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=o+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(o^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^o^a)+r[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^o)+r[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=o+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(o^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^o^a)+r[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^o)+r[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=o+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(o^a^e)+r[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^o^a)+r[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^o)+r[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=o+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(o^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(o^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=o+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(a^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(o^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=o+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(a^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(o^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=o+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(a^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((a=(e=t+((u=e+(o^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((o=a+((u=o+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(o+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+a&4294967295}function Ln(n,e){this.h=e;for(var t=[],r=!0,o=n.length-1;0<=o;o--){var a=0|n[o];r&&a==e||(t[o]=a,r=!1)}this.g=t}(pt=Ur.prototype).Oa=function(n){this.M=n},pt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xw.g(),this.C=function _b(n){return n.h||(n.h=n.i())}(this.u?this.u:xw),this.g.onreadystatechange=bo(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void Ob(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),o=Bt.FormData&&n instanceof Bt.FormData,!(0<=uw(Yw,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Qw(this),0<this.B&&((this.L=function Db(n){return Dl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bo(this.ua,this)):this.A=Gg(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){Ob(this,a)}},pt.ua=function(){typeof Bi<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ho(this,"timeout"),this.abort(8))},pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ho(this,"complete"),Ho(this,"abort"),Eh(this))},pt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Eh(this,!0)),Ur.$.N.call(this)},pt.La=function(){this.s||(this.G||this.v||this.l?Ab(this):this.kb())},pt.kb=function(){Ab(this)},pt.isActive=function(){return!!this.g},pt.da=function(){try{return 2<As(this)?this.g.status:-1}catch{return-1}},pt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},pt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Pb(e)}},pt.Ia=function(){return this.m},pt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pt=eE.prototype).ra=8,pt.H=1,pt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new Cf(this,this.l,n);let a=this.s;if(this.U&&(a?(a=gw(a),_w(a,this.U)):a=this.U),null!==this.o||this.O||(o.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=nE(this,o,e),ur(t=ya(this.I),"RID",n),ur(t,"CVER",22),this.F&&ur(t,"X-HTTP-Session-Id",this.F),Tf(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(xb(a)))+"&"+e:this.o&&Xw(t,this.o,a)),wh(this.i,o),this.bb&&ur(t,"TYPE","init"),this.P?(ur(t,"$req",e),ur(t,"SID","null"),o.aa=!0,Ol(o,t,null)):Ol(o,t,e),this.H=2}}else 3==this.H&&(n?Nb(this,n):0==this.j.length||Ww(this.i)||Nb(this))},pt.Ma=function(){if(this.u=null,oE(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=vf(bo(this.jb,this),n)}},pt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ko(10),Rb(this),oE(this))},pt.ib=function(){null!=this.v&&(this.v=null,Rb(this),Fb(this),Ko(19))},pt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ko(2)):(this.l.info("Failed to ping google.com"),Ko(1))},pt.isActive=function(){return!!this.h&&this.h.isActive(this)},(pt=Hb.prototype).Ba=function(){},pt.Aa=function(){},pt.za=function(){},pt.ya=function(){},pt.isActive=function(){return!0},pt.Va=function(){},Mh.prototype.g=function(n,e){return new wi(n,e)},vo(wi,oo),wi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ko(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Vb(n,null,n.Y),rm(n)},wi.prototype.close=function(){kb(this.g)},wi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=qg(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&rm(e)},wi.prototype.N=function(){this.g.h=null,delete this.j,kb(this.g),delete this.g,wi.$.N.call(this)},vo(FP,Sw),vo($b,Aw),vo(Df,Hb),Df.prototype.Ba=function(){Ho(this.g,"a")},Df.prototype.Aa=function(n){Ho(this.g,new FP(n))},Df.prototype.za=function(n){Ho(this.g,new $b)},Df.prototype.ya=function(){Ho(this.g,"b")},vo(rs,function LP(){this.blockSize=-1}),rs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},rs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,o=this.h,a=0;a<e;){if(0==o)for(;a<=t;)jb(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[o++]=n.charCodeAt(a++),o==this.blockSize){jb(this,r),o=0;break}}else for(;a<e;)if(r[o++]=n[a++],o==this.blockSize){jb(this,r),o=0;break}}this.h=o,this.i+=e},rs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var UP={};function Ih(n){return-128<=n&&128>n?function fw(n,e){var t=UP;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ln([0|e],0>e?-1:0)}):new Ln([0|n],0>n?-1:0)}function fo(n){if(isNaN(n)||!isFinite(n))return xs;if(0>n)return io(fo(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Th;return new Ln(e,0)}var Th=4294967296,xs=Ih(0),zb=Ih(1),aE=Ih(16777216);function va(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Yo(n){return-1==n.h}function io(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Ln(t,~n.h).add(zb)}function im(n,e){return n.add(io(e))}function sm(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Of(n,e){this.g=n,this.h=e}function Ph(n,e){if(va(e))throw Error("division by zero");if(va(n))return new Of(xs,xs);if(Yo(n))return e=Ph(io(n),e),new Of(io(e.g),io(e.h));if(Yo(e))return e=Ph(n,io(e)),new Of(io(e.g),e.h);if(30<n.g.length){if(Yo(n)||Yo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=zb,r=e;0>=r.X(n);)t=am(t),r=am(r);var o=kl(t,1),a=kl(r,1);for(r=kl(r,2),t=kl(t,2);!va(r);){var u=a.add(r);0>=u.X(n)&&(o=o.add(t),a=u),r=kl(r,1),t=kl(t,1)}return e=im(n,o.R(e)),new Of(o,e)}for(o=xs;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),u=(a=fo(t)).R(e);Yo(u)||0<u.X(n);)u=(a=fo(t-=r)).R(e);va(a)&&(a=zb),o=o.add(a),n=im(n,u)}return new Of(o,n)}function am(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Ln(t,n.h)}function kl(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,o=[],a=0;a<r;a++)o[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Ln(o,n.h)}(pt=Ln.prototype).ea=function(){if(Yo(this))return-io(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Th+r)*e,e*=Th}return n},pt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(va(this))return"0";if(Yo(this))return"-"+io(this).toString(n);for(var e=fo(Math.pow(n,6)),t=this,r="";;){var o=Ph(t,e).g,a=((0<(t=im(t,o.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(va(t=o))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},pt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},pt.X=function(n){return Yo(n=im(this,n))?-1:va(n)?0:1},pt.abs=function(){return Yo(this)?io(this):this},pt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,o=0;o<=e;o++){var a=r+(65535&this.D(o))+(65535&n.D(o)),u=(a>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);r=u>>>16,t[o]=(u&=65535)<<16|(a&=65535)}return new Ln(t,-2147483648&t[t.length-1]?-1:0)},pt.R=function(n){if(va(this)||va(n))return xs;if(Yo(this))return Yo(n)?io(this).R(io(n)):io(io(this).R(n));if(Yo(n))return io(this.R(io(n)));if(0>this.X(aE)&&0>n.X(aE))return fo(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<n.g.length;o++){var a=this.D(r)>>>16,u=65535&this.D(r),h=n.D(o)>>>16,_=65535&n.D(o);t[2*r+2*o]+=u*_,sm(t,2*r+2*o),t[2*r+2*o+1]+=a*_,sm(t,2*r+2*o+1),t[2*r+2*o+1]+=u*h,sm(t,2*r+2*o+1),t[2*r+2*o+2]+=a*h,sm(t,2*r+2*o+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Ln(t,0)},pt.gb=function(n){return Ph(this,n).h},pt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Ln(t,this.h&n.h)},pt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Ln(t,this.h|n.h)},pt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Ln(t,this.h^n.h)},Mh.prototype.createWebChannel=Mh.prototype.g,wi.prototype.send=wi.prototype.u,wi.prototype.open=wi.prototype.m,wi.prototype.close=wi.prototype.close,hh.NO_ERROR=0,hh.TIMEOUT=8,hh.HTTP_ERROR=6,gb.COMPLETE="complete",Ow.EventType=ph,ph.OPEN="a",ph.CLOSE="b",ph.ERROR="c",ph.MESSAGE="d",oo.prototype.listen=oo.prototype.O,Ur.prototype.listenOnce=Ur.prototype.P,Ur.prototype.getLastError=Ur.prototype.Sa,Ur.prototype.getLastErrorCode=Ur.prototype.Ia,Ur.prototype.getStatus=Ur.prototype.da,Ur.prototype.getResponseJson=Ur.prototype.Wa,Ur.prototype.getResponseText=Ur.prototype.ja,Ur.prototype.send=Ur.prototype.ha,Ur.prototype.setWithCredentials=Ur.prototype.Oa,rs.prototype.digest=rs.prototype.l,rs.prototype.reset=rs.prototype.reset,rs.prototype.update=rs.prototype.j,Ln.prototype.add=Ln.prototype.add,Ln.prototype.multiply=Ln.prototype.R,Ln.prototype.modulo=Ln.prototype.gb,Ln.prototype.compare=Ln.prototype.X,Ln.prototype.toNumber=Ln.prototype.ea,Ln.prototype.toString=Ln.prototype.toString,Ln.prototype.getBits=Ln.prototype.D,Ln.fromNumber=fo,Ln.fromString=function sE(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return io(sE(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=fo(Math.pow(e,8)),r=xs,o=0;o<n.length;o+=8){var a=Math.min(8,n.length-o),u=parseInt(n.substring(o,o+a),e);8>a?(a=fo(Math.pow(e,a)),r=r.R(a).add(fo(u))):r=(r=r.R(t)).add(fo(u))}return r};var qb=ns.createWebChannelTransport=function(){return new Mh},Gb=ns.getStatEventTarget=function(){return Zg()},cm=ns.ErrorCode=hh,Wb=ns.EventType=gb,Zb=ns.Event=gc,cE=ns.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},VP=ns.FetchXmlHttpFactory=Ef,lm=ns.WebChannel=Ow,BP=ns.XhrIo=Ur,lE=ns.Md5=rs,bc=ns.Integer=Ln;const Kb="@firebase/firestore";class ho{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ho.UNAUTHENTICATED=new ho(null),ho.GOOGLE_CREDENTIALS=new ho("google-credentials-uid"),ho.FIRST_PARTY=new ho("first-party-uid"),ho.MOCK_USER=new ho("mock-user");let Rl="9.23.0";const Ca=new es.Yd("@firebase/firestore");function Yb(){return Ca.logLevel}function ze(n,...e){if(Ca.logLevel<=es.in.DEBUG){const t=e.map(Qb);Ca.debug(`Firestore (${Rl}): ${n}`,...t)}}function Wr(n,...e){if(Ca.logLevel<=es.in.ERROR){const t=e.map(Qb);Ca.error(`Firestore (${Rl}): ${n}`,...t)}}function Ei(n,...e){if(Ca.logLevel<=es.in.WARN){const t=e.map(Qb);Ca.warn(`Firestore (${Rl}): ${n}`,...t)}}function Qb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function nt(n="Unexpected state"){const e=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: `+n;throw Wr(e),new Error(e)}function Pt(n,e){n||nt()}function dt(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends $t.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class so{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class um{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ho.UNAUTHENTICATED))}shutdown(){}}class $P{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Jb{constructor(e){this.t=e,this.currentUser=ho.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const a=v=>this.i!==o?(o=this.i,t(v)):Promise.resolve();let u=new so;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new so,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const v=u;e.enqueueRetryable((0,Me.Z)(function*(){yield v.promise,yield a(r.currentUser)}))},_=v=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>_(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?_(v):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new so)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pt("string"==typeof r.accessToken),new um(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pt(null===e||"string"==typeof e),new ho(e)}}class jP{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ho.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class fE{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new jP(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ho.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zP{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.T;return this.T=a.token,ze("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?o(a):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Pt("string"==typeof t.token),this.T=t.token,new dE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class ev{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=Xb(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%e.length))}return r}}function rn(n,e){return n<e?-1:n>e?1:0}function wa(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function fm(n){return n+"\0"}class Dr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ue(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ue(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ue(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dr.fromMillis(Date.now())}static fromDate(e){return Dr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Dr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rn(this.nanoseconds,e.nanoseconds):rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kt(e)}static min(){return new kt(new Dr(0,0))}static max(){return new kt(new Dr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Oh{constructor(e,t,r){void 0===t?t=0:t>e.length&&nt(),void 0===r?r=e.length-t:r>e.length-t&&nt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Oh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=e.get(o),u=t.get(o);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tn extends Oh{construct(e,t,r){return new Tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ue(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Tn(t)}static emptyPath(){return new Tn([])}}const Sf=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vr extends Oh{construct(e,t,r){return new Vr(e,t,r)}static isValidIdentifier(e){return Sf.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(0===r.length)throw new Ue(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const h=e[o];if("\\"===h){if(o+1===e.length)throw new Ue(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ue(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else"`"===h?(u=!u,o++):"."!==h||u?(r+=h,o++):(a(),o++)}if(a(),u)throw new Ue(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vr(t)}static emptyPath(){return new Vr([])}}class at{constructor(e){this.path=e}static fromPath(e){return new at(Tn.fromString(e))}static fromName(e){return new at(Tn.fromString(e).popFirst(5))}static empty(){return new at(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new Tn(e.slice()))}}class Af{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function hE(n){return n.fields.find(e=>2===e.kind)}function Nl(n){return n.fields.filter(e=>2!==e.kind)}Af.UNKNOWN_ID=-1;class dm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Sh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Sh(0,Mi.min())}}function tv(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=kt.fromTimestamp(1e9===r?new Dr(t+1,0):new Dr(t,r));return new Mi(o,at.empty(),e)}function nv(n){return new Mi(n.readTime,n.key,-1)}class Mi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Mi(kt.min(),at.empty(),-1)}static max(){return new Mi(kt.max(),at.empty(),-1)}}function hm(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=at.comparator(n.documentKey,e.documentKey),0!==t?t:rn(n.largestBatchId,e.largestBatchId))}const rv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function vc(n){return pm.apply(this,arguments)}function pm(){return pm=(0,Me.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==rv)throw n;ze("LocalStore","Unexpectedly lost primary lease")}),pm.apply(this,arguments)}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,r)=>{t(e)})}static reject(e){return new le((t,r)=>{r(e)})}static waitFor(e){return new le((t,r)=>{let o=0,a=0,u=!1;e.forEach(h=>{++o,h.next(()=>{++a,u&&a===o&&t()},_=>r(_))}),u=!0,a===o&&t()})}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next(o=>o?le.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new le((r,o)=>{const a=e.length,u=new Array(a);let h=0;for(let _=0;_<a;_++){const v=_;t(e[v]).next(M=>{u[v]=M,++h,h===a&&r(u)},M=>o(M))}})}static doWhile(e,t){return new le((r,o)=>{const a=()=>{!0===e()?t().next(()=>{a()},o):r()};a()})}}class Ah{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new so,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new xf(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const o=mE(r.target.error);this.v.reject(new xf(e,o))}}static open(e,t,r,o){try{return new Ah(t,e.transaction(o,r))}catch(a){throw new xf(t,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new GP(t)}}class $i{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===$i.S((0,$t.z$)())&&Wr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ze("SimpleDb","Removing database:",e),kf(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,$t.hl)())return!1;if($i.C())return!0;const e=(0,$t.z$)(),t=$i.S(e),r=0<t&&t<10,o=$i.N(e),a=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,Me.Z)(function*(){return t.db||(ze("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{r(u.target.result)},a.onblocked=()=>{o(new xf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const h=u.target.error;o("VersionError"===h.name?new Ue(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ue(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new xf(e,h))},a.onupgradeneeded=u=>{ze("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.V.O(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{ze("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var a=this;return(0,Me.Z)(function*(){const u="readonly"===t;let h=0;for(;;){++h;try{a.db=yield a.$(e);const _=Ah.open(a.db,e,u?"readonly":"readwrite",r),v=o(_).next(M=>(_.P(),M)).catch(M=>(_.abort(M),le.reject(M))).toPromise();return v.catch(()=>{}),yield _.R,v}catch(_){const v=_,M="FirebaseError"!==v.name&&h<3;if(ze("SimpleDb","Transaction failed with error:",v.message,"Retrying:",M),a.close(),!M)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gE{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return kf(this.L.delete())}}class xf extends Ue{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Cc(n){return"IndexedDbTransactionError"===n.name}class GP{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ze("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),kf(r)}add(e){return ze("SimpleDb","ADD",this.store.name,e,e),kf(this.store.add(e))}get(e){return kf(this.store.get(e)).next(t=>(void 0===t&&(t=null),ze("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ze("SimpleDb","DELETE",this.store.name,e),kf(this.store.delete(e))}count(){return ze("SimpleDb","COUNT",this.store.name),kf(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),a=[];return this.W(o,(u,h)=>{a.push(h)}).next(()=>a)}{const o=this.store.getAll(r.range);return new le((a,u)=>{o.onerror=h=>{u(h.target.error)},o.onsuccess=h=>{a(h.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new le((o,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{o(u.target.result)}})}J(e,t){ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const o=this.cursor(r);return this.W(o,(a,u,h)=>h.delete())}X(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.W(o,t)}Z(e){const t=this.cursor({});return new le((r,o)=>{t.onerror=a=>{const u=mE(a.target.error);o(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}W(e,t){const r=[];return new le((o,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void o();const _=new gE(h),v=t(h.primaryKey,h.value,_);if(v instanceof le){const M=v.catch(D=>(_.done(),le.reject(D)));r.push(M)}_.isDone?o():null===_.K?h.continue():h.continue(_.K)}}).next(()=>le.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function kf(n){return new le((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=mE(r.target.error);t(o)}})}let ov=!1;function mE(n){const e=$i.S((0,$t.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ov||(ov=!0,setTimeout(()=>{throw r},0)),r}}return n}class pA{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;ze("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Me.Z)(function*(){t.task=null;try{ze("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Cc(r)?ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield vc(r)}yield t.et(6e4)}))}}class gA{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Me.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let o=t,a=!0;return le.doWhile(()=>!0===a&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return ze("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,o).next(h=>{o-=h,r.add(u)});a=!1})).next(()=>t-o)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(o,a)).next(h=>(ze("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}rt(e,t){let r=e;return t.changes.forEach((o,a)=>{const u=nv(a);hm(u,r)>0&&(r=u)}),new Mi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ji=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function gm(n){return null==n}function mm(n){return 0===n&&1/n==-1/0}function WP(n){return"number"==typeof n&&Number.isInteger(n)&&!mm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Qo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ZP(e)),e=_m(n.get(t),e);return ZP(e)}function _m(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function ZP(n){return n+"\x01\x01"}function os(n){const e=n.length;if(Pt(e>=2),2===e)return Pt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Tn.emptyPath();const t=e-2,r=[];let o="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&nt(),n.charAt(u+1)){case"\x01":const h=n.substring(a,u);let _;0===o.length?_=h:(o+=h,_=o,o=""),r.push(_);break;case"\x10":o+=n.substring(a,u),o+="\0";break;case"\x11":o+=n.substring(a,u+1);break;default:nt()}a=u+2}return new Tn(r)}const xh=["userId","batchId"];function kh(n,e){return[n,Qo(e)]}function iv(n,e,t){return[n,Qo(e),t]}const mA={},sv=["prefixPath","collectionGroup","readTime","documentId"],_E=["prefixPath","collectionGroup","documentId"],KP=["collectionGroup","readTime","prefixPath","documentId"],_A=["canonicalId","targetId"],YP=["targetId","path"],QP=["path","targetId"],JP=["collectionId","parent"],ym=["indexId","uid"],XP=["uid","sequenceNumber"],yA=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bA=["indexId","uid","orderedDocumentKey"],vA=["userId","collectionPath","documentId"],eD=["userId","collectionPath","largestBatchId"],tD=["userId","collectionGroup","largestBatchId"],yE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],CA=[...yE,"documentOverlays"],bE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],av=bE,vE=[...av,"indexConfiguration","indexState","indexEntries"];class CE extends pE{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Jn(n,e){const t=dt(n);return $i.M(t.ht,e)}function wE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ks(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function EE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class pr{constructor(e,t){this.comparator=e,this.root=t||ko.EMPTY}insert(e,t){return new pr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ko.BLACK,null,null))}remove(e){return new pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ko.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jo(this.root,e,this.comparator,!0)}}class Jo{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ko{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??ko.RED,this.left=o??ko.EMPTY,this.right=a??ko.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new ko(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===a?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ko.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return ko.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ko.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ko.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();const e=this.left.check();if(e!==this.right.check())throw nt();return e+(this.isRed()?0:1)}}ko.EMPTY=null,ko.RED=!0,ko.BLACK=!1,ko.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new ko(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rr{constructor(e){this.comparator=e,this.data=new pr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ME(this.data.getIterator())}getIteratorFrom(e){return new ME(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(o,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new rr(this.comparator);return t.data=e,t}}class ME{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Rf(n){return n.hasNext()?n.getNext():void 0}class $o{constructor(e){this.fields=e,e.sort(Vr.comparator)}static empty(){return new $o([])}unionWith(e){let t=new rr(Vr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new $o(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class cv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class po{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cv("Invalid base64 string: "+o):o}}(e);return new po(t)}static fromUint8Array(e){const t=function(r){let o="";for(let a=0;a<r.length;++a)o+=String.fromCharCode(r[a]);return o}(e);return new po(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}po.EMPTY_BYTE_STRING=new po("");const TE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ea(n){if(Pt(!!n),"string"==typeof n){let e=0;const t=TE.exec(n);if(Pt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Br(n.seconds),nanos:Br(n.nanos)}}function Br(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Rs(n){return"string"==typeof n?po.fromBase64String(n):po.fromUint8Array(n)}function bm(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Nf(n){const e=n.mapValue.fields.__previous_value__;return bm(e)?Nf(e):e}function Ii(n){const e=Ea(n.mapValue.fields.__local_write_time__.timestampValue);return new Dr(e.seconds,e.nanos)}class wc{constructor(e,t,r,o,a,u,h,_,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=_,this.useFetchStreams=v}}class Ma{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ma("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ma&&e.projectId===this.projectId&&e.database===this.database}}const Ns={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Rh={nullValue:"NULL_VALUE"};function Ec(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bm(n)?4:fv(n)?9007199254740991:10:nt()}function Ia(n,e){if(n===e)return!0;const t=Ec(n);if(t!==Ec(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ii(n).isEqual(Ii(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const a=Ea(r.timestampValue),u=Ea(o.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Rs(n.bytesValue).isEqual(Rs(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Br(r.geoPointValue.latitude)===Br(o.geoPointValue.latitude)&&Br(r.geoPointValue.longitude)===Br(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Br(r.integerValue)===Br(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const a=Br(r.doubleValue),u=Br(o.doubleValue);return a===u?mm(a)===mm(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return wa(n.arrayValue.values||[],e.arrayValue.values||[],Ia);case 10:return function(r,o){const a=r.mapValue.fields||{},u=o.mapValue.fields||{};if(wE(a)!==wE(u))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(void 0===u[h]||!Ia(a[h],u[h])))return!1;return!0}(n,e);default:return nt()}var o}function Nh(n,e){return void 0!==(n.values||[]).find(t=>Ia(t,e))}function Mc(n,e){if(n===e)return 0;const t=Ec(n),r=Ec(e);if(t!==r)return rn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return rn(n.booleanValue,e.booleanValue);case 2:return function(o,a){const u=Br(o.integerValue||o.doubleValue),h=Br(a.integerValue||a.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return PE(n.timestampValue,e.timestampValue);case 4:return PE(Ii(n),Ii(e));case 5:return rn(n.stringValue,e.stringValue);case 6:return function(o,a){const u=Rs(o),h=Rs(a);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,a){const u=o.split("/"),h=a.split("/");for(let _=0;_<u.length&&_<h.length;_++){const v=rn(u[_],h[_]);if(0!==v)return v}return rn(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,a){const u=rn(Br(o.latitude),Br(a.latitude));return 0!==u?u:rn(Br(o.longitude),Br(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,a){const u=o.values||[],h=a.values||[];for(let _=0;_<u.length&&_<h.length;++_){const v=Mc(u[_],h[_]);if(v)return v}return rn(u.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===Ns.mapValue&&a===Ns.mapValue)return 0;if(o===Ns.mapValue)return 1;if(a===Ns.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),_=a.fields||{},v=Object.keys(_);h.sort(),v.sort();for(let M=0;M<h.length&&M<v.length;++M){const D=rn(h[M],v[M]);if(0!==D)return D;const L=Mc(u[h[M]],_[v[M]]);if(0!==L)return L}return rn(h.length,v.length)}(n.mapValue,e.mapValue);default:throw nt()}}function PE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return rn(n,e);const t=Ea(n),r=Ea(e),o=rn(t.seconds,r.seconds);return 0!==o?o:rn(t.nanos,r.nanos)}function Ff(n){return vm(n)}function vm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Ea(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Rs(n.bytesValue).toBase64():"referenceValue"in n?at.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",a=!0;for(const u of r.values||[])a?a=!1:o+=",",o+=vm(u);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let a="{",u=!0;for(const h of o)u?u=!1:a+=",",a+=`${h}:${vm(r.fields[h])}`;return a+"}"}(n.mapValue):nt();var e}function Ic(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function uv(n){return!!n&&"integerValue"in n}function Lf(n){return!!n&&"arrayValue"in n}function nD(n){return!!n&&"nullValue"in n}function Cm(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fh(n){return!!n&&"mapValue"in n}function Uf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ks(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Uf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Uf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function DE(n){return"nullValue"in n?Rh:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ic(Ma.empty(),at.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:nt()}function OE(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ic(Ma.empty(),at.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ns:nt()}function Lh(n,e){const t=Mc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Uh(n,e){const t=Mc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Co{constructor(e){this.value=e}static empty(){return new Co({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Fh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uf(t)}setAll(e){let t=Vr.emptyPath(),r={},o=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const _=this.getFieldsMap(t);this.applyChanges(_,r,o),r={},o=[],t=h.popLast()}u?r[h.lastSegment()]=Uf(u):o.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Fh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ia(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){ks(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new Co(Uf(this.value))}}function SE(n){const e=[];return ks(n.fields,(t,r)=>{const o=new Vr([t]);if(Fh(r)){const a=SE(r.mapValue).fields;if(0===a.length)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new $o(e)}class gr{constructor(e,t,r,o,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new gr(e,0,kt.min(),kt.min(),kt.min(),Co.empty(),0)}static newFoundDocument(e,t,r,o){return new gr(e,1,t,kt.min(),r,o,0)}static newNoDocument(e,t){return new gr(e,2,t,kt.min(),kt.min(),Co.empty(),0)}static newUnknownDocument(e,t){return new gr(e,3,t,kt.min(),kt.min(),Co.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(kt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Co.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Co.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fl{constructor(e,t){this.position=e,this.inclusive=t}}function rD(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(r=a.field.isKeyField()?at.comparator(at.fromName(u.referenceValue),t.key):Mc(u,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function oD(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ia(n.position[t],e.position[t]))return!1;return!0}class Ll{constructor(e,t="asc"){this.field=e,this.dir=t}}function iD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class AE{}class En extends AE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new FE(e,t,r):"array-contains"===t?new hv(e,r):"in"===t?new UE(e,r):"not-in"===t?new pv(e,r):"array-contains-any"===t?new gv(e,r):new En(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Ul(e,r):new LE(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Mc(t,this.value)):null!==t&&Ec(this.value)===Ec(t)&&this.matchesComparison(Mc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xn extends AE{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Xn(e,t)}matches(e){return Vh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Vh(n){return"and"===n.op}function xE(n){return"or"===n.op}function kE(n){return sD(n)&&Vh(n)}function sD(n){for(const e of n.filters)if(e instanceof Xn)return!1;return!0}function dv(n){if(n instanceof En)return n.field.canonicalString()+n.op.toString()+Ff(n.value);if(kE(n))return n.filters.map(e=>dv(e)).join(",");{const e=n.filters.map(t=>dv(t)).join(",");return`${n.op}(${e})`}}function Bh(n,e){return n instanceof En?(t=n,(r=e)instanceof En&&t.op===r.op&&t.field.isEqual(r.field)&&Ia(t.value,r.value)):n instanceof Xn?function(t,r){return r instanceof Xn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,a,u)=>o&&Bh(a,r.filters[u]),!0)}(n,e):void nt();var t,r}function RE(n,e){const t=n.filters.concat(e);return Xn.create(t,n.op)}function NE(n){return n instanceof En?`${(e=n).field.canonicalString()} ${e.op} ${Ff(e.value)}`:n instanceof Xn?function(e){return e.op.toString()+" {"+e.getFilters().map(NE).join(" ,")+"}"}(n):"Filter";var e}class FE extends En{constructor(e,t,r){super(e,t,r),this.key=at.fromName(r.referenceValue)}matches(e){const t=at.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ul extends En{constructor(e,t){super(e,"in",t),this.keys=wm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class LE extends En{constructor(e,t){super(e,"not-in",t),this.keys=wm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wm(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>at.fromName(r.referenceValue))}class hv extends En{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lf(t)&&Nh(t.arrayValue,this.value)}}class UE extends En{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Nh(this.value.arrayValue,t)}}class pv extends En{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Nh(this.value.arrayValue,t)}}class gv extends En{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Nh(this.value.arrayValue,r))}}class Em{constructor(e,t=null,r=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.dt=null}}function VE(n,e=null,t=[],r=[],o=null,a=null,u=null){return new Em(n,e,t,r,o,a,u)}function Vf(n){const e=dt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>dv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),gm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ff(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ff(r)).join(",")),e.dt=t}return e.dt}function Mm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!iD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Bh(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!oD(n.startAt,e.startAt)&&oD(n.endAt,e.endAt)}function mv(n){return at.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Hh(n,e){return n.filters.filter(t=>t instanceof En&&t.field.isEqual(e))}function BE(n,e,t){let r=Rh,o=!0;for(const a of Hh(n,e)){let u=Rh,h=!0;switch(a.op){case"<":case"<=":u=DE(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,h=!1;break;case"!=":case"not-in":u=Rh}Lh({value:r,inclusive:o},{value:u,inclusive:h})<0&&(r=u,o=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];Lh({value:r,inclusive:o},{value:u,inclusive:t.inclusive})<0&&(r=u,o=t.inclusive);break}return{value:r,inclusive:o}}function HE(n,e,t){let r=Ns,o=!0;for(const a of Hh(n,e)){let u=Ns,h=!0;switch(a.op){case">=":case">":u=OE(a.value),h=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,h=!1;break;case"!=":case"not-in":u=Ns}Uh({value:r,inclusive:o},{value:u,inclusive:h})>0&&(r=u,o=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];Uh({value:r,inclusive:o},{value:u,inclusive:t.inclusive})>0&&(r=u,o=t.inclusive);break}return{value:r,inclusive:o}}class Ta{constructor(e,t=null,r=[],o=[],a=null,u="F",h=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=_,this.wt=null,this._t=null}}function $E(n,e,t,r,o,a,u,h){return new Ta(n,e,t,r,o,a,u,h)}function Vl(n){return new Ta(n)}function _v(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Im(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Tm(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function yv(n){return null!==n.collectionGroup}function Tc(n){const e=dt(n);if(null===e.wt){e.wt=[];const t=Tm(e),r=Im(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Ll(t)),e.wt.push(new Ll(Vr.keyField(),"asc"));else{let o=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(o=!0);if(!o){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ll(Vr.keyField(),a))}}}return e.wt}function Ro(n){const e=dt(n);if(!e._t)if("F"===e.limitType)e._t=VE(e.path,e.collectionGroup,Tc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Tc(e))t.push(new Ll(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Fl(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Fl(e.startAt.position,e.startAt.inclusive):null;e._t=VE(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e._t}function jE(n,e){e.getFirstInequalityField(),Tm(n);const t=n.filters.concat([e]);return new Ta(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function $h(n,e,t){return new Ta(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Bl(n,e){return Mm(Ro(n),Ro(e))&&n.limitType===e.limitType}function zE(n){return`${Vf(Ro(n))}|lt:${n.limitType}`}function bv(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>NE(r)).join(", ")}]`),gm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ff(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ff(r)).join(",")),`Target(${t})`}(Ro(n))}; limitType=${n.limitType})`}function Pm(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):at.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of Tc(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,a,u){const h=rD(o,a,u);return o.inclusive?h<=0:h<0}(t.startAt,Tc(t),r)||t.endAt&&!function(o,a,u){const h=rD(o,a,u);return o.inclusive?h>=0:h>0}(t.endAt,Tc(t),r)));var t,r}function aD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qE(n){return(e,t)=>{let r=!1;for(const o of Tc(n)){const a=cD(o,e,t);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function cD(n,e,t){const r=n.field.isKeyField()?at.comparator(e.key,t.key):function(o,a,u){const h=a.data.field(o),_=u.data.field(o);return null!==h&&null!==_?Mc(h,_):nt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return nt()}}class Pa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,a]of r)if(this.equalsFn(o,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ks(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return EE(this.inner)}size(){return this.innerSize}}const wA=new pr(at.comparator);function Ti(){return wA}const lD=new pr(at.comparator);function Dm(...n){let e=lD;for(const t of n)e=e.insert(t.key,t);return e}function GE(n){let e=lD;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Da(){return Om()}function uD(){return Om()}function Om(){return new Pa(n=>n.toString(),(n,e)=>n.isEqual(e))}const EA=new pr(at.comparator),MA=new rr(at.comparator);function _n(...n){let e=MA;for(const t of n)e=e.add(t);return e}const i=new rr(rn);function s(){return i}function c(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mm(e)?"-0":e}}function f(n){return{integerValue:""+n}}function d(n,e){return WP(e)?f(e):c(n,e)}class g{constructor(){this._=void 0}}function y(n,e,t){return n instanceof T?function(r,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&bm(o)&&(o=Nf(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(t,e):n instanceof A?U(n,e):n instanceof Y?re(n,e):function(r,o){const a=E(r,o),u=Qe(a)+Qe(r.gt);return uv(a)&&uv(r.gt)?f(u):c(r.serializer,u)}(n,e)}function w(n,e,t){return n instanceof A?U(n,e):n instanceof Y?re(n,e):t}function E(n,e){return n instanceof Te?uv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class T extends g{}class A extends g{constructor(e){super(),this.elements=e}}function U(n,e){const t=ut(e);for(const r of n.elements)t.some(o=>Ia(o,r))||t.push(r);return{arrayValue:{values:t}}}class Y extends g{constructor(e){super(),this.elements=e}}function re(n,e){let t=ut(e);for(const r of n.elements)t=t.filter(o=>!Ia(o,r));return{arrayValue:{values:t}}}class Te extends g{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Qe(n){return Br(n.integerValue||n.doubleValue)}function ut(n){return Lf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ct{constructor(e,t){this.field=e,this.transform=t}}class He{constructor(e,t){this.version=e,this.transformResults=t}}class wt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wt}static exists(e){return new wt(void 0,e)}static updateTime(e){return new wt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function or(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Mr{}function fD(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Am(n.key,wt.none()):new Sm(n.key,n.data,wt.none());{const t=n.data,r=Co.empty();let o=new rr(Vr.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?r.delete(a):r.set(a,u),o=o.add(a)}return new Hl(n.key,r,new $o(o.toArray()),wt.none())}}function rF(n,e,t){n instanceof Sm?function(r,o,a){const u=r.value.clone(),h=PA(r.fieldTransforms,o,a.transformResults);u.setAll(h),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Hl?function(r,o,a){if(!or(r.precondition,o))return void o.convertToUnknownDocument(a.version);const u=PA(r.fieldTransforms,o,a.transformResults),h=o.data;h.setAll(TA(r)),h.setAll(u),o.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function vv(n,e,t,r){return n instanceof Sm?function(o,a,u,h){if(!or(o.precondition,a))return u;const _=o.value.clone(),v=DA(o.fieldTransforms,h,a);return _.setAll(v),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Hl?function(o,a,u,h){if(!or(o.precondition,a))return u;const _=DA(o.fieldTransforms,h,a),v=a.data;return v.setAll(TA(o)),v.setAll(_),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null===u?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(M=>M.field))}(n,e,t,r):(u=t,or(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function oF(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=E(r.transform,o||null);null!=a&&(null===t&&(t=Co.empty()),t.set(r.field,a))}return t||null}function IA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&wa(t,r,(o,a)=>function Gt(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof A&&r instanceof A||t instanceof Y&&r instanceof Y?wa(t.elements,r.elements,Ia):t instanceof Te&&r instanceof Te?Ia(t.gt,r.gt):t instanceof T&&r instanceof T);var t,r}(o,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Sm extends Mr{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Hl extends Mr{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function TA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function PA(n,e,t){const r=new Map;Pt(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,h=e.data.field(a.field);r.set(a.field,w(u,h,t[o]))}return r}function DA(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,y(a,u,e))}return r}class Am extends Mr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dD extends Mr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hD{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&rF(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=vv(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=vv(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=uD();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(o.key)?null:h;const _=fD(u,h);null!==_&&r.set(o.key,_),u.isValidDocument()||u.convertToNoDocument(kt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_n())}isEqual(e){return this.batchId===e.batchId&&wa(this.mutations,e.mutations,(t,r)=>IA(t,r))&&wa(this.baseMutations,e.baseMutations,(t,r)=>IA(t,r))}}class pD{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Pt(e.mutations.length===r.length);let o=EA;const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new pD(e,t,r,o)}}class gD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class sF{constructor(e,t){this.count=e,this.unchangedNames=t}}var wo,Bn;function OA(n){switch(n){default:return nt();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function SA(n){if(void 0===n)return Wr("GRPC error has no .code"),he.UNKNOWN;switch(n){case wo.OK:return he.OK;case wo.CANCELLED:return he.CANCELLED;case wo.UNKNOWN:return he.UNKNOWN;case wo.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case wo.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case wo.INTERNAL:return he.INTERNAL;case wo.UNAVAILABLE:return he.UNAVAILABLE;case wo.UNAUTHENTICATED:return he.UNAUTHENTICATED;case wo.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case wo.NOT_FOUND:return he.NOT_FOUND;case wo.ALREADY_EXISTS:return he.ALREADY_EXISTS;case wo.PERMISSION_DENIED:return he.PERMISSION_DENIED;case wo.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case wo.ABORTED:return he.ABORTED;case wo.OUT_OF_RANGE:return he.OUT_OF_RANGE;case wo.UNIMPLEMENTED:return he.UNIMPLEMENTED;case wo.DATA_LOSS:return he.DATA_LOSS;default:return nt()}}(Bn=wo||(wo={}))[Bn.OK=0]="OK",Bn[Bn.CANCELLED=1]="CANCELLED",Bn[Bn.UNKNOWN=2]="UNKNOWN",Bn[Bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bn[Bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bn[Bn.NOT_FOUND=5]="NOT_FOUND",Bn[Bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bn[Bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bn[Bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bn[Bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bn[Bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bn[Bn.ABORTED=10]="ABORTED",Bn[Bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bn[Bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bn[Bn.INTERNAL=13]="INTERNAL",Bn[Bn.UNAVAILABLE=14]="UNAVAILABLE",Bn[Bn.DATA_LOSS=15]="DATA_LOSS";class mD{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return WE}static getOrCreateInstance(){return null===WE&&(WE=new mD),WE}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let WE=null;function AA(){return new TextEncoder}const aF=new bc([4294967295,4294967295],0);function xA(n){const e=AA().encode(n),t=new lE;return t.update(e),new Uint8Array(t.digest())}function kA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new bc([t,r],0),new bc([o,a],0)]}class _D{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Cv(`Invalid padding: ${t}`);if(r<0)throw new Cv(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Cv(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Cv(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=bc.fromNumber(this.It)}Et(e,t,r){let o=e.add(t.multiply(bc.fromNumber(r)));return 1===o.compare(aF)&&(o=new bc([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=xA(e),[r,o]=kA(t);for(let a=0;a<this.hashCount;a++){const u=this.Et(r,o,a);if(!this.At(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new _D(a,o,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(0===this.It)return;const t=xA(e),[r,o]=kA(t);for(let a=0;a<this.hashCount;a++){const u=this.Et(r,o,a);this.Rt(u)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Cv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wv{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Ev.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new wv(kt.min(),o,new pr(rn),Ti(),_n())}}class Ev{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ev(r,t,_n(),_n(),_n())}}class ZE{constructor(e,t,r,o){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=o}}class RA{constructor(e,t){this.targetId=e,this.Vt=t}}class NA{constructor(e,t,r=po.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class FA{constructor(){this.St=0,this.Dt=UA(),this.Ct=po.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=_n(),t=_n(),r=_n();return this.Dt.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:nt()}}),new Ev(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=UA()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class cF{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ti(),this.zt=LA(),this.Wt=new pr(rn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:nt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,o)=>{this.te(o)&&t(o)})}ne(e){var t;const r=e.targetId,o=e.Vt.count,a=this.se(r);if(a){const u=a.target;if(mv(u))if(0===o){const h=new at(u.path);this.Yt(r,h,gr.newNoDocument(h,kt.min()))}else Pt(1===o);else{const h=this.ie(r);if(h!==o){const _=this.re(e,h);0!==_&&(this.ee(r),this.Wt=this.Wt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=mD.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(v,M,D){var L,B,Z,oe,ue,Ve;const rt={localCacheCount:M,existenceFilterCount:D.count},tt=D.unchangedNames;return tt&&(rt.bloomFilter={applied:0===v,hashCount:null!==(L=tt?.hashCount)&&void 0!==L?L:0,bitmapLength:null!==(oe=null===(Z=null===(B=tt?.bits)||void 0===B?void 0:B.bitmap)||void 0===Z?void 0:Z.length)&&void 0!==oe?oe:0,padding:null!==(Ve=null===(ue=tt?.bits)||void 0===ue?void 0:ue.padding)&&void 0!==Ve?Ve:0}),rt}(_,h,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=r;let _,v;try{_=Rs(a).toUint8Array()}catch(M){if(M instanceof cv)return Ei("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw M}try{v=new _D(_,u,h)}catch(M){return Ei(M instanceof Cv?"BloomFilter error: ":"Applying bloom filter failed: ",M),1}return 0===v.It?1:o!==t-this.oe(e.targetId,v)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(a=>{const u=this.Gt.ue(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;t.vt(h)||(this.Yt(e,a,null),o++)}),o}ce(e){const t=new Map;this.Qt.forEach((a,u)=>{const h=this.se(u);if(h){if(a.current&&mv(h.target)){const _=new at(h.target.path);null!==this.jt.get(_)||this.ae(u,_)||this.Yt(u,_,gr.newNoDocument(_,e))}a.Mt&&(t.set(u,a.Ot()),a.Ft())}});let r=_n();this.zt.forEach((a,u)=>{let h=!0;u.forEachWhile(_=>{const v=this.se(_);return!v||"TargetPurposeLimboResolution"===v.purpose||(h=!1,!1)}),h&&(r=r.add(a))}),this.jt.forEach((a,u)=>u.setReadTime(e));const o=new wv(e,t,this.Wt,this.jt,r);return this.jt=Ti(),this.zt=LA(),this.Wt=new pr(rn),o}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,t)?o.Bt(t,1):o.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new FA,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new rr(rn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ze("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new FA),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function LA(){return new pr(at.comparator)}function UA(){return new pr(at.comparator)}const lF={asc:"ASCENDING",desc:"DESCENDING"},uF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fF={and:"AND",or:"OR"};class dF{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yD(n,e){return n.useProto3Json||gm(e)?e:{value:e}}function xm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function hF(n,e){return xm(n,e.toTimestamp())}function go(n){return Pt(!!n),kt.fromTimestamp(function(e){const t=Ea(e);return new Dr(t.seconds,t.nanos)}(n))}function bD(n,e){return(t=n,new Tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function BA(n){const e=Tn.fromString(n);return Pt(KA(e)),e}function Mv(n,e){return bD(n.databaseId,e.path)}function Pc(n,e){const t=BA(e);if(t.get(1)!==n.databaseId.projectId)throw new Ue(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ue(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new at($A(t))}function vD(n,e){return bD(n.databaseId,e)}function HA(n){const e=BA(n);return 4===e.length?Tn.emptyPath():$A(e)}function Iv(n){return new Tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $A(n){return Pt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function jA(n,e,t){return{name:Mv(n,e),fields:t.value.mapValue.fields}}function zA(n,e,t){const r=Pc(n,e.name),o=go(e.updateTime),a=e.createTime?go(e.createTime):kt.min(),u=new Co({mapValue:{fields:e.fields}}),h=gr.newFoundDocument(r,o,a,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Tv(n,e){let t;if(e instanceof Sm)t={update:jA(n,e.key,e.value)};else if(e instanceof Am)t={delete:Mv(n,e.key)};else if(e instanceof Hl)t={update:jA(n,e.key,e.data),updateMask:CF(e.fieldMask)};else{if(!(e instanceof dD))return nt();t={verify:Mv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const u=a.transform;if(u instanceof T)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof A)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Y)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Te)return{fieldPath:a.field.canonicalString(),increment:u.gt};throw nt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:hF(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:nt()),t;var o}function CD(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?wt.updateTime(go(o.updateTime)):void 0!==o.exists?wt.exists(o.exists):wt.none():wt.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(a,u){let h=null;"setToServerValue"in u?(Pt("REQUEST_TIME"===u.setToServerValue),h=new T):"appendMissingElements"in u?h=new A(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Y(u.removeAllFromArray.values||[]):"increment"in u?h=new Te(a,u.increment):nt();const _=Vr.fromServerFormat(u.fieldPath);return new Ct(_,h)}(n,o)):[];var o;if(e.update){const o=Pc(n,e.update.name),a=new Co({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new $o((e.updateMask.fieldPaths||[]).map(v=>Vr.fromServerFormat(v)));return new Hl(o,a,u,t,r)}return new Sm(o,a,t,r)}if(e.delete){const o=Pc(n,e.delete);return new Am(o,t)}if(e.verify){const o=Pc(n,e.verify);return new dD(o,t)}return nt()}function qA(n,e){return{documents:[vD(n,e.path)]}}function wD(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=vD(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=vD(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(_){if(0!==_.length)return ZA(Xn.create(_,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const a=function(_){if(0!==_.length)return _.map(v=>{return{field:Bf((M=v).field),direction:yF(M.dir)};var M})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=yD(n,e.limit);var h,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function GA(n){let e=HA(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Pt(1===r);const M=t.from[0];M.allDescendants?o=M.collectionId:e=e.child(M.collectionId)}let a=[];t.where&&(a=function(M){const D=WA(M);return D instanceof Xn&&kE(D)?D.getFilters():[D]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(M=>{return new Ll(km((D=M).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let h=null;t.limit&&(h=function(M){let D;return D="object"==typeof M?M.value:M,gm(D)?null:D}(t.limit));let _=null;var M;t.startAt&&(_=new Fl((M=t.startAt).values||[],!!M.before));let v=null;return t.endAt&&(v=function(M){return new Fl(M.values||[],!M.before)}(t.endAt)),$E(e,o,u,a,h,"F",_,v)}function WA(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=km(e.unaryFilter.field);return En.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=km(e.unaryFilter.field);return En.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=km(e.unaryFilter.field);return En.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=km(e.unaryFilter.field);return En.create(a,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}(n):void 0!==n.fieldFilter?En.create(km((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Xn.create(e.compositeFilter.filters.map(t=>WA(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return nt()}}(e.compositeFilter.op))}(n):nt();var e}function yF(n){return lF[n]}function bF(n){return uF[n]}function vF(n){return fF[n]}function Bf(n){return{fieldPath:n.canonicalString()}}function km(n){return Vr.fromServerFormat(n.fieldPath)}function ZA(n){return n instanceof En?function(e){if("=="===e.op){if(Cm(e.value))return{unaryFilter:{field:Bf(e.field),op:"IS_NAN"}};if(nD(e.value))return{unaryFilter:{field:Bf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Cm(e.value))return{unaryFilter:{field:Bf(e.field),op:"IS_NOT_NAN"}};if(nD(e.value))return{unaryFilter:{field:Bf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bf(e.field),op:bF(e.op),value:e.value}}}(n):n instanceof Xn?function(e){const t=e.getFilters().map(r=>ZA(r));return 1===t.length?t[0]:{compositeFilter:{op:vF(e.op),filters:t}}}(n):nt()}function CF(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function KA(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class $l{constructor(e,t,r,o,a=kt.min(),u=kt.min(),h=po.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=_}withSequenceNumber(e){return new $l(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $l(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class YA{constructor(e){this.fe=e}}function QA(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:KE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Mv(o=n.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:xm(o,a.version.toTimestamp()),createTime:xm(o,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:jh(e.version)};else{if(!e.isUnknownDocument())return nt();r.unknownDocument={path:t.path.toArray(),version:jh(e.version)}}var o,a;return r}function KE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function jh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function zh(n){const e=new Dr(n.seconds,n.nanoseconds);return kt.fromTimestamp(e)}function qh(n,e){const t=(e.baseMutations||[]).map(a=>CD(n.fe,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const r=e.mutations.map(a=>CD(n.fe,a)),o=Dr.fromMillis(e.localWriteTimeMs);return new hD(e.batchId,o,t,r)}function Pv(n){const e=zh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?zh(n.lastLimboFreeSnapshotVersion):kt.min();let r;var o;return void 0!==n.query.documents?(Pt(1===(o=n.query).documents.length),r=Ro(Vl(HA(o.documents[0])))):r=Ro(GA(n.query)),new $l(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,po.fromBase64String(n.resumeToken))}function JA(n,e){const t=jh(e.snapshotVersion),r=jh(e.lastLimboFreeSnapshotVersion);let o;o=mv(e.target)?qA(n.fe,e.target):wD(n.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Vf(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function ED(n){const e=GA({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?$h(e,e.limit,"L"):e}function MD(n,e){return new gD(e.largestBatchId,CD(n.fe,e.overlayMutation))}function XA(n,e){const t=e.path.lastSegment();return[n,Qo(e.path.popLast()),t]}function ex(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:jh(r.readTime),documentKey:Qo(r.documentKey.path),largestBatchId:r.largestBatchId}}class EF{getBundleMetadata(e,t){return tx(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:zh(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return tx(e).put({bundleId:(r=t).id,createTime:jh(go(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return nx(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:ED(o.bundledQuery),readTime:zh(o.readTime)};var o})}saveNamedQuery(e,t){return nx(e).put({name:(r=t).name,readTime:jh(go(r.readTime)),bundledQuery:r.bundledQuery});var r}}function tx(n){return Jn(n,"bundles")}function nx(n){return Jn(n,"namedQueries")}class YE{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new YE(e,t.uid||"")}getOverlay(e,t){return Dv(e).get(XA(this.userId,t)).next(r=>r?MD(this.serializer,r):null)}getOverlays(e,t){const r=Da();return le.forEach(t,o=>this.getOverlay(e,o).next(a=>{null!==a&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((a,u)=>{const h=new gD(t,u);o.push(this.we(e,h))}),le.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(u=>o.add(Qo(u.getCollectionPath())));const a=[];return o.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push(Dv(e).J("collectionPathOverlayIndex",h))}),le.waitFor(a)}getOverlaysForCollection(e,t,r){const o=Da(),a=Qo(t),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Dv(e).j("collectionPathOverlayIndex",u).next(h=>{for(const _ of h){const v=MD(this.serializer,_);o.set(v.getKey(),v)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const a=Da();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Dv(e).X({index:"collectionGroupOverlayIndex",range:h},(_,v,M)=>{const D=MD(this.serializer,v);a.size()<o||D.largestBatchId===u?(a.set(D.getKey(),D),u=D.largestBatchId):M.done()}).next(()=>a)}we(e,t){return Dv(e).put(function(r,o,a){const[u,h,_]=XA(o,a.mutation.key);return{userId:o,collectionPath:h,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Tv(r.fe,a.mutation)}}(this.serializer,this.userId,t))}}function Dv(n){return Jn(n,"documentOverlays")}class Gh{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Br(e.integerValue));else if("doubleValue"in e){const r=Br(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),mm(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Rs(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?fv(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):nt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const o of Object.keys(r))this.Te(o,t),this.me(r[o],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const o of r)this.me(o,t)}ve(e,t){this.ye(t,37),at.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function MF(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function rx(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const a=MF(255&t[o]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Gh.Ve=new Gh;class IF{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const o=t.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const o=t.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(e){const t=this.Fe(e),r=rx(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Le(e){const t=this.Fe(e),r=rx(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(o){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,o,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class TF{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class PF{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Ov{constructor(){this.je=new IF,this.ze=new TF(this.je),this.We=new PF(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Wh{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Wh(this.indexId,this.documentKey,this.arrayValue,r)}}function Hf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=ox(n.arrayValue,e.arrayValue),0!==t?t:(t=ox(n.directionalValue,e.directionalValue),0!==t?t:at.comparator(n.documentKey,e.documentKey)))}function ox(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class DF{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Pt(e.collectionGroup===this.collectionId);const t=hE(e);if(void 0!==t&&!this.en(t))return!1;const r=Nl(e);let o=new Set,a=0,u=0;for(;a<r.length&&this.en(r[a]);++a)o=o.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(void 0!==this.Ze){if(!o.has(this.Ze.field.canonicalString())){const h=r[a];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[u++],h))return!1}++a}for(;a<r.length;++a)if(u>=this.Ye.length||!this.sn(this.Ye[u++],r[a]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function ix(n){var e,t;if(Pt(n instanceof En||n instanceof Xn),n instanceof En){if(n instanceof UE){const o=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>En.create(n.field,"==",a)))||[];return Xn.create(o,"or")}return n}const r=n.filters.map(o=>ix(o));return Xn.create(r,n.op)}function OF(n){if(0===n.getFilters().length)return[];const e=PD(ix(n));return Pt(sx(e)),ID(e)||TD(e)?[e]:e.getFilters()}function ID(n){return n instanceof En}function TD(n){return n instanceof Xn&&kE(n)}function sx(n){return ID(n)||TD(n)||function(e){if(e instanceof Xn&&xE(e)){for(const t of e.getFilters())if(!ID(t)&&!TD(t))return!1;return!0}return!1}(n)}function PD(n){if(Pt(n instanceof En||n instanceof Xn),n instanceof En)return n;if(1===n.filters.length)return PD(n.filters[0]);const e=n.filters.map(r=>PD(r));let t=Xn.create(e,n.op);return t=QE(t),sx(t)?t:(Pt(t instanceof Xn),Pt(Vh(t)),Pt(t.filters.length>1),t.filters.reduce((r,o)=>DD(r,o)))}function DD(n,e){let t;return Pt(n instanceof En||n instanceof Xn),Pt(e instanceof En||e instanceof Xn),t=n instanceof En?e instanceof En?Xn.create([n,e],"and"):ax(n,e):e instanceof En?ax(e,n):function(r,o){if(Pt(r.filters.length>0&&o.filters.length>0),Vh(r)&&Vh(o))return RE(r,o.getFilters());const a=xE(r)?r:o,u=xE(r)?o:r,h=a.filters.map(_=>DD(_,u));return Xn.create(h,"or")}(n,e),QE(t)}function ax(n,e){if(Vh(e))return RE(e,n.getFilters());{const t=e.filters.map(r=>DD(n,r));return Xn.create(t,"or")}}function QE(n){if(Pt(n instanceof En||n instanceof Xn),n instanceof En)return n;const e=n.getFilters();if(1===e.length)return QE(e[0]);if(sD(n))return n;const t=e.map(o=>QE(o)),r=[];return t.forEach(o=>{o instanceof En?r.push(o):o instanceof Xn&&(o.op===n.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:Xn.create(r,n.op)}class SF{constructor(){this.rn=new OD}addToCollectionParentIndex(e,t){return this.rn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Mi.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class OD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new rr(Tn.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new rr(Tn.comparator)).toArray()}}const JE=new Uint8Array(0);class AF{constructor(e,t){this.user=e,this.databaseId=t,this.on=new OD,this.un=new Pa(r=>Vf(r),(r,o)=>Mm(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const a={collectionId:r,parent:Qo(o)};return cx(e).put(a)}return le.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[fm(t),""],!1,!0);return cx(e).j(o).next(a=>{for(const u of a){if(u.collectionId!==t)break;r.push(os(u.parent))}return r})}addFieldIndex(e,t){const r=XE(e),o={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete o.indexId;const a=r.add(o);if(t.indexState){const u=Av(e);return a.next(h=>{u.put(ex(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=XE(e),o=Av(e),a=Sv(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Sv(e);let o=!0;const a=new Map;return le.forEach(this.cn(t),u=>this.an(e,u).next(h=>{o&&(o=!!h),a.set(u,h)})).next(()=>{if(o){let u=_n();const h=[];return le.forEach(a,(_,v)=>{var M;ze("IndexedDbIndexManager",`Using index ${M=_,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(tt=>`${tt.fieldPath}:${tt.kind}`).join(",")}`} to execute ${Vf(t)}`);const D=function(tt,ot){const Wt=hE(ot);if(void 0===Wt)return null;for(const Zt of Hh(tt,Wt.fieldPath))switch(Zt.op){case"array-contains-any":return Zt.value.arrayValue.values||[];case"array-contains":return[Zt.value]}return null}(v,_),L=function(tt,ot){const Wt=new Map;for(const Zt of Nl(ot))for(const Sn of Hh(tt,Zt.fieldPath))switch(Sn.op){case"==":case"in":Wt.set(Zt.fieldPath.canonicalString(),Sn.value);break;case"not-in":case"!=":return Wt.set(Zt.fieldPath.canonicalString(),Sn.value),Array.from(Wt.values())}return null}(v,_),B=function(tt,ot){const Wt=[];let Zt=!0;for(const Sn of Nl(ot)){const Kr=0===Sn.kind?BE(tt,Sn.fieldPath,tt.startAt):HE(tt,Sn.fieldPath,tt.startAt);Wt.push(Kr.value),Zt&&(Zt=Kr.inclusive)}return new Fl(Wt,Zt)}(v,_),Z=function(tt,ot){const Wt=[];let Zt=!0;for(const Sn of Nl(ot)){const Kr=0===Sn.kind?HE(tt,Sn.fieldPath,tt.endAt):BE(tt,Sn.fieldPath,tt.endAt);Wt.push(Kr.value),Zt&&(Zt=Kr.inclusive)}return new Fl(Wt,Zt)}(v,_),oe=this.hn(_,v,B),ue=this.hn(_,v,Z),Ve=this.ln(_,v,L),rt=this.fn(_.indexId,D,oe,B.inclusive,ue,Z.inclusive,Ve);return le.forEach(rt,tt=>r.H(tt,t.limit).next(ot=>{ot.forEach(Wt=>{const Zt=at.fromSegments(Wt.documentKey);u.has(Zt)||(u=u.add(Zt),h.push(Zt))})}))}).next(()=>h)}return le.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:OF(Xn.create(e.filters,"and")).map(r=>VE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,o,a,u,h){const _=(null!=t?t.length:1)*Math.max(r.length,a.length),v=_/(null!=t?t.length:1),M=[];for(let D=0;D<_;++D){const L=t?this.dn(t[D/v]):JE,B=this.wn(e,L,r[D%v],o),Z=this._n(e,L,a[D%v],u),oe=h.map(ue=>this.wn(e,L,ue,!0));M.push(...this.createRange(B,Z,oe))}return M}wn(e,t,r,o){const a=new Wh(e,at.empty(),t,r);return o?a:a.Je()}_n(e,t,r,o){const a=new Wh(e,at.empty(),t,r);return o?a.Je():a}an(e,t){const r=new DF(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(a=>{let u=null;for(const h of a)r.tn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;const o=this.cn(t);return le.forEach(o,a=>this.an(e,a).next(u=>{u?0!==r&&u.fields.length<function(h){let _=new rr(Vr.comparator),v=!1;for(const M of h.filters)for(const D of M.getFlattenedFilters())D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?v=!0:_=_.add(D.field));for(const M of h.orderBy)M.field.isKeyField()||(_=_.add(M.field));return _.size+(v?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&o.length>1&&2===r?1:r)}mn(e,t){const r=new Ov;for(const o of Nl(e)){const a=t.data.field(o.fieldPath);if(null==a)return null;const u=r.He(o.kind);Gh.Ve._e(a,u)}return r.Qe()}dn(e){const t=new Ov;return Gh.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new Ov;return Gh.Ve._e(Ic(this.databaseId,t),r.He(function(o){const a=Nl(o);return 0===a.length?0:a[a.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let o=[];o.push(new Ov);let a=0;for(const u of Nl(e)){const h=r[a++];for(const _ of o)if(this.yn(t,u.fieldPath)&&Lf(h))o=this.pn(o,u,h);else{const v=_.He(u.kind);Gh.Ve._e(h,v)}}return this.In(o)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const o=[...e],a=[];for(const u of r.arrayValue.values||[])for(const h of o){const _=new Ov;_.seed(h.Qe()),Gh.Ve._e(u,_.He(t.kind)),a.push(_)}return a}yn(e,t){return!!e.filters.find(r=>r instanceof En&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=XE(e),o=Av(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(a=>{const u=[];return le.forEach(a,h=>o.get([h.indexId,this.uid]).next(_=>{u.push(function(v,M){const D=M?new Sh(M.sequenceNumber,new Mi(zh(M.readTime),new at(os(M.documentKey)),M.largestBatchId)):Sh.empty(),L=v.fields.map(([B,Z])=>new dm(Vr.fromServerFormat(B),Z));return new Af(v.indexId,v.collectionGroup,L,D)}(h,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const a=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==a?a:rn(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=XE(e),a=Av(e);return this.Tn(e).next(u=>o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>le.forEach(h,_=>a.put(ex(_.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return le.forEach(t,(o,a)=>{const u=r.get(o.collectionGroup);return(u?le.resolve(u):this.getFieldIndexes(e,o.collectionGroup)).next(h=>(r.set(o.collectionGroup,h),le.forEach(h,_=>this.En(e,o,_).next(v=>{const M=this.An(a,_);return v.isEqual(M)?le.resolve():this.vn(e,a,_,v,M)}))))})}Rn(e,t,r,o){return Sv(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,o){return Sv(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const o=Sv(e);let a=new rr(Hf);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(u,h)=>{a=a.add(new Wh(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>a)}An(e,t){let r=new rr(Hf);const o=this.mn(t,e);if(null==o)return r;const a=hE(t);if(null!=a){const u=e.data.field(a.fieldPath);if(Lf(u))for(const h of u.arrayValue.values||[])r=r.add(new Wh(t.indexId,e.key,this.dn(h),o))}else r=r.add(new Wh(t.indexId,e.key,JE,o));return r}vn(e,t,r,o,a){ze("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(h,_,v,M,D){const L=h.getIterator(),B=_.getIterator();let Z=Rf(L),oe=Rf(B);for(;Z||oe;){let ue=!1,Ve=!1;if(Z&&oe){const rt=v(Z,oe);rt<0?Ve=!0:rt>0&&(ue=!0)}else null!=Z?Ve=!0:ue=!0;ue?(M(oe),oe=Rf(B)):Ve?(D(Z),Z=Rf(L)):(Z=Rf(L),oe=Rf(B))}}(o,a,Hf,h=>{u.push(this.Rn(e,t,r,h))},h=>{u.push(this.Pn(e,t,r,h))}),le.waitFor(u)}Tn(e){let t=1;return Av(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,a)=>{a.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>Hf(u,h)).filter((u,h,_)=>!h||0!==Hf(u,_[h-1]));const o=[];o.push(e);for(const u of r){const h=Hf(u,e),_=Hf(u,t);if(0===h)o[0]=e.Je();else if(h>0&&_<0)o.push(u),o.push(u.Je());else if(_>0)break}o.push(t);const a=[];for(let u=0;u<o.length;u+=2){if(this.bn(o[u],o[u+1]))return[];a.push(IDBKeyRange.bound([o[u].indexId,this.uid,o[u].arrayValue,o[u].directionalValue,JE,[]],[o[u+1].indexId,this.uid,o[u+1].arrayValue,o[u+1].directionalValue,JE,[]]))}return a}bn(e,t){return Hf(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(lx)}getMinOffset(e,t){return le.mapArray(this.cn(t),r=>this.an(e,r).next(o=>o||nt())).next(lx)}}function cx(n){return Jn(n,"collectionParents")}function Sv(n){return Jn(n,"indexEntries")}function XE(n){return Jn(n,"indexConfiguration")}function Av(n){return Jn(n,"indexState")}function lx(n){Pt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;hm(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Mi(e.readTime,e.documentKey,t)}const ux={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ui{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ui(e,ui.DEFAULT_COLLECTION_PERCENTILE,ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function fx(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let h=0;const _=r.X({range:u},(M,D,L)=>(h++,L.delete()));a.push(_.next(()=>{Pt(1===h)}));const v=[];for(const M of t.mutations){const D=iv(e,M.key.path,t.batchId);a.push(o.delete(D)),v.push(M.key)}return le.waitFor(a).next(()=>v)}function eM(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw nt();e=n.noDocument}return JSON.stringify(e).length}ui.DEFAULT_COLLECTION_PERCENTILE=10,ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ui.DEFAULT=new ui(41943040,ui.DEFAULT_COLLECTION_PERCENTILE,ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ui.DISABLED=new ui(-1,0,0);class tM{constructor(e,t,r,o){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=o,this.Vn={}}static de(e,t,r,o){Pt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new tM(a,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $f(e).X({index:"userMutationsIndex",range:r},(o,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const a=Rm(e),u=$f(e);return u.add({}).next(h=>{Pt("number"==typeof h);const _=new hD(h,t,r,o),v=function(L,B,Z){const oe=Z.baseMutations.map(Ve=>Tv(L.fe,Ve)),ue=Z.mutations.map(Ve=>Tv(L.fe,Ve));return{userId:B,batchId:Z.batchId,localWriteTimeMs:Z.localWriteTime.toMillis(),baseMutations:oe,mutations:ue}}(this.serializer,this.userId,_),M=[];let D=new rr((L,B)=>rn(L.canonicalString(),B.canonicalString()));for(const L of o){const B=iv(this.userId,L.key.path,h);D=D.add(L.key.path.popLast()),M.push(u.put(v)),M.push(a.put(B,mA))}return D.forEach(L=>{M.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.Vn[h]=_.keys()}),le.waitFor(M).next(()=>_)})}lookupMutationBatch(e,t){return $f(e).get(t).next(r=>r?(Pt(r.userId===this.userId),qh(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?le.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Vn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return $f(e).X({index:"userMutationsIndex",range:o},(u,h,_)=>{h.userId===this.userId&&(Pt(h.batchId>=r),a=qh(this.serializer,h)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return $f(e).X({index:"userMutationsIndex",range:t,reverse:!0},(o,a,u)=>{r=a.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $f(e).j("userMutationsIndex",t).next(r=>r.map(o=>qh(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=kh(this.userId,t.path),o=IDBKeyRange.lowerBound(r),a=[];return Rm(e).X({range:o},(u,h,_)=>{const[v,M,D]=u,L=os(M);if(v===this.userId&&t.path.isEqual(L))return $f(e).get(D).next(B=>{if(!B)throw nt();Pt(B.userId===this.userId),a.push(qh(this.serializer,B))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rr(rn);const o=[];return t.forEach(a=>{const u=kh(this.userId,a.path),h=IDBKeyRange.lowerBound(u),_=Rm(e).X({range:h},(v,M,D)=>{const[L,B,Z]=v,oe=os(B);L===this.userId&&a.path.isEqual(oe)?r=r.add(Z):D.done()});o.push(_)}),le.waitFor(o).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,a=kh(this.userId,r),u=IDBKeyRange.lowerBound(a);let h=new rr(rn);return Rm(e).X({range:u},(_,v,M)=>{const[D,L,B]=_,Z=os(L);D===this.userId&&r.isPrefixOf(Z)?Z.length===o&&(h=h.add(B)):M.done()}).next(()=>this.Dn(e,h))}Dn(e,t){const r=[],o=[];return t.forEach(a=>{o.push($f(e).get(a).next(u=>{if(null===u)throw nt();Pt(u.userId===this.userId),r.push(qh(this.serializer,u))}))}),le.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return fx(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),le.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return le.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Rm(e).X({range:r},(a,u,h)=>{if(a[0]===this.userId){const _=os(a[1]);o.push(_)}else h.done()}).next(()=>{Pt(0===o.length)})})}containsKey(e,t){return dx(e,this.userId,t)}xn(e){return hx(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function dx(n,e,t){const r=kh(e,t.path),o=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return Rm(n).X({range:a,Y:!0},(h,_,v)=>{const[M,D,L]=h;M===e&&D===o&&(u=!0),v.done()}).next(()=>u)}function $f(n){return Jn(n,"mutations")}function Rm(n){return Jn(n,"documentMutations")}function hx(n){return Jn(n,"mutationQueues")}class Zh{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Zh(0)}static Mn(){return new Zh(-1)}}class xF{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Zh(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>kt.fromTimestamp(new Dr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.On(e,o)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Nm(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Pt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let o=0;const a=[];return Nm(e).X((u,h)=>{const _=Pv(h);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(o++,a.push(this.removeTargetData(e,_)))}).next(()=>le.waitFor(a)).next(()=>o)}forEachTarget(e,t){return Nm(e).X((r,o)=>{const a=Pv(o);t(a)})}$n(e){return px(e).get("targetGlobalKey").next(t=>(Pt(null!==t),t))}On(e,t){return px(e).put("targetGlobalKey",t)}Fn(e,t){return Nm(e).put(JA(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Vf(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Nm(e).X({range:o,index:"queryTargetsIndex"},(u,h,_)=>{const v=Pv(h);Mm(t,v.target)&&(a=v,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const o=[],a=jf(e);return t.forEach(u=>{const h=Qo(u.path);o.push(a.put({targetId:r,path:h})),o.push(this.referenceDelegate.addReference(e,r,u))}),le.waitFor(o)}removeMatchingKeys(e,t,r){const o=jf(e);return le.forEach(t,a=>{const u=Qo(a.path);return le.waitFor([o.delete([r,u]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=jf(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=jf(e);let a=_n();return o.X({range:r,Y:!0},(u,h,_)=>{const v=os(u[1]),M=new at(v);a=a.add(M)}).next(()=>a)}containsKey(e,t){const r=Qo(t.path),o=IDBKeyRange.bound([r],[fm(r)],!1,!0);let a=0;return jf(e).X({index:"documentTargetsIndex",Y:!0,range:o},([u,h],_,v)=>{0!==u&&(a++,v.done())}).next(()=>a>0)}le(e,t){return Nm(e).get(t).next(r=>r?Pv(r):null)}}function Nm(n){return Jn(n,"targets")}function px(n){return Jn(n,"targetGlobal")}function jf(n){return Jn(n,"targetDocuments")}function gx([n,e],[t,r]){const o=rn(n,t);return 0===o?rn(e,r):o}class kF{constructor(e){this.Ln=e,this.buffer=new rr(gx),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();gx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mx{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Me.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Cc(r)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield vc(r)}yield t.Qn(3e5)}))}}class RF{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return le.resolve(ji.ct);const r=new kF(t);return this.jn.forEachTarget(e,o=>r.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(e,o=>r.Kn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(ux)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ux):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,o,a,u,h,_,v;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),o=this.params.maximumSequenceNumbersToCollect):o=D,u=Date.now(),this.nthSequenceNumber(e,o))).next(D=>(r=D,h=Date.now(),this.removeTargets(e,r,t))).next(D=>(a=D,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(D=>(v=Date.now(),Yb()<=es.in.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-M}ms\n\tDetermined least recently used ${o} in `+(h-u)+`ms\n\tRemoved ${a} targets in `+(_-h)+`ms\n\tRemoved ${D} documents in `+(v-_)+`ms\nTotal Duration: ${v-M}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:D})))}}class NF{constructor(e,t){this.db=e,this.garbageCollector=function _x(n,e){return new RF(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,o)=>t(o))}addReference(e,t,r){return nM(e,r)}removeReference(e,t,r){return nM(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return nM(e,t)}Xn(e,t){return function(r,o){let a=!1;return hx(r).Z(u=>dx(r,u,o).next(h=>(h&&(a=!0),le.resolve(!h)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let a=0;return this.Yn(e,(u,h)=>{if(h<=t){const _=this.Xn(e,u).next(v=>{if(!v)return a++,r.getEntry(e,u).next(()=>(r.removeEntry(u,kt.min()),jf(e).delete([0,Qo(u.path)])))});o.push(_)}}).next(()=>le.waitFor(o)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return nM(e,t)}Yn(e,t){const r=jf(e);let o,a=ji.ct;return r.X({index:"documentTargetsIndex"},([u,h],{path:_,sequenceNumber:v})=>{0===u?(a!==ji.ct&&t(new at(os(o)),a),a=v,o=_):a=ji.ct}).next(()=>{a!==ji.ct&&t(new at(os(o)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nM(n,e){return jf(n).put((r=n.currentSequenceNumber,{targetId:0,path:Qo(e.path),sequenceNumber:r}));var r}class yx{constructor(){this.changes=new Pa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class FF{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Kh(e).put(r)}removeEntry(e,t,r){return Kh(e).delete(function(o,a){const u=o.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],KE(a),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=gr.newInvalidDocument(t);return Kh(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(xv(t))},(o,a)=>{r=this.ts(t,a)}).next(()=>r)}es(e,t){let r={size:0,document:gr.newInvalidDocument(t)};return Kh(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(xv(t))},(o,a)=>{r={document:this.ts(t,a),size:eM(a)}}).next(()=>r)}getEntries(e,t){let r=Ti();return this.ns(e,t,(o,a)=>{const u=this.ts(o,a);r=r.insert(o,u)}).next(()=>r)}ss(e,t){let r=Ti(),o=new pr(at.comparator);return this.ns(e,t,(a,u)=>{const h=this.ts(a,u);r=r.insert(a,h),o=o.insert(a,eM(u))}).next(()=>({documents:r,rs:o}))}ns(e,t,r){if(t.isEmpty())return le.resolve();let o=new rr(wx);t.forEach(_=>o=o.add(_));const a=IDBKeyRange.bound(xv(o.first()),xv(o.last())),u=o.getIterator();let h=u.getNext();return Kh(e).X({index:"documentKeyIndex",range:a},(_,v,M)=>{const D=at.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&wx(h,D)<0;)r(h,null),h=u.getNext();h&&h.isEqual(D)&&(r(h,v),h=u.hasNext()?u.getNext():null),h?M.G(xv(h)):M.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,o){const a=t.path,u=[a.popLast().toArray(),a.lastSegment(),KE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Kh(e).j(IDBKeyRange.bound(u,h,!0)).next(_=>{let v=Ti();for(const M of _){const D=this.ts(at.fromSegments(M.prefixPath.concat(M.collectionGroup,M.documentId)),M);D.isFoundDocument()&&(Pm(t,D)||o.has(D.key))&&(v=v.insert(D.key,D))}return v})}getAllFromCollectionGroup(e,t,r,o){let a=Ti();const u=Cx(t,r),h=Cx(t,Mi.max());return Kh(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(_,v,M)=>{const D=this.ts(at.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);a=a.insert(D.key,D),a.size===o&&M.done()}).next(()=>a)}newChangeBuffer(e){return new LF(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return vx(e).get("remoteDocumentGlobalKey").next(t=>(Pt(!!t),t))}Zn(e,t){return vx(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function wF(n,e){let t;if(e.document)t=zA(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=at.fromSegments(e.noDocument.path),o=zh(e.noDocument.readTime);t=gr.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return nt();{const r=at.fromSegments(e.unknownDocument.path),o=zh(e.unknownDocument.version);t=gr.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Dr(r[0],r[1]);return kt.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(kt.min()))return r}return gr.newInvalidDocument(e)}}function bx(n){return new FF(n)}class LF extends yx{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Pa(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new rr((a,u)=>rn(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const h=this.us.get(a);if(t.push(this.os.removeEntry(e,a,h.readTime)),u.isValidDocument()){const _=QA(this.os.serializer,u);o=o.add(a.path.popLast());const v=eM(_);r+=v-h.size,t.push(this.os.addEntry(e,a,_))}else if(r-=h.size,this.trackRemovals){const _=QA(this.os.serializer,u.convertToNoDocument(kt.min()));t.push(this.os.addEntry(e,a,_))}}),o.forEach(a=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.os.updateMetadata(e,r)),le.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:o})=>(o.forEach((a,u)=>{this.us.set(a,{size:u,readTime:r.get(a).readTime})}),r))}}function vx(n){return Jn(n,"remoteDocumentGlobal")}function Kh(n){return Jn(n,"remoteDocumentsV14")}function xv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Cx(n,e){const t=e.documentKey.path.toArray();return[n,KE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function wx(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(o=rn(t[a],r[a]),o)return o;return o=rn(t.length,r.length),o||(o=rn(t[t.length-2],r[r.length-2]),o||rn(t[t.length-1],r[r.length-1]))}class UF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ex{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&vv(r.mutation,o,$o.empty(),Dr.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,_n()).next(()=>r))}getLocalViewOfDocuments(e,t,r=_n()){const o=Da();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=Dm();return a.forEach((h,_)=>{u=u.insert(h,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Da();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,_n()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,o){let a=Ti();const u=Om(),h=Om();return t.forEach((_,v)=>{const M=r.get(v.key);o.has(v.key)&&(void 0===M||M.mutation instanceof Hl)?a=a.insert(v.key,v):void 0!==M?(u.set(v.key,M.mutation.getFieldMask()),vv(M.mutation,v,M.mutation.getFieldMask(),Dr.now())):u.set(v.key,$o.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((v,M)=>u.set(v,M)),t.forEach((v,M)=>{var D;return h.set(v,new UF(M,null!==(D=u.get(v))&&void 0!==D?D:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Om();let o=new pr((u,h)=>u-h),a=_n();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(_=>{const v=t.get(_);if(null===v)return;let M=r.get(_)||$o.empty();M=h.applyToLocalView(v,M),r.set(_,M);const D=(o.get(h.batchId)||_n()).add(_);o=o.insert(h.batchId,D)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const _=h.getNext(),v=_.key,M=_.value,D=uD();M.forEach(L=>{if(!a.has(L)){const B=fD(t.get(L),r.get(L));null!==B&&D.set(L,B),a=a.add(L)}}),u.push(this.documentOverlayCache.saveOverlays(e,v,D))}return le.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return at.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):yv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):le.resolve(Da());let h=-1,_=a;return u.next(v=>le.forEach(v,(M,D)=>(h<D.largestBatchId&&(h=D.largestBatchId),a.get(M)?le.resolve():this.remoteDocumentCache.getEntry(e,M).next(L=>{_=_.insert(M,L)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,_,v,_n())).next(M=>({batchId:h,changes:GE(M)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new at(t)).next(r=>{let o=Dm();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let a=Dm();return this.indexManager.getCollectionParents(e,o).next(u=>le.forEach(u,h=>{const _=(v=t,M=h.child(o),new Ta(M,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,M;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(v=>{v.forEach((M,D)=>{a=a.insert(M,D)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(a=>{o.forEach((h,_)=>{const v=_.getKey();null===a.get(v)&&(a=a.insert(v,gr.newInvalidDocument(v)))});let u=Dm();return a.forEach((h,_)=>{const v=o.get(h);void 0!==v&&vv(v.mutation,_,$o.empty(),Dr.now()),Pm(t,_)&&(u=u.insert(h,_))}),u})}}class VF{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return le.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:go(r.createTime)}),le.resolve()}getNamedQuery(e,t){return le.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:ED(r.bundledQuery),readTime:go(r.readTime)}),le.resolve();var r}}class BF{constructor(){this.overlays=new pr(at.comparator),this.ls=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Da();return le.forEach(t,o=>this.getOverlay(e,o).next(a=>{null!==a&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.we(e,t,a)}),le.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const o=Da(),a=t.length+1,u=new at(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const _=h.getNext().value,v=_.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&_.largestBatchId>r&&o.set(_.getKey(),_)}return le.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new pr((v,M)=>v-M);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let M=a.get(v.largestBatchId);null===M&&(M=Da(),a=a.insert(v.largestBatchId,M)),M.set(v.getKey(),v)}}const h=Da(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,M)=>h.set(v,M)),!(h.size()>=o)););return le.resolve(h)}we(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const u=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new gD(t,r));let a=this.ls.get(t);void 0===a&&(a=_n(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class SD{constructor(){this.fs=new rr(jo.ds),this.ws=new rr(jo._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new jo(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new jo(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new at(new Tn([])),r=new jo(t,e),o=new jo(t,e+1),a=[];return this.ws.forEachInRange([r,o],u=>{this.ys(u),a.push(u.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new at(new Tn([])),r=new jo(t,e),o=new jo(t,e+1);let a=_n();return this.ws.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new jo(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class jo{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return at.comparator(e.key,t.key)||rn(e.As,t.As)}static _s(e,t){return rn(e.As,t.As)||at.comparator(e.key,t.key)}}class HF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new rr(jo.ds)}checkEmpty(e){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const a=this.vs;this.vs++;const u=new hD(a,t,r,o);this.mutationQueue.push(u);for(const h of o)this.Rs=this.Rs.add(new jo(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,t){return le.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.bs(t+1),a=o<0?0:o;return le.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new jo(t,0),o=new jo(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,o],u=>{const h=this.Ps(u.As);a.push(h)}),le.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rr(rn);return t.forEach(o=>{const a=new jo(o,0),u=new jo(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,u],h=>{r=r.add(h.As)})}),le.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;at.isDocumentKey(a)||(a=a.child(""));const u=new jo(new at(a),0);let h=new rr(rn);return this.Rs.forEachWhile(_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(h=h.add(_.As)),!0)},u),le.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(r=>{const o=this.Ps(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Pt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return le.forEach(t.mutations,o=>{const a=new jo(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new jo(t,0),o=this.Rs.firstAfterOrEqual(r);return le.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return le.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class $F{constructor(e){this.Ds=e,this.docs=new pr(at.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():gr.newInvalidDocument(t))}getEntries(e,t){let r=Ti();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():gr.newInvalidDocument(o))}),le.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=Ti();const u=t.path,h=new at(u.child("")),_=this.docs.getIteratorFrom(h);for(;_.hasNext();){const{key:v,value:{document:M}}=_.getNext();if(!u.isPrefixOf(v.path))break;v.path.length>u.length+1||hm(nv(M),r)<=0||(o.has(M.key)||Pm(t,M))&&(a=a.insert(M.key,M.mutableCopy()))}return le.resolve(a)}getAllFromCollectionGroup(e,t,r,o){nt()}Cs(e,t){return le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new jF(this)}getSize(e){return le.resolve(this.size)}}class jF extends yx{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),le.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class zF{constructor(e){this.persistence=e,this.xs=new Pa(t=>Vf(t),Mm),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new SD,this.targetCount=0,this.Ms=Zh.kn()}forEachTarget(e,t){return this.xs.forEach((r,o)=>t(o)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),le.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Zh(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Fn(t),le.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.xs.forEach((u,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.xs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),le.waitFor(a).next(()=>o)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),le.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),le.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this.ks.containsKey(t))}}class AD{constructor(e,t){this.$s={},this.overlays={},this.Os=new ji(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new zF(this),this.indexManager=new SF,this.remoteDocumentCache=new $F(r=>this.referenceDelegate.Ls(r)),this.serializer=new YA(t),this.qs=new VF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new BF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new HF(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){ze("MemoryPersistence","Starting transaction:",e);const o=new qF(this.Os.next());return this.referenceDelegate.Us(),r(o).next(a=>this.referenceDelegate.Ks(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Gs(e,t){return le.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class qF extends pE{constructor(e){super(),this.currentSequenceNumber=e}}class rM{constructor(e){this.persistence=e,this.Qs=new SD,this.js=null}static zs(e){return new rM(e)}get Ws(){if(this.js)return this.js;throw nt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),le.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Ws,r=>{const o=at.fromPath(r);return this.Hs(e,o).next(a=>{a||t.removeEntry(o,kt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return le.or([()=>le.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class GF{constructor(e){this.serializer=e}O(e,t,r,o){const a=new Ah("createOrUpgrade",t);var h;r<1&&o>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xh,{unique:!0}),h.createObjectStore("documentMutations"),Mx(e),function(h){h.createObjectStore("remoteDocuments")}(e));let u=le.resolve();return r<3&&o>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),Mx(e)),u=u.next(()=>function(h){const _=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",v)}(a))),r<4&&o>=4&&(0!==r&&(u=u.next(()=>function(h,_){return _.store("mutations").j().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xh,{unique:!0});const M=_.store("mutations"),D=v.map(L=>M.put(L));return le.waitFor(D)})}(e,a))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(u=u.next(()=>this.Ys(a))),r<6&&o>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),r<7&&o>=7&&(u=u.next(()=>this.Zs(a))),r<8&&o>=8&&(u=u.next(()=>this.ti(e,a))),r<9&&o>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(u=u.next(()=>this.ei(a))),r<11&&o>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(u=u.next(()=>{!function(h){const _=h.createObjectStore("documentOverlays",{keyPath:vA});_.createIndex("collectionPathOverlayIndex",eD,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",tD,{unique:!1})}(e)})),r<13&&o>=13&&(u=u.next(()=>function(h){const _=h.createObjectStore("remoteDocumentsV14",{keyPath:sv});_.createIndex("documentKeyIndex",_E),_.createIndex("collectionGroupIndex",KP)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(u=u.next(()=>this.si(e,a))),r<15&&o>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:ym}).createIndex("sequenceNumberIndex",XP,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:yA}).createIndex("documentKeyIndex",bA,{unique:!1})}(e))),u}Xs(e){let t=0;return e.store("remoteDocuments").X((r,o)=>{t+=eM(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(o=>le.forEach(o,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",u).next(h=>le.forEach(h,_=>{Pt(_.userId===a.userId);const v=qh(this.serializer,_);return fx(e,a.userId,v).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const a=[];return r.X((u,h)=>{const _=new Tn(u),v=[0,Qo(_)];a.push(t.get(v).next(M=>M?le.resolve():t.put({targetId:0,path:Qo(_),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>le.waitFor(a))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:JP});const r=t.store("collectionParents"),o=new OD,a=u=>{if(o.add(u)){const h=u.lastSegment(),_=u.popLast();return r.put({collectionId:h,parent:Qo(_)})}};return t.store("remoteDocuments").X({Y:!0},(u,h)=>{const _=new Tn(u);return a(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([u,h,_],v)=>{const M=os(h);return a(M.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,o)=>{const a=Pv(o),u=JA(this.serializer,a);return t.put(u)})}ni(e,t){const r=t.store("remoteDocuments"),o=[];return r.X((a,u)=>{const h=t.store("remoteDocumentsV14"),_=(v=u,v.document?new at(Tn.fromString(v.document.name).popFirst(5)):v.noDocument?at.fromSegments(v.noDocument.path):v.unknownDocument?at.fromSegments(v.unknownDocument.path):nt()).path.toArray();var v;const M={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};o.push(h.put(M))}).next(()=>le.waitFor(o))}si(e,t){const r=t.store("mutations"),o=bx(this.serializer),a=new AD(rM.zs,this.serializer.fe);return r.j().next(u=>{const h=new Map;return u.forEach(_=>{var v;let M=null!==(v=h.get(_.userId))&&void 0!==v?v:_n();qh(this.serializer,_).keys().forEach(D=>M=M.add(D)),h.set(_.userId,M)}),le.forEach(h,(_,v)=>{const M=new ho(v),D=YE.de(this.serializer,M),L=a.getIndexManager(M),B=tM.de(M,this.serializer,L,a.referenceDelegate);return new Ex(o,B,D,L).recalculateAndSaveOverlaysForDocumentKeys(new CE(t,ji.ct),_).next()})})}}function Mx(n){n.createObjectStore("targetDocuments",{keyPath:YP}).createIndex("documentTargetsIndex",QP,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_A,{unique:!0}),n.createObjectStore("targetGlobal")}const xD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class kD{constructor(e,t,r,o,a,u,h,_,v,M,D=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=a,this.window=u,this.document=h,this.ri=v,this.oi=M,this.ui=D,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=L=>Promise.resolve(),!kD.D())throw new Ue(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new NF(this,o),this.di=t+"main",this.serializer=new YA(_),this.wi=new $i(this.di,this.ui,new GF(this.serializer)),this.Bs=new xF(this.referenceDelegate,this.serializer),this.remoteDocumentCache=bx(this.serializer),this.qs=new EF,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===M&&Wr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ue(he.FAILED_PRECONDITION,xD);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ji(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,Me.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Me.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Me.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>iM(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Cc(e))return ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return kv(e).get("owner").next(t=>le.resolve(this.Ri(t)))}Pi(e){return iM(e).delete(this.clientId)}bi(){var e=this;return(0,Me.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Jn(r,"clientMetadata");return o.j().next(a=>{const u=e.Si(a,18e5),h=a.filter(_=>-1===u.indexOf(_));return le.forEach(h,_=>o.delete(_.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?le.resolve(!0):kv(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ue(he.FAILED_PRECONDITION,xD);return!1}}return!(!this.networkEnabled||!this.inForeground)||iM(e).j().next(r=>void 0===this.Si(r,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ze("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Me.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new CE(t,ji.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>iM(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return tM.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new AF(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return YE.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){ze("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",a=15===(u=this.ui)?vE:14===u?av:13===u?bE:12===u?CA:11===u?yE:void nt();var u;let h;return this.wi.runTransaction(e,o,a,_=>(h=new CE(_,this.Os?this.Os.next():ji.ct),"readwrite-primary"===t?this.Ti(h).next(v=>!!v||this.Ei(h)).next(v=>{if(!v)throw Wr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ue(he.FAILED_PRECONDITION,rv);return r(h)}).next(v=>this.vi(h).next(()=>v)):this.Oi(h).next(()=>r(h)))).then(_=>(h.raiseOnCommittedEvent(),_))}Oi(e){return kv(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ue(he.FAILED_PRECONDITION,xD)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kv(e).put("owner",t)}static D(){return $i.D()}Ai(e){const t=kv(e);return t.get("owner").next(r=>this.Ri(r)?(ze("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):le.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Wr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,$t.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return ze("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Wr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Wr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function kv(n){return Jn(n,"owner")}function iM(n){return Jn(n,"clientMetadata")}function RD(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class ND{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=o}static Li(e,t){let r=_n(),o=_n();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new ND(e,t.fromCache,r,o)}}class Ix{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ki(e,t).next(a=>a||this.Gi(e,t,o,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(_v(t))return le.resolve(null);let r=Ro(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=$h(t,null,"F"),r=Ro(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=_n(...a);return this.Ui.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(_=>{const v=this.ji(t,h);return this.zi(t,v,u,_.readTime)?this.Ki(e,$h(t,null,"F")):this.Wi(e,v,t,_)}))})))}Gi(e,t,r,o){return _v(t)||o.isEqual(kt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const u=this.ji(t,a);return this.zi(t,u,r,o)?this.Qi(e,t):(Yb()<=es.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),bv(t)),this.Wi(e,u,t,tv(o,-1)))})}ji(e,t){let r=new rr(qE(e));return t.forEach((o,a)=>{Pm(e,a)&&(r=r.add(a))}),r}zi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Qi(e,t){return Yb()<=es.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",bv(t)),this.Ui.getDocumentsMatchingQuery(e,t,Mi.min())}Wi(e,t,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class WF{constructor(e,t,r,o){this.persistence=e,this.Hi=t,this.serializer=o,this.Ji=new pr(rn),this.Yi=new Pa(a=>Vf(a),Mm),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ex(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Tx(n,e,t,r){return new WF(n,e,t,r)}function Px(n,e){return FD.apply(this,arguments)}function FD(){return FD=(0,Me.Z)(function*(n,e){const t=dt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let _=_n();for(const v of o){u.push(v.batchId);for(const M of v.mutations)_=_.add(M.key)}for(const v of a){h.push(v.batchId);for(const M of v.mutations)_=_.add(M.key)}return t.localDocuments.getDocuments(r,_).next(v=>({er:v,removedBatchIds:u,addedBatchIds:h}))})})}),FD.apply(this,arguments)}function Dx(n){const e=dt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Ox(n,e,t){let r=_n(),o=_n();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Ti();return t.forEach((h,_)=>{const v=a.get(h);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(h)),_.isNoDocument()&&_.version.isEqual(kt.min())?(e.removeEntry(h,_.readTime),u=u.insert(h,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||0===_.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(_),u=u.insert(h,_)):ze("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",_.version)}),{nr:u,sr:o}})}function YF(n,e){const t=dt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Fm(n,e){const t=dt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Bs.getTargetData(r,e).next(a=>a?(o=a,le.resolve(o)):t.Bs.allocateTargetId(r).next(u=>(o=new $l(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Lm(n,e,t){return LD.apply(this,arguments)}function LD(){return LD=(0,Me.Z)(function*(n,e,t){const r=dt(n),o=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Cc(u))throw u;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(o.target)}),LD.apply(this,arguments)}function sM(n,e,t){const r=dt(n);let o=kt.min(),a=_n();return r.persistence.runTransaction("Execute query","readonly",u=>function(h,_,v){const M=dt(h),D=M.Yi.get(v);return void 0!==D?le.resolve(M.Ji.get(D)):M.Bs.getTargetData(_,v)}(r,u,Ro(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(u,h.targetId).next(_=>{a=_})}).next(()=>r.Hi.getDocumentsMatchingQuery(u,e,t?o:kt.min(),t?a:_n())).next(h=>(xx(r,aD(e),h),{documents:h,ir:a})))}function Sx(n,e){const t=dt(n),r=dt(t.Bs),o=t.Ji.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",a=>r.le(a,e).next(u=>u?u.target:null))}function Ax(n,e){const t=dt(n),r=t.Xi.get(e)||kt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Zi.getAllFromCollectionGroup(o,e,tv(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(xx(t,e,o),o))}function xx(n,e,t){let r=n.Xi.get(e)||kt.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}function UD(){return UD=(0,Me.Z)(function*(n,e,t,r){const o=dt(n);let a=_n(),u=Ti();for(const v of t){const M=e.rr(v.metadata.name);v.document&&(a=a.add(M));const D=e.ur(v);D.setReadTime(e.cr(v.metadata.readTime)),u=u.insert(M,D)}const h=o.Zi.newChangeBuffer({trackRemovals:!0}),_=yield Fm(o,(v=r,Ro(Vl(Tn.fromString(`__bundle__/docs/${v}`)))));var v;return o.persistence.runTransaction("Apply bundle documents","readwrite",v=>Ox(v,h,u).next(M=>(h.apply(v),M)).next(M=>o.Bs.removeMatchingKeysForTargetId(v,_.targetId).next(()=>o.Bs.addMatchingKeys(v,a,_.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(v,M.nr,M.sr)).next(()=>M.nr)))}),UD.apply(this,arguments)}function JF(n,e){return VD.apply(this,arguments)}function VD(){return VD=(0,Me.Z)(function*(n,e,t=_n()){const r=yield Fm(n,Ro(ED(e.bundledQuery))),o=dt(n);return o.persistence.runTransaction("Save named query","readwrite",a=>{const u=go(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return o.qs.saveNamedQuery(a,e);const h=r.withResumeToken(po.EMPTY_BYTE_STRING,u);return o.Ji=o.Ji.insert(h.targetId,h),o.Bs.updateTargetData(a,h).next(()=>o.Bs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>o.Bs.addMatchingKeys(a,t,r.targetId)).next(()=>o.qs.saveNamedQuery(a,e))})}),VD.apply(this,arguments)}function kx(n,e){return`firestore_clients_${n}_${e}`}function Rx(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function BD(n,e){return`firestore_targets_${n}_${e}`}class aM{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static ar(e,t,r){const o=JSON.parse(r);let a,u="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return u&&o.error&&(u="string"==typeof o.error.message&&"string"==typeof o.error.code,u&&(a=new Ue(o.error.code,o.error.message))),u?new aM(e,t,o.state,a):(Wr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let o,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(o=new Ue(r.error.code,r.error.message))),a?new Rv(e,r.state,o):(Wr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cM{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,a=s();for(let u=0;o&&u<r.activeTargetIds.length;++u)o=WP(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return o?new cM(e,a):(Wr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class HD{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new HD(t.clientId,t.onlineState):(Wr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class $D{constructor(){this.activeTargetIds=s()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jD{constructor(e,t,r,o,a){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new pr(rn),this.started=!1,this.yr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=kx(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new $D),this.Tr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Me.Z)(function*(){const t=yield e.syncEngine.$i();for(const o of t){if(o===e.wr)continue;const a=e.getItem(kx(e.persistenceKey,o));if(a){const u=cM.ar(o,a);u&&(e.gr=e.gr.insert(u.clientId,u))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const o=e.br(r);o&&e.Vr(o)}for(const o of e.yr)e.mr(o);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(BD(this.persistenceKey,e));if(r){const o=Rv.ar(e,r);o&&(t=o.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(BD(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Cr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ze("SharedClientState","READ",e,t),t}setItem(e,t){ze("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ze("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Wr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Me.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const o=t.Or(r.key);return t.Fr(o,null)}{const o=t.Br(r.key,r.newValue);if(o)return t.Fr(o.clientId,o)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const o=t.Lr(r.key,r.newValue);if(o)return t.qr(o)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const o=t.Ur(r.key,r.newValue);if(o)return t.Kr(o)}}else if(r.key===t.vr){if(null!==r.newValue){const o=t.br(r.newValue);if(o)return t.Vr(o)}}else if(r.key===t.Ir){const o=function(a){let u=ji.ct;if(null!=a)try{const h=JSON.parse(a);Pt("number"==typeof h),u=h}catch(h){Wr("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(r.newValue);o!==ji.ct&&t.sequenceNumberHandler(o)}else if(r.key===t.Rr){const o=t.Gr(r.newValue);yield Promise.all(o.map(a=>t.syncEngine.Qr(a)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const o=new aM(this.currentUser,e,t,r),a=Rx(this.persistenceKey,this.currentUser,e);this.setItem(a,o.hr())}Cr(e){const t=Rx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const o=BD(this.persistenceKey,e),a=new Rv(e,t,r);this.setItem(o,a.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return cM.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),o=Number(r[1]);return aM.ar(new ho(void 0!==r[2]?r[2]:null),o,t)}Ur(e,t){const r=this.Ar.exec(e),o=Number(r[1]);return Rv.ar(o,t)}br(e){return HD.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),o=this.Sr(this.gr),a=this.Sr(r),u=[],h=[];return a.forEach(_=>{o.has(_)||u.push(_)}),o.forEach(_=>{a.has(_)||h.push(_)}),this.syncEngine.Wr(u,h).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=s();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class Nx{constructor(){this.Hr=new $D,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new $D,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class XF{Yr(e){}shutdown(){}}class Fx{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lM=null;function zD(){return null===lM?lM=268435456+Math.round(2147483648*Math.random()):lM++,"0x"+lM.toString(16)}const eL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tL{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const fi="WebChannelConnection";class nL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,o,a){const u=zD(),h=this.To(e,t);ze("RestConnection",`Sending RPC '${e}' ${u}:`,h,r);const _={};return this.Eo(_,o,a),this.Ao(e,h,_,r).then(v=>(ze("RestConnection",`Received RPC '${e}' ${u}: `,v),v),v=>{throw Ei("RestConnection",`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",r),v})}vo(e,t,r,o,a,u){return this.Io(e,t,r,o,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}To(e,t){return`${this.mo}/v1/${t}:${eL[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,o){const a=zD();return new Promise((u,h)=>{const _=new BP;_.setWithCredentials(!0),_.listenOnce(Wb.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case cm.NO_ERROR:const M=_.getResponseJson();ze(fi,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(M)),u(M);break;case cm.TIMEOUT:ze(fi,`RPC '${e}' ${a} timed out`),h(new Ue(he.DEADLINE_EXCEEDED,"Request time out"));break;case cm.HTTP_ERROR:const D=_.getStatus();if(ze(fi,`RPC '${e}' ${a} failed with status:`,D,"response text:",_.getResponseText()),D>0){let L=_.getResponseJson();Array.isArray(L)&&(L=L[0]);const B=L?.error;if(B&&B.status&&B.message){const Z=function(oe){const ue=oe.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(ue)>=0?ue:he.UNKNOWN}(B.status);h(new Ue(Z,B.message))}else h(new Ue(he.UNKNOWN,"Server responded with status "+_.getStatus()))}else h(new Ue(he.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{ze(fi,`RPC '${e}' ${a} completed.`)}});const v=JSON.stringify(o);ze(fi,`RPC '${e}' ${a} sending request:`,o),_.send(t,"POST",v,r,15)})}Ro(e,t,r){const o=zD(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=qb(),h=Gb(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.xmlHttpFactory=new VP({})),this.Eo(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const M=a.join("");ze(fi,`Creating RPC '${e}' stream ${o}: ${M}`,_);const D=u.createWebChannel(M,_);let L=!1,B=!1;const Z=new tL({ro:ue=>{B?ze(fi,`Not sending because RPC '${e}' stream ${o} is closed:`,ue):(L||(ze(fi,`Opening RPC '${e}' stream ${o} transport.`),D.open(),L=!0),ze(fi,`RPC '${e}' stream ${o} sending:`,ue),D.send(ue))},oo:()=>D.close()}),oe=(ue,Ve,rt)=>{ue.listen(Ve,tt=>{try{rt(tt)}catch(ot){setTimeout(()=>{throw ot},0)}})};return oe(D,lm.EventType.OPEN,()=>{B||ze(fi,`RPC '${e}' stream ${o} transport opened.`)}),oe(D,lm.EventType.CLOSE,()=>{B||(B=!0,ze(fi,`RPC '${e}' stream ${o} transport closed`),Z.wo())}),oe(D,lm.EventType.ERROR,ue=>{B||(B=!0,Ei(fi,`RPC '${e}' stream ${o} transport errored:`,ue),Z.wo(new Ue(he.UNAVAILABLE,"The operation could not be completed")))}),oe(D,lm.EventType.MESSAGE,ue=>{var Ve;if(!B){const rt=ue.data[0];Pt(!!rt);const ot=rt.error||(null===(Ve=rt[0])||void 0===Ve?void 0:Ve.error);if(ot){ze(fi,`RPC '${e}' stream ${o} received error:`,ot);const Wt=ot.status;let Zt=function(Kr){const pi=wo[Kr];if(void 0!==pi)return SA(pi)}(Wt),Sn=ot.message;void 0===Zt&&(Zt=he.INTERNAL,Sn="Unknown error status: "+Wt+" with message "+ot.message),B=!0,Z.wo(new Ue(Zt,Sn)),D.close()}else ze(fi,`RPC '${e}' stream ${o} received:`,rt),Z._o(rt)}}),oe(h,Zb.STAT_EVENT,ue=>{ue.stat===cE.PROXY?ze(fi,`RPC '${e}' stream ${o} detected buffering proxy`):ue.stat===cE.NOPROXY&&ze(fi,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Z.fo()},0),Z}}function Lx(){return typeof window<"u"?window:null}function uM(){return typeof document<"u"?document:null}function Nv(n){return new dF(n,!0)}class qD{constructor(e,t,r=1e3,o=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=o,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,t-r);o>0&&ze("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Ux{constructor(e,t,r,o,a,u,h,_){this.ii=e,this.$o=r,this.Oo=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new qD(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Me.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Me.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Me.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(Wr(t.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===he.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===t&&this.Zo(r,o)},r=>{e(()=>{const o=new Ue(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var e=this;this.state=5,this.qo.No((0,Me.Z)(function*(){e.state=0,e.start()}))}tu(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rL extends Ux{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function gF(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:nt(),o=e.targetChange.targetIds||[],a=function(_,v){return _.useProto3Json?(Pt(void 0===v||"string"==typeof v),po.fromBase64String(v||"")):(Pt(void 0===v||v instanceof Uint8Array),po.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(_){const v=void 0===_.code?he.UNKNOWN:SA(_.code);return new Ue(v,_.message||"")}(u);t=new NA(r,o,a,h||null)}else if("documentChange"in e){const r=e.documentChange,o=Pc(n,r.document.name),a=go(r.document.updateTime),u=r.document.createTime?go(r.document.createTime):kt.min(),h=new Co({mapValue:{fields:r.document.fields}}),_=gr.newFoundDocument(o,a,u,h);t=new ZE(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,o=Pc(n,r.document),a=r.readTime?go(r.readTime):kt.min(),u=gr.newNoDocument(o,a);t=new ZE([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,o=Pc(n,r.document);t=new ZE([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return nt();{const r=e.filter,{count:o=0,unchangedNames:a}=r,u=new sF(o,a);t=new RA(r.targetId,u)}}var _;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return kt.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?kt.min():a.readTime?go(a.readTime):kt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Iv(this.serializer),t.addTarget=function(o,a){let u;const h=a.target;if(u=mv(h)?{documents:qA(o,h)}:{query:wD(o,h)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=VA(o,a.resumeToken);const _=yD(o,a.expectedCount);null!==_&&(u.expectedCount=_)}else if(a.snapshotVersion.compareTo(kt.min())>0){u.readTime=xm(o,a.snapshotVersion.toTimestamp());const _=yD(o,a.expectedCount);null!==_&&(u.expectedCount=_)}return u}(this.serializer,e);const r=function _F(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Iv(this.serializer),t.removeTarget=e,this.Wo(t)}}class oL extends Ux{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function mF(n,e){return n&&n.length>0?(Pt(void 0!==e),n.map(t=>function(r,o){let a=go(r.updateTime?r.updateTime:o);return a.isEqual(kt.min())&&(a=go(o)),new He(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=go(e.commitTime);return this.listener.cu(r,t)}return Pt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Iv(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Tv(this.serializer,r))};this.Wo(t)}}class iL extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new Ue(he.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Io(e,t,r,o,a)).catch(o=>{throw"FirebaseError"===o.name?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ue(he.UNKNOWN,o.toString())})}vo(e,t,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.vo(e,t,r,a,u,o)).catch(a=>{throw"FirebaseError"===a.name?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ue(he.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class aL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Wr(t),this.mu=!1):ze("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class cL{constructor(e,t,r,o,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(h=>{r.enqueueAndForget((0,Me.Z)(function*(){var _;zf(u)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Me.Z)(function*(v){const M=dt(v);M.vu.add(4),yield Um(M),M.bu.set("Unknown"),M.vu.delete(4),yield Fv(M)}),function(v){return _.apply(this,arguments)})(u))}))}),this.bu=new aL(r,o)}}function Fv(n){return WD.apply(this,arguments)}function WD(){return WD=(0,Me.Z)(function*(n){if(zf(n))for(const e of n.Ru)yield e(!0)}),WD.apply(this,arguments)}function Um(n){return ZD.apply(this,arguments)}function ZD(){return ZD=(0,Me.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),ZD.apply(this,arguments)}function fM(n,e){const t=dt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),QD(t)?YD(t):Bm(t).Ko()&&KD(t,e))}function Lv(n,e){const t=dt(n),r=Bm(t);t.Au.delete(e),r.Ko()&&Vx(t,e),0===t.Au.size&&(r.Ko()?r.jo():zf(t)&&t.bu.set("Unknown"))}function KD(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(kt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bm(n).su(e)}function Vx(n,e){n.Vu.qt(e),Bm(n).iu(e)}function YD(n){n.Vu=new cF({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Bm(n).start(),n.bu.gu()}function QD(n){return zf(n)&&!Bm(n).Uo()&&n.Au.size>0}function zf(n){return 0===dt(n).vu.size}function Bx(n){n.Vu=void 0}function lL(n){return JD.apply(this,arguments)}function JD(){return JD=(0,Me.Z)(function*(n){n.Au.forEach((e,t)=>{KD(n,e)})}),JD.apply(this,arguments)}function uL(n,e){return XD.apply(this,arguments)}function XD(){return XD=(0,Me.Z)(function*(n,e){Bx(n),QD(n)?(n.bu.Iu(e),YD(n)):n.bu.set("Unknown")}),XD.apply(this,arguments)}function fL(n,e,t){return eO.apply(this,arguments)}function eO(){return eO=(0,Me.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof NA&&2===e.state&&e.cause)try{yield(r=(0,Me.Z)(function*(o,a){const u=a.cause;for(const h of a.targetIds)o.Au.has(h)&&(yield o.remoteSyncer.rejectListen(h,u),o.Au.delete(h),o.Vu.removeTarget(h))}),function(o,a){return r.apply(this,arguments)})(n,e)}catch(r){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield dM(n,r)}else if(e instanceof ZE?n.Vu.Ht(e):e instanceof RA?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(kt.min()))try{const r=yield Dx(n.localStore);t.compareTo(r)>=0&&(yield function(o,a){const u=o.Vu.ce(a);return u.targetChanges.forEach((h,_)=>{if(h.resumeToken.approximateByteSize()>0){const v=o.Au.get(_);v&&o.Au.set(_,v.withResumeToken(h.resumeToken,a))}}),u.targetMismatches.forEach((h,_)=>{const v=o.Au.get(h);if(!v)return;o.Au.set(h,v.withResumeToken(po.EMPTY_BYTE_STRING,v.snapshotVersion)),Vx(o,h);const M=new $l(v.target,h,_,v.sequenceNumber);KD(o,M)}),o.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){ze("RemoteStore","Failed to raise snapshot:",r),yield dM(n,r)}var r}),eO.apply(this,arguments)}function dM(n,e,t){return tO.apply(this,arguments)}function tO(){return tO=(0,Me.Z)(function*(n,e,t){if(!Cc(e))throw e;n.vu.add(1),yield Um(n),n.bu.set("Offline"),t||(t=()=>Dx(n.localStore)),n.asyncQueue.enqueueRetryable((0,Me.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Fv(n)}))}),tO.apply(this,arguments)}function Hx(n,e){return e().catch(t=>dM(n,t,e))}function Vm(n){return nO.apply(this,arguments)}function nO(){return nO=(0,Me.Z)(function*(n){const e=dt(n),t=qf(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;dL(e);)try{const o=yield YF(e.localStore,r);if(null===o){0===e.Eu.length&&t.jo();break}r=o.batchId,hL(e,o)}catch(o){yield dM(e,o)}$x(e)&&jx(e)}),nO.apply(this,arguments)}function dL(n){return zf(n)&&n.Eu.length<10}function hL(n,e){n.Eu.push(e);const t=qf(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function $x(n){return zf(n)&&!qf(n).Uo()&&n.Eu.length>0}function jx(n){qf(n).start()}function pL(n){return rO.apply(this,arguments)}function rO(){return rO=(0,Me.Z)(function*(n){qf(n).hu()}),rO.apply(this,arguments)}function gL(n){return oO.apply(this,arguments)}function oO(){return oO=(0,Me.Z)(function*(n){const e=qf(n);for(const t of n.Eu)e.uu(t.mutations)}),oO.apply(this,arguments)}function mL(n,e,t){return iO.apply(this,arguments)}function iO(){return iO=(0,Me.Z)(function*(n,e,t){const r=n.Eu.shift(),o=pD.from(r,e,t);yield Hx(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Vm(n)}),iO.apply(this,arguments)}function _L(n,e){return sO.apply(this,arguments)}function sO(){return sO=(0,Me.Z)(function*(n,e){var t;e&&qf(n).ou&&(yield(t=(0,Me.Z)(function*(r,o){if(OA(a=o.code)&&a!==he.ABORTED){const u=r.Eu.shift();qf(r).Qo(),yield Hx(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),yield Vm(r)}var a}),function(r,o){return t.apply(this,arguments)})(n,e)),$x(n)&&jx(n)}),sO.apply(this,arguments)}function zx(n,e){return aO.apply(this,arguments)}function aO(){return aO=(0,Me.Z)(function*(n,e){const t=dt(n);t.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const r=zf(t);t.vu.add(3),yield Um(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Fv(t)}),aO.apply(this,arguments)}function cO(n,e){return lO.apply(this,arguments)}function lO(){return lO=(0,Me.Z)(function*(n,e){const t=dt(n);e?(t.vu.delete(2),yield Fv(t)):e||(t.vu.add(2),yield Um(t),t.bu.set("Unknown"))}),lO.apply(this,arguments)}function Bm(n){return n.Su||(n.Su=function(e,t,r){const o=dt(e);return o.fu(),new rL(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:lL.bind(null,n),ao:uL.bind(null,n),nu:fL.bind(null,n)}),n.Ru.push(function(){var e=(0,Me.Z)(function*(t){t?(n.Su.Qo(),QD(n)?YD(n):n.bu.set("Unknown")):(yield n.Su.stop(),Bx(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function qf(n){return n.Du||(n.Du=function(e,t,r){const o=dt(e);return o.fu(),new oL(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:pL.bind(null,n),ao:_L.bind(null,n),au:gL.bind(null,n),cu:mL.bind(null,n)}),n.Ru.push(function(){var e=(0,Me.Z)(function*(t){t?(n.Du.Qo(),yield Vm(n)):(yield n.Du.stop(),n.Eu.length>0&&(ze("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class uO{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new so,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,h=new uO(e,t,u,o,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ue(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(n,e){if(Wr("AsyncQueue",`${e}: ${n}`),Cc(n))return new Ue(he.UNAVAILABLE,`${e}: ${n}`);throw n}class $m{constructor(e){this.comparator=e?(t,r)=>e(t,r)||at.comparator(t.key,r.key):(t,r)=>at.comparator(t.key,r.key),this.keyedMap=Dm(),this.sortedSet=new pr(this.comparator)}static emptySet(e){return new $m(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $m)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new $m;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class qx{constructor(){this.Cu=new pr(at.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):nt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class jm{constructor(e,t,r,o,a,u,h,_,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new jm(e,t,$m.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class yL{constructor(){this.Nu=void 0,this.listeners=[]}}class bL{constructor(){this.queries=new Pa(e=>zE(e),Bl),this.onlineState="Unknown",this.ku=new Set}}function fO(n,e){return dO.apply(this,arguments)}function dO(){return dO=(0,Me.Z)(function*(n,e){const t=dt(n),r=e.query;let o=!1,a=t.queries.get(r);if(a||(o=!0,a=new yL),o)try{a.Nu=yield t.onListen(r)}catch(u){const h=Hm(u,`Initialization of query '${bv(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&gO(t)}),dO.apply(this,arguments)}function hO(n,e){return pO.apply(this,arguments)}function pO(){return pO=(0,Me.Z)(function*(n,e){const t=dt(n),r=e.query;let o=!1;const a=t.queries.get(r);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),o=0===a.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),pO.apply(this,arguments)}function vL(n,e){const t=dt(n);let r=!1;for(const o of e){const u=t.queries.get(o.query);if(u){for(const h of u.listeners)h.$u(o)&&(r=!0);u.Nu=o}}r&&gO(t)}function CL(n,e,t){const r=dt(n),o=r.queries.get(e);if(o)for(const a of o.listeners)a.onError(t);r.queries.delete(e)}function gO(n){n.ku.forEach(e=>{e.next()})}class mO{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new jm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=jm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class wL{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Gx{constructor(e){this.serializer=e}rr(e){return Pc(this.serializer,e)}ur(e){return e.metadata.exists?zA(this.serializer,e.document,!1):gr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return go(e)}}class EL{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Wx(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=Tn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new Gx(this.serializer);for(const o of e)if(o.metadata.queries){const a=r.rr(o.metadata.name);for(const u of o.metadata.queries){const h=(t.get(u)||_n()).add(a);t.set(u,h)}}return t}complete(){var e=this;return(0,Me.Z)(function*(){const t=yield function QF(n,e,t,r){return UD.apply(this,arguments)}(e.localStore,new Gx(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const o of e.queries)yield JF(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Wx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Zx{constructor(e){this.key=e}}class Kx{constructor(e){this.key=e}}class Yx{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=_n(),this.mutatedKeys=_n(),this.tc=qE(e),this.ec=new $m(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new qx,o=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const _="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,v="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((M,D)=>{const L=o.get(M),B=Pm(this.query,D)?D:null,Z=!!L&&this.mutatedKeys.has(L.key),oe=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let ue=!1;L&&B?L.data.isEqual(B.data)?Z!==oe&&(r.track({type:3,doc:B}),ue=!0):this.rc(L,B)||(r.track({type:2,doc:B}),ue=!0,(_&&this.tc(B,_)>0||v&&this.tc(B,v)<0)&&(h=!0)):!L&&B?(r.track({type:0,doc:B}),ue=!0):L&&!B&&(r.track({type:1,doc:L}),ue=!0,(_||v)&&(h=!0)),ue&&(B?(u=u.add(B),a=oe?a.add(M):a.delete(M)):(u=u.delete(M),a=a.delete(M)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const M="F"===this.query.limitType?u.last():u.first();u=u.delete(M.key),a=a.delete(M.key),r.track({type:1,doc:M})}return{ec:u,ic:r,zi:h,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((v,M)=>function(D,L){const B=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return B(D)-B(L)}(v.type,M.type)||this.tc(v.doc,M.doc)),this.oc(r);const u=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,_=h!==this.Xu;return this.Xu=h,0!==a.length||_?{snapshot:new jm(this.query,e.ec,o,a,e.mutatedKeys,0===h,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new qx,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=_n(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new Kx(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new Zx(r))}),t}hc(e){this.Yu=e.ir,this.Zu=_n();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return jm.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class ML{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class IL{constructor(e){this.key=e,this.fc=!1}}class TL{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new Pa(h=>zE(h),Bl),this._c=new Map,this.mc=new Set,this.gc=new pr(at.comparator),this.yc=new Map,this.Ic=new SD,this.Tc={},this.Ec=new Map,this.Ac=Zh.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function PL(n,e){return _O.apply(this,arguments)}function _O(){return _O=(0,Me.Z)(function*(n,e){const t=BO(n);let r,o;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),o=a.view.lc();else{const u=yield Fm(t.localStore,Ro(e)),h=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,o=yield yO(t,e,r,"current"===h,u.resumeToken),t.isPrimaryClient&&fM(t.remoteStore,u)}return o}),_O.apply(this,arguments)}function yO(n,e,t,r,o){return bO.apply(this,arguments)}function bO(){return bO=(0,Me.Z)(function*(n,e,t,r,o){n.Rc=(D,L,B)=>{return(Z=(0,Me.Z)(function*(oe,ue,Ve,rt){let tt=ue.view.sc(Ve);tt.zi&&(tt=yield sM(oe.localStore,ue.query,!1).then(({documents:Zt})=>ue.view.sc(Zt,tt)));const ot=rt&&rt.targetChanges.get(ue.targetId),Wt=ue.view.applyChanges(tt,oe.isPrimaryClient,ot);return OO(oe,ue.targetId,Wt.cc),Wt.snapshot}),function(oe,ue,Ve,rt){return Z.apply(this,arguments)})(n,D,L,B);var Z};const a=yield sM(n.localStore,e,!0),u=new Yx(e,a.ir),h=u.sc(a.documents),_=Ev.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),v=u.applyChanges(h,n.isPrimaryClient,_);OO(n,t,v.cc);const M=new ML(e,t,u);return n.wc.set(e,M),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),v.snapshot}),bO.apply(this,arguments)}function DL(n,e){return vO.apply(this,arguments)}function vO(){return vO=(0,Me.Z)(function*(n,e){const t=dt(n),r=t.wc.get(e),o=t._c.get(r.targetId);if(o.length>1)return t._c.set(r.targetId,o.filter(a=>!Bl(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Lm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Lv(t.remoteStore,r.targetId),zm(t,r.targetId)}).catch(vc))):(zm(t,r.targetId),yield Lm(t.localStore,r.targetId,!0))}),vO.apply(this,arguments)}function CO(){return CO=(0,Me.Z)(function*(n,e,t){const r=HO(n);try{const o=yield function(a,u){const h=dt(a),_=Dr.now(),v=u.reduce((L,B)=>L.add(B.key),_n());let M,D;return h.persistence.runTransaction("Locally write mutations","readwrite",L=>{let B=Ti(),Z=_n();return h.Zi.getEntries(L,v).next(oe=>{B=oe,B.forEach((ue,Ve)=>{Ve.isValidDocument()||(Z=Z.add(ue))})}).next(()=>h.localDocuments.getOverlayedDocuments(L,B)).next(oe=>{M=oe;const ue=[];for(const Ve of u){const rt=oF(Ve,M.get(Ve.key).overlayedDocument);null!=rt&&ue.push(new Hl(Ve.key,rt,SE(rt.value.mapValue),wt.exists(!0)))}return h.mutationQueue.addMutationBatch(L,_,ue,u)}).next(oe=>{D=oe;const ue=oe.applyToLocalDocumentSet(M,Z);return h.documentOverlayCache.saveOverlays(L,oe.batchId,ue)})}).then(()=>({batchId:D.batchId,changes:GE(M)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(a,u,h){let _=a.Tc[a.currentUser.toKey()];_||(_=new pr(rn)),_=_.insert(u,h),a.Tc[a.currentUser.toKey()]=_}(r,o.batchId,t),yield jl(r,o.changes),yield Vm(r.remoteStore)}catch(o){const a=Hm(o,"Failed to persist write");t.reject(a)}}),CO.apply(this,arguments)}function Qx(n,e){return wO.apply(this,arguments)}function wO(){return wO=(0,Me.Z)(function*(n,e){const t=dt(n);try{const r=yield function KF(n,e){const t=dt(n),r=e.snapshotVersion;let o=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Zi.newChangeBuffer({trackRemovals:!0});o=t.Ji;const h=[];e.targetChanges.forEach((M,D)=>{const L=o.get(D);if(!L)return;h.push(t.Bs.removeMatchingKeys(a,M.removedDocuments,D).next(()=>t.Bs.addMatchingKeys(a,M.addedDocuments,D)));let B=L.withSequenceNumber(a.currentSequenceNumber);var Z,oe,ue;null!==e.targetMismatches.get(D)?B=B.withResumeToken(po.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):M.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(M.resumeToken,r)),o=o.insert(D,B),oe=B,ue=M,(0===(Z=L).resumeToken.approximateByteSize()||oe.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8||ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(a,B))});let _=Ti(),v=_n();if(e.documentUpdates.forEach(M=>{e.resolvedLimboDocuments.has(M)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,M))}),h.push(Ox(a,u,e.documentUpdates).next(M=>{_=M.nr,v=M.sr})),!r.isEqual(kt.min())){const M=t.Bs.getLastRemoteSnapshotVersion(a).next(D=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(M)}return le.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,v)).next(()=>_)}).then(a=>(t.Ji=o,a))}(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.yc.get(a);u&&(Pt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.fc=!0:o.modifiedDocuments.size>0?Pt(u.fc):o.removedDocuments.size>0&&(Pt(u.fc),u.fc=!1))}),yield jl(t,r,e)}catch(r){yield vc(r)}}),wO.apply(this,arguments)}function Jx(n,e,t){const r=dt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.wc.forEach((a,u)=>{const h=u.view.Mu(e);h.snapshot&&o.push(h.snapshot)}),function(a,u){const h=dt(a);h.onlineState=u;let _=!1;h.queries.forEach((v,M)=>{for(const D of M.listeners)D.Mu(u)&&(_=!0)}),_&&gO(h)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function SL(n,e,t){return EO.apply(this,arguments)}function EO(){return EO=(0,Me.Z)(function*(n,e,t){const r=dt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.yc.get(e),a=o&&o.key;if(a){let u=new pr(at.comparator);u=u.insert(a,gr.newNoDocument(a,kt.min()));const h=_n().add(a),_=new wv(kt.min(),new Map,new pr(rn),u,h);yield Qx(r,_),r.gc=r.gc.remove(a),r.yc.delete(e),SO(r)}else yield Lm(r.localStore,e,!1).then(()=>zm(r,e,t)).catch(vc)}),EO.apply(this,arguments)}function AL(n,e){return MO.apply(this,arguments)}function MO(){return MO=(0,Me.Z)(function*(n,e){const t=dt(n),r=e.batch.batchId;try{const o=yield function ZF(n,e){const t=dt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(u,h,_,v){const M=_.batch,D=M.keys();let L=le.resolve();return D.forEach(B=>{L=L.next(()=>v.getEntry(h,B)).next(Z=>{const oe=_.docVersions.get(B);Pt(null!==oe),Z.version.compareTo(oe)<0&&(M.applyToRemoteDocument(Z,_),Z.isValidDocument()&&(Z.setReadTime(_.commitVersion),v.addEntry(Z)))})}),L.next(()=>u.mutationQueue.removeMutationBatch(h,M))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=_n();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(h=h.add(u.batch.mutations[_].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}(t.localStore,e);DO(t,r,null),PO(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield jl(t,o)}catch(o){yield vc(o)}}),MO.apply(this,arguments)}function xL(n,e,t){return IO.apply(this,arguments)}function IO(){return IO=(0,Me.Z)(function*(n,e,t){const r=dt(n);try{const o=yield function(a,u){const h=dt(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let v;return h.mutationQueue.lookupMutationBatch(_,u).next(M=>(Pt(null!==M),v=M.keys(),h.mutationQueue.removeMutationBatch(_,M))).next(()=>h.mutationQueue.performConsistencyCheck(_)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(_,v,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,v)).next(()=>h.localDocuments.getDocuments(_,v))})}(r.localStore,e);DO(r,e,t),PO(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield jl(r,o)}catch(o){yield vc(o)}}),IO.apply(this,arguments)}function TO(){return TO=(0,Me.Z)(function*(n,e){const t=dt(n);zf(t.remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const u=dt(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Ec.get(r)||[];o.push(e),t.Ec.set(r,o)}catch(r){const o=Hm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),TO.apply(this,arguments)}function PO(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function DO(n,e,t){const r=dt(n);let o=r.Tc[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Tc[r.currentUser.toKey()]=o}}function zm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||Xx(n,r)})}function Xx(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Lv(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),SO(n))}function OO(n,e,t){for(const r of t)r instanceof Zx?(n.Ic.addReference(r.key,e),RL(n,r)):r instanceof Kx?(ze("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||Xx(n,r.key)):nt()}function RL(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(ze("SyncEngine","New document in limbo: "+t),n.mc.add(r),SO(n))}function SO(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new at(Tn.fromString(e)),r=n.Ac.next();n.yc.set(r,new IL(t)),n.gc=n.gc.insert(t,r),fM(n.remoteStore,new $l(Ro(Vl(t.path)),r,"TargetPurposeLimboResolution",ji.ct))}}function jl(n,e,t){return AO.apply(this,arguments)}function AO(){return AO=(0,Me.Z)(function*(n,e,t){const r=dt(n),o=[],a=[],u=[];var h;r.wc.isEmpty()||(r.wc.forEach((h,_)=>{u.push(r.Rc(_,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,v?.fromCache?"not-current":"current"),v){o.push(v);const M=ND.Li(_.targetId,v);a.push(M)}}))}),yield Promise.all(u),r.dc.nu(o),yield(h=(0,Me.Z)(function*(_,v){const M=dt(_);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>le.forEach(v,L=>le.forEach(L.Fi,B=>M.persistence.referenceDelegate.addReference(D,L.targetId,B)).next(()=>le.forEach(L.Bi,B=>M.persistence.referenceDelegate.removeReference(D,L.targetId,B)))))}catch(D){if(!Cc(D))throw D;ze("LocalStore","Failed to update sequence numbers: "+D)}for(const D of v){const L=D.targetId;if(!D.fromCache){const B=M.Ji.get(L),oe=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);M.Ji=M.Ji.insert(L,oe)}}}),function(_,v){return h.apply(this,arguments)})(r.localStore,a))}),AO.apply(this,arguments)}function NL(n,e){return xO.apply(this,arguments)}function xO(){return xO=(0,Me.Z)(function*(n,e){const t=dt(n);if(!t.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const r=yield Px(t.localStore,e);t.currentUser=e,(o=t).Ec.forEach(u=>{u.forEach(h=>{h.reject(new Ue(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield jl(t,r.er)}var o}),xO.apply(this,arguments)}function FL(n,e){const t=dt(n),r=t.yc.get(e);if(r&&r.fc)return _n().add(r.key);{let o=_n();const a=t._c.get(e);if(!a)return o;for(const u of a){const h=t.wc.get(u);o=o.unionWith(h.view.nc)}return o}}function LL(n,e){return kO.apply(this,arguments)}function kO(){return kO=(0,Me.Z)(function*(n,e){const t=dt(n),r=yield sM(t.localStore,e.query,!0),o=e.view.hc(r);return t.isPrimaryClient&&OO(t,e.targetId,o.cc),o}),kO.apply(this,arguments)}function UL(n,e){return RO.apply(this,arguments)}function RO(){return RO=(0,Me.Z)(function*(n,e){const t=dt(n);return Ax(t.localStore,e).then(r=>jl(t,r))}),RO.apply(this,arguments)}function VL(n,e,t,r){return NO.apply(this,arguments)}function NO(){return NO=(0,Me.Z)(function*(n,e,t,r){const o=dt(n),a=yield function(u,h){const _=dt(u),v=dt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",M=>v.Sn(M,h).next(D=>D?_.localDocuments.getDocuments(M,D):le.resolve(null)))}(o.localStore,e);var h;null!==a?("pending"===t?yield Vm(o.remoteStore):"acknowledged"===t||"rejected"===t?(DO(o,e,r||null),PO(o,e),h=e,dt(dt(o.localStore).mutationQueue).Cn(h)):nt(),yield jl(o,a)):ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),NO.apply(this,arguments)}function FO(){return FO=(0,Me.Z)(function*(n,e){const t=dt(n);if(BO(t),HO(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield ek(t,r.toArray());t.vc=!0,yield cO(t.remoteStore,!0);for(const a of o)fM(t.remoteStore,a)}else if(!1===e&&!1!==t.vc){const r=[];let o=Promise.resolve();t._c.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):o=o.then(()=>(zm(t,u),Lm(t.localStore,u,!0))),Lv(t.remoteStore,u)}),yield o,yield ek(t,r),function(a){const u=dt(a);u.yc.forEach((h,_)=>{Lv(u.remoteStore,_)}),u.Ic.Ts(),u.yc=new Map,u.gc=new pr(at.comparator)}(t),t.vc=!1,yield cO(t.remoteStore,!1)}}),FO.apply(this,arguments)}function ek(n,e,t){return LO.apply(this,arguments)}function LO(){return LO=(0,Me.Z)(function*(n,e,t){const r=dt(n),o=[],a=[];for(const u of e){let h;const _=r._c.get(u);if(_&&0!==_.length){h=yield Fm(r.localStore,Ro(_[0]));for(const v of _){const M=r.wc.get(v),D=yield LL(r,M);D.snapshot&&a.push(D.snapshot)}}else{const v=yield Sx(r.localStore,u);h=yield Fm(r.localStore,v),yield yO(r,tk(v),u,!1,h.resumeToken)}o.push(h)}return r.dc.nu(a),o}),LO.apply(this,arguments)}function tk(n){return $E(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function HL(n){const e=dt(n);return dt(dt(e.localStore).persistence).$i()}function $L(n,e,t,r){return UO.apply(this,arguments)}function UO(){return UO=(0,Me.Z)(function*(n,e,t,r){const o=dt(n);if(o.vc)return void ze("SyncEngine","Ignoring unexpected query state notification.");const a=o._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield Ax(o.localStore,aD(a[0])),h=wv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,po.EMPTY_BYTE_STRING);yield jl(o,u,h);break}case"rejected":yield Lm(o.localStore,e,!0),zm(o,e,r);break;default:nt()}}),UO.apply(this,arguments)}function jL(n,e,t){return VO.apply(this,arguments)}function VO(){return VO=(0,Me.Z)(function*(n,e,t){const r=BO(n);if(r.vc){for(const o of e){if(r._c.has(o)){ze("SyncEngine","Adding an already active target "+o);continue}const a=yield Sx(r.localStore,o),u=yield Fm(r.localStore,a);yield yO(r,tk(a),u.targetId,!1,u.resumeToken),fM(r.remoteStore,u)}for(const o of t)r._c.has(o)&&(yield Lm(r.localStore,o,!1).then(()=>{Lv(r.remoteStore,o),zm(r,o)}).catch(vc))}}),VO.apply(this,arguments)}function BO(n){const e=dt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SL.bind(null,e),e.dc.nu=vL.bind(null,e.eventManager),e.dc.Pc=CL.bind(null,e.eventManager),e}function HO(n){const e=dt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xL.bind(null,e),e}class Uv{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Me.Z)(function*(){t.serializer=Nv(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Tx(this.persistence,new Ix,e.initialUser,this.serializer)}createPersistence(e){return new AD(rM.zs,this.serializer)}createSharedClientState(e){return new Nx}terminate(){var e=this;return(0,Me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class $O extends Uv{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Me.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield HO(r.Vc.syncEngine),yield Vm(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Tx(this.persistence,new Ix,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new mx(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new gA(t,this.persistence);return new pA(e.asyncQueue,r)}createPersistence(e){const t=RD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ui.withCacheSize(this.cacheSizeBytes):ui.DEFAULT;return new kD(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Lx(),uM(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Nx}}class nk extends $O{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Me.Z)(function*(){yield t().call(r,e);const o=r.Vc.syncEngine;r.sharedClientState instanceof jD&&(r.sharedClientState.syncEngine={jr:VL.bind(null,o),zr:$L.bind(null,o),Wr:jL.bind(null,o),$i:HL.bind(null,o),Qr:UL.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var a=(0,Me.Z)(function*(u){yield function BL(n,e){return FO.apply(this,arguments)}(r.Vc.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Lx();if(!jD.D(t))throw new Ue(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=RD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jD(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class qm{initialize(e,t){var r=this;return(0,Me.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>Jx(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=NL.bind(null,r.syncEngine),yield cO(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new bL}createDatastore(e){const t=Nv(e.databaseInfo.databaseId),r=new nL(e.databaseInfo);return new iL(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,a=h=>Jx(this.syncEngine,h,0),u=Fx.D()?new Fx:new XF,new cL(t,r,o,a,u);var t,r,o,a,u}createSyncEngine(e,t){return function(r,o,a,u,h,_,v){const M=new TL(r,o,a,u,h,_);return v&&(M.vc=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Me.Z)(function*(t){const r=dt(t);ze("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Um(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function rk(n,e=10240){let t=0;return{read:()=>(0,Me.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Me.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class hM{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class GL{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new so,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Me.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Me.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Me.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),o=Number(r);isNaN(o)&&e.Mc(`length string (${r}) is not valid number`);const a=yield e.$c(o);return new wL(JSON.parse(a),t.length+o)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Me.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,Me.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Me.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class WL{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ue(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Me.Z)(function*(a,u){const h=dt(a),_=Iv(h.serializer)+"/documents",v={documents:u.map(B=>Mv(h.serializer,B))},M=yield h.vo("BatchGetDocuments",_,v,u.length),D=new Map;M.forEach(B=>{const Z=function pF(n,e){return"found"in e?function(t,r){Pt(!!r.found);const o=Pc(t,r.found.name),a=go(r.found.updateTime),u=r.found.createTime?go(r.found.createTime):kt.min(),h=new Co({mapValue:{fields:r.found.fields}});return gr.newFoundDocument(o,a,u,h)}(n,e):"missing"in e?function(t,r){Pt(!!r.missing),Pt(!!r.readTime);const o=Pc(t,r.missing),a=go(r.readTime);return gr.newNoDocument(o,a)}(n,e):nt()}(h.serializer,B);D.set(Z.key.toString(),Z)});const L=[];return u.forEach(B=>{const Z=D.get(B.toString());Pt(!!Z),L.push(Z)}),L}),function(a,u){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Am(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const a=at.fromPath(o);e.mutations.push(new dD(a,e.precondition(a)))}),yield(r=(0,Me.Z)(function*(o,a){const u=dt(o),h=Iv(u.serializer)+"/documents",_={writes:a.map(v=>Tv(u.serializer,v))};yield u.Io("Commit",h,_)}),function(o,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw nt();t=kt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ue(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(kt.min())?wt.exists(!1):wt.updateTime(t):wt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(kt.min()))throw new Ue(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wt.updateTime(t)}return wt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ZL{constructor(e,t,r,o,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new qD(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Me.Z)(function*(){const t=new WL(e.datastore),r=e.qc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(a=>{e.Uc(a)}))}).catch(o=>{e.Uc(o)})}))}qc(e){try{const t=this.updateFunction(e);return!gm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!OA(t)}return!1}}class KL{constructor(e,t,r,o){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=ho.UNAUTHENTICATED,this.clientId=ev.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,Me.Z)(function*(h){ze("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(ze("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,Me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new so;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Hm(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function pM(n,e){return jO.apply(this,arguments)}function jO(){return jO=(0,Me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Me.Z)(function*(a){r.isEqual(a)||(yield Px(e.localStore,a),r=a)});return function(a){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),jO.apply(this,arguments)}function zO(n,e){return qO.apply(this,arguments)}function qO(){return qO=(0,Me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield GO(n);ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>zx(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,a)=>zx(e.remoteStore,a)),n._onlineComponents=e}),qO.apply(this,arguments)}function ok(n){return"FirebaseError"===n.name?n.code===he.FAILED_PRECONDITION||n.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function GO(n){return WO.apply(this,arguments)}function WO(){return WO=(0,Me.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ze("FirestoreClient","Using user provided OfflineComponentProvider");try{yield pM(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!ok(t))throw t;Ei("Error using user provided cache. Falling back to memory cache: "+t),yield pM(n,new Uv)}}else ze("FirestoreClient","Using default OfflineComponentProvider"),yield pM(n,new Uv);return n._offlineComponents}),WO.apply(this,arguments)}function gM(n){return ZO.apply(this,arguments)}function ZO(){return ZO=(0,Me.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ze("FirestoreClient","Using user provided OnlineComponentProvider"),yield zO(n,n._uninitializedComponentsProvider._online)):(ze("FirestoreClient","Using default OnlineComponentProvider"),yield zO(n,new qm))),n._onlineComponents}),ZO.apply(this,arguments)}function ik(n){return GO(n).then(e=>e.persistence)}function mM(n){return GO(n).then(e=>e.localStore)}function sk(n){return gM(n).then(e=>e.remoteStore)}function KO(n){return gM(n).then(e=>e.syncEngine)}function Gm(n){return YO.apply(this,arguments)}function YO(){return YO=(0,Me.Z)(function*(n){const e=yield gM(n),t=e.eventManager;return t.onListen=PL.bind(null,e.syncEngine),t.onUnlisten=DL.bind(null,e.syncEngine),t}),YO.apply(this,arguments)}function ck(n,e,t={}){const r=new so;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(o,a,u,h,_){const v=new hM({next:D=>{a.enqueueAndForget(()=>hO(o,M));const L=D.docs.has(u);!L&&D.fromCache?_.reject(new Ue(he.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&D.fromCache&&h&&"server"===h.source?_.reject(new Ue(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),M=new mO(Vl(u.path),v,{includeMetadataChanges:!0,Ku:!0});return fO(o,M)}(yield Gm(n),n.asyncQueue,e,t,r)})),r.promise}function lk(n,e,t={}){const r=new so;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(o,a,u,h,_){const v=new hM({next:D=>{a.enqueueAndForget(()=>hO(o,M)),D.fromCache&&"server"===h.source?_.reject(new Ue(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),M=new mO(u,v,{includeMetadataChanges:!0,Ku:!0});return fO(o,M)}(yield Gm(n),n.asyncQueue,e,t,r)})),r.promise}function uk(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const fk=new Map;function QO(n,e,t){if(!t)throw new Ue(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function dk(n,e,t,r){if(!0===e&&!0===r)throw new Ue(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function hk(n){if(!at.isDocumentKey(n))throw new Ue(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pk(n){if(at.isDocumentKey(n))throw new Ue(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _M(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":nt()}function On(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ue(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_M(n);throw new Ue(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function gk(n,e){if(e<=0)throw new Ue(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class mk{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ue(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ue(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=uk(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Ue(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ue(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ue(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vv{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mk({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ue(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ue(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mk(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Dh;switch(t.type){case"firstParty":return new fE(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ue(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=fk.get(e);t&&(ze("ComponentProvider","Removing Datastore"),fk.delete(e),t.terminate())}(this),Promise.resolve()}}function _k(n,e,t,r={}){var o;const a=(n=On(n,Vv))._getSettings(),u=`${e}:${t}`;if("firestore.googleapis.com"!==a.host&&a.host!==u&&Ei("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let h,_;if("string"==typeof r.mockUserToken)h=r.mockUserToken,_=ho.MOCK_USER;else{h=(0,$t.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ue(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new ho(v)}n._authCredentials=new $P(new um(h,_))}}class Or{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Or(this.firestore,e,this._key)}}class Xo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xo(this.firestore,e,this._query)}}class Dc extends Xo{constructor(e,t,r){super(e,t,Vl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Or(this.firestore,null,new at(e))}withConverter(e){return new Dc(this.firestore,e,this._path)}}function yk(n,e,...t){if(n=(0,$t.m9)(n),QO("collection","path",e),n instanceof Vv){const r=Tn.fromString(e,...t);return pk(r),new Dc(n,null,r)}{if(!(n instanceof Or||n instanceof Dc))throw new Ue(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tn.fromString(e,...t));return pk(r),new Dc(n.firestore,null,r)}}function yM(n,e,...t){if(n=(0,$t.m9)(n),1===arguments.length&&(e=ev.A()),QO("doc","path",e),n instanceof Vv){const r=Tn.fromString(e,...t);return hk(r),new Or(n,null,new at(r))}{if(!(n instanceof Or||n instanceof Dc))throw new Ue(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tn.fromString(e,...t));return hk(r),new Or(n.firestore,n instanceof Dc?n.converter:null,new at(r))}}function bk(n,e){return n=(0,$t.m9)(n),e=(0,$t.m9)(e),(n instanceof Or||n instanceof Dc)&&(e instanceof Or||e instanceof Dc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function JO(n,e){return n=(0,$t.m9)(n),e=(0,$t.m9)(e),n instanceof Xo&&e instanceof Xo&&n.firestore===e.firestore&&Bl(n._query,e._query)&&n.converter===e.converter}class iU{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new qD(this,"async_queue_retry"),this.Xc=()=>{const t=uM();t&&ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=uM();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=uM();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new so;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Me.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Cc(t))throw t;ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Wr("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const o=uO.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(o),o}Zc(){this.Wc&&nt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Me.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function XO(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class sU{constructor(){this._progressObserver={},this._taskCompletionResolver=new so,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Sr extends Vv{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new iU,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||vk(this),this._firestoreClient.terminate()}}function cU(n,e){const t="object"==typeof n?n:(0,ci.getApp)(),r="string"==typeof n?n:e||"(default)",o=(0,ci._getProvider)(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=(0,$t.P0)("firestore");a&&_k(o,...a)}return o}function mo(n){return n._firestoreClient||vk(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function vk(n){var e,t,r;const o=n._freezeSettings(),a=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new wc(n._databaseId,h,n._persistenceKey,(v=o).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,uk(v.experimentalLongPollingOptions),v.useFetchStreams));var h,v;n._firestoreClient=new KL(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=o.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function Ck(n,e,t){const r=new so;return n.asyncQueue.enqueue((0,Me.Z)(function*(){try{yield pM(n,t),yield zO(n,e),r.resolve()}catch(o){const a=o;if(!ok(a))throw a;Ei("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function wk(n){if(n._initialized||n._terminated)throw new Ue(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Oc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oc(po.fromBase64String(e))}catch(t){throw new Ue(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oc(po.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class zl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ue(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yh{constructor(e){this._methodName=e}}class bM{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ue(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ue(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rn(this._lat,e._lat)||rn(this._long,e._long)}}const yU=/^__.*__$/;class bU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Hl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sm(e,this.data,t,this.fieldTransforms)}}class Ek{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Hl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Mk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}class vM{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new vM(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.fa(e),o}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return EM(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Mk(this.ca)&&yU.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class vU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Nv(e)}ya(e,t,r,o=!1){return new vM({ca:e,methodName:t,ga:r,path:Vr.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qh(n){const e=n._freezeSettings(),t=Nv(n._databaseId);return new vU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function CM(n,e,t,r,o,a={}){const u=n.ya(a.merge||a.mergeFields?2:0,e,t,o);rS("Data must be an object, but it was:",u,r);const h=Pk(r,u);let _,v;if(a.merge)_=new $o(u.fieldMask),v=u.fieldTransforms;else if(a.mergeFields){const M=[];for(const D of a.mergeFields){const L=$v(e,D,t);if(!u.contains(L))throw new Ue(he.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);Ok(M,L)||M.push(L)}_=new $o(M),v=u.fieldTransforms.filter(D=>_.covers(D.field))}else _=null,v=u.fieldTransforms;return new bU(new Co(h),_,v)}class Hv extends Yh{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hv}}function Ik(n,e,t){return new vM({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class eS extends Yh{_toFieldTransform(e){return new Ct(e.path,new T)}isEqual(e){return e instanceof eS}}class CU extends Yh{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Ik(this,e,!0),r=this.pa.map(a=>Jh(a,t)),o=new A(r);return new Ct(e.path,o)}isEqual(e){return this===e}}class wU extends Yh{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Ik(this,e,!0),r=this.pa.map(a=>Jh(a,t)),o=new Y(r);return new Ct(e.path,o)}isEqual(e){return this===e}}class EU extends Yh{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Te(e.serializer,d(e.serializer,this.Ia));return new Ct(e.path,t)}isEqual(e){return this===e}}function tS(n,e,t,r){const o=n.ya(1,e,t);rS("Data must be an object, but it was:",o,r);const a=[],u=Co.empty();ks(r,(_,v)=>{const M=wM(e,_,t);v=(0,$t.m9)(v);const D=o.da(M);if(v instanceof Hv)a.push(M);else{const L=Jh(v,D);null!=L&&(a.push(M),u.set(M,L))}});const h=new $o(a);return new Ek(u,h,o.fieldTransforms)}function nS(n,e,t,r,o,a){const u=n.ya(1,e,t),h=[$v(e,r,t)],_=[o];if(a.length%2!=0)throw new Ue(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<a.length;L+=2)h.push($v(e,a[L])),_.push(a[L+1]);const v=[],M=Co.empty();for(let L=h.length-1;L>=0;--L)if(!Ok(v,h[L])){const B=h[L];let Z=_[L];Z=(0,$t.m9)(Z);const oe=u.da(B);if(Z instanceof Hv)v.push(B);else{const ue=Jh(Z,oe);null!=ue&&(v.push(B),M.set(B,ue))}}const D=new $o(v);return new Ek(M,D,u.fieldTransforms)}function Tk(n,e,t,r=!1){return Jh(t,n.ya(r?4:3,e))}function Jh(n,e){if(Dk(n=(0,$t.m9)(n)))return rS("Unsupported field value:",e,n),Pk(n,e);if(n instanceof Yh)return function(t,r){if(!Mk(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const o=[];let a=0;for(const u of t){let h=Jh(u,r.wa(a));null==h&&(h={nullValue:"NULL_VALUE"}),o.push(h),a++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,$t.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return d(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Dr.fromDate(t);return{timestampValue:xm(r.serializer,o)}}if(t instanceof Dr){const o=new Dr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:xm(r.serializer,o)}}if(t instanceof bM)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Oc)return{bytesValue:VA(r.serializer,t._byteString)};if(t instanceof Or){const o=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(o))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:bD(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${_M(t)}`)}(n,e)}function Pk(n,e){const t={};return EE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ks(n,(r,o)=>{const a=Jh(o,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function Dk(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Dr||n instanceof bM||n instanceof Oc||n instanceof Or||n instanceof Yh)}function rS(n,e,t){if(!Dk(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=_M(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function $v(n,e,t){if((e=(0,$t.m9)(e))instanceof zl)return e._internalPath;if("string"==typeof e)return wM(n,e);throw EM("Field path arguments must be of type string or ",n,!1,void 0,t)}const MU=new RegExp("[~\\*/\\[\\]]");function wM(n,e,t){if(e.search(MU)>=0)throw EM(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zl(...e.split("."))._internalPath}catch{throw EM(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function EM(n,e,t,r,o){const a=r&&!r.isEmpty(),u=void 0!==o;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${r}`),u&&(_+=` in document ${o}`),_+=")"),new Ue(he.INVALID_ARGUMENT,h+n+_)}function Ok(n,e){return n.some(t=>t.isEqual(e))}class jv{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Or(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new IU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(MM("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class IU extends jv{data(){return super.data()}}function MM(n,e){return"string"==typeof e?wM(n,e):e instanceof zl?e._internalPath:e._delegate._internalPath}function Sk(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ue(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oS{}class zv extends oS{}function Gf(n,e,...t){let r=[];e instanceof oS&&r.push(e),r=r.concat(t),function(o){const a=o.filter(h=>h instanceof Wm).length,u=o.filter(h=>h instanceof qv).length;if(a>1||a>0&&u>0)throw new Ue(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class qv extends zv{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new qv(e,t,r)}_apply(e){const t=this._parse(e);return Rk(e._query,t),new Xo(e.firestore,e.converter,jE(e._query,t))}_parse(e){const t=Qh(e.firestore);return function(o,a,u,h,_,v,M){let D;if(_.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Ue(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){kk(M,v);const L=[];for(const B of M)L.push(xk(h,o,B));D={arrayValue:{values:L}}}else D=xk(h,o,M)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||kk(M,v),D=Tk(u,"where",M,"in"===v||"not-in"===v);return En.create(_,v,D)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Wm extends oS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Xn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let a=r;const u=o.getFlattenedFilters();for(const h of u)Rk(a,h),a=jE(a,h)}(e._query,t),new Xo(e.firestore,e.converter,jE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class iS extends zv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new iS(e,t)}_apply(e){const t=function(r,o,a){if(null!==r.startAt)throw new Ue(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ue(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Ll(o,a);return function(h,_){if(null===Im(h)){const v=Tm(h);null!==v&&Nk(0,v,_.field)}}(r,u),u}(e._query,this._field,this._direction);return new Xo(e.firestore,e.converter,function(r,o){const a=r.explicitOrderBy.concat([o]);return new Ta(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class IM extends zv{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new IM(e,t,r)}_apply(e){return new Xo(e.firestore,e.converter,$h(e._query,this._limit,this._limitType))}}class TM extends zv{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new TM(e,t,r)}_apply(e){const t=Ak(e,this.type,this._docOrFields,this._inclusive);return new Xo(e.firestore,e.converter,(o=t,new Ta((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class PM extends zv{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new PM(e,t,r)}_apply(e){const t=Ak(e,this.type,this._docOrFields,this._inclusive);return new Xo(e.firestore,e.converter,(o=t,new Ta((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function Ak(n,e,t,r){if(t[0]=(0,$t.m9)(t[0]),t[0]instanceof jv)return function(o,a,u,h,_){if(!h)throw new Ue(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const M of Tc(o))if(M.field.isKeyField())v.push(Ic(a,h.key));else{const D=h.data.field(M.field);if(bm(D))throw new Ue(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const L=M.field.canonicalString();throw new Ue(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}v.push(D)}return new Fl(v,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Qh(n.firestore);return function(a,u,h,_,v,M){const D=a.explicitOrderBy;if(v.length>D.length)throw new Ue(he.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let B=0;B<v.length;B++){const Z=v[B];if(D[B].field.isKeyField()){if("string"!=typeof Z)throw new Ue(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof Z}`);if(!yv(a)&&-1!==Z.indexOf("/"))throw new Ue(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${Z}' contains a slash.`);const oe=a.path.child(Tn.fromString(Z));if(!at.isDocumentKey(oe))throw new Ue(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${oe}' is not because it contains an odd number of segments.`);const ue=new at(oe);L.push(Ic(u,ue))}else{const oe=Tk(h,_,Z);L.push(oe)}}return new Fl(L,M)}(n._query,n.firestore._databaseId,o,e,t,r)}}function xk(n,e,t){if("string"==typeof(t=(0,$t.m9)(t))){if(""===t)throw new Ue(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yv(e)&&-1!==t.indexOf("/"))throw new Ue(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Tn.fromString(t));if(!at.isDocumentKey(r))throw new Ue(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ic(n,new at(r))}if(t instanceof Or)return Ic(n,t._key);throw new Ue(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_M(t)}.`)}function kk(n,e){if(!Array.isArray(n)||0===n.length)throw new Ue(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Rk(n,e){if(e.isInequality()){const r=Tm(n),o=e.field;if(null!==r&&!r.isEqual(o))throw new Ue(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const a=Im(n);null!==a&&Nk(0,o,a)}const t=function(r,o){for(const a of r)for(const u of a.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ue(he.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Nk(n,e,t){if(!t.isEqual(e))throw new Ue(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class sS{convertValue(e,t="none"){switch(Ec(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ks(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new bM(Br(e.latitude),Br(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Nf(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ii(e));default:return null}}convertTimestamp(e){const t=Ea(e);return new Dr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tn.fromString(e);Pt(KA(r));const o=new Ma(r.get(1),r.get(3)),a=new at(r.popFirst(5));return o.isEqual(t)||Wr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function DM(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class RU extends sS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Or(this.firestore,null,t)}}class Xh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ql extends jv{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(MM("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Gv extends ql{data(e={}){return super.data(e)}}class Wf{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Xh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Gv(this._firestore,this._userDataWriter,r.key,r,new Xh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ue(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new Gv(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Xh(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>o||3!==u.type).map(u=>{const h=new Gv(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Xh(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,v=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),v=a.indexOf(u.doc.key)),{type:FU(u.type),doc:h,oldIndex:_,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function FU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}function Lk(n,e){return n instanceof ql&&e instanceof ql?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Wf&&e instanceof Wf&&n._firestore===e._firestore&&JO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Zf extends sS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Or(this.firestore,null,t)}}function Uk(n,e,t){n=On(n,Or);const r=On(n.firestore,Sr),o=DM(n.converter,e,t);return Zm(r,[CM(Qh(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,wt.none())])}function Vk(n,e,t,...r){n=On(n,Or);const o=On(n.firestore,Sr),a=Qh(o);let u;return u="string"==typeof(e=(0,$t.m9)(e))||e instanceof zl?nS(a,"updateDoc",n._key,e,t,r):tS(a,"updateDoc",n._key,e),Zm(o,[u.toMutation(n._key,wt.exists(!0))])}function Bk(n,...e){var t,r,o;n=(0,$t.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||XO(e[u])||(a=e[u],u++);const h={includeMetadataChanges:a.includeMetadataChanges};if(XO(e[u])){const D=e[u];e[u]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[u+1]=null===(r=D.error)||void 0===r?void 0:r.bind(D),e[u+2]=null===(o=D.complete)||void 0===o?void 0:o.bind(D)}let _,v,M;if(n instanceof Or)v=On(n.firestore,Sr),M=Vl(n._key.path),_={next:D=>{e[u]&&e[u](aS(v,n,D))},error:e[u+1],complete:e[u+2]};else{const D=On(n,Xo);v=On(D.firestore,Sr),M=D._query;const L=new Zf(v);_={next:B=>{e[u]&&e[u](new Wf(v,L,D,B))},error:e[u+1],complete:e[u+2]},Sk(n._query)}return function(D,L,B,Z){const oe=new hM(Z),ue=new mO(L,oe,B);return D.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return fO(yield Gm(D),ue)})),()=>{oe.Dc(),D.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return hO(yield Gm(D),ue)}))}}(mo(v),M,h,_)}function Zm(n,e){return function(t,r){const o=new so;return t.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function OL(n,e,t){return CO.apply(this,arguments)}(yield KO(t),r,o)})),o.promise}(mo(n),e)}function aS(n,e,t){const r=t.docs.get(e._key),o=new Zf(n);return new ql(n,o,e._key,r,new Xh(t.hasPendingWrites,t.fromCache),e.converter)}const eV={maxAttempts:5};class Hk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Qh(e)}set(e,t,r){this._verifyNotCommitted();const o=Kf(e,this._firestore),a=DM(o.converter,t,r),u=CM(this._dataReader,"WriteBatch.set",o._key,a,null!==o.converter,r);return this._mutations.push(u.toMutation(o._key,wt.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const a=Kf(e,this._firestore);let u;return u="string"==typeof(t=(0,$t.m9)(t))||t instanceof zl?nS(this._dataReader,"WriteBatch.update",a._key,t,r,o):tS(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,wt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Kf(e,this._firestore);return this._mutations=this._mutations.concat(new Am(t._key,wt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kf(n,e){if((n=(0,$t.m9)(n)).firestore!==e)throw new Ue(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class tV extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Qh(e)}get(e){const t=Kf(e,this._firestore),r=new RU(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return nt();const a=o[0];if(a.isFoundDocument())return new jv(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new jv(this._firestore,r,t._key,null,t.converter);throw nt()})}set(e,t,r){const o=Kf(e,this._firestore),a=DM(o.converter,t,r),u=CM(this._dataReader,"Transaction.set",o._key,a,null!==o.converter,r);return this._transaction.set(o._key,u),this}update(e,t,r,...o){const a=Kf(e,this._firestore);let u;return u="string"==typeof(t=(0,$t.m9)(t))||t instanceof zl?nS(this._dataReader,"Transaction.update",a._key,t,r,o):tS(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=Kf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Kf(e,this._firestore),r=new Zf(this._firestore);return super.get(e).then(o=>new ql(this._firestore,r,t._key,o._document,new Xh(!1,!1),t.converter))}}!function(n,e=!0){Rl=ci.SDK_VERSION,(0,ci._registerComponent)(new rc.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const a=t.getProvider("app").getImmediate(),u=new Sr(new Jb(t.getProvider("auth-internal")),new zP(t.getProvider("app-check-internal")),function(h,_){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ue(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ma(h.options.projectId,_)}(a,r),a);return o=Object.assign({useFetchStreams:e},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),(0,ci.registerVersion)(Kb,"3.13.0",n),(0,ci.registerVersion)(Kb,"3.13.0","esm2017")}();function cS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ue("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function jk(){if(typeof Uint8Array>"u")throw new Ue("unimplemented","Uint8Arrays are not available in this environment.")}function zk(){if(!function IE(){return typeof atob<"u"}())throw new Ue("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Wv{constructor(e){this._delegate=e}static fromBase64String(e){return zk(),new Wv(Oc.fromBase64String(e))}static fromUint8Array(e){return jk(),new Wv(Oc.fromUint8Array(e))}toBase64(){return zk(),this._delegate.toBase64()}toUint8Array(){return jk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function lS(n){return function uV(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class fV{enableIndexedDbPersistence(e,t){return function lU(n,e){wk(n=On(n,Sr));const t=mo(n);if(t._uninitializedComponentsProvider)throw new Ue(he.FAILED_PRECONDITION,"SDK cache is already specified.");Ei("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),o=new qm;return Ck(t,o,new $O(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function uU(n){wk(n=On(n,Sr));const e=mo(n);if(e._uninitializedComponentsProvider)throw new Ue(he.FAILED_PRECONDITION,"SDK cache is already specified.");Ei("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new qm;return Ck(e,r,new nk(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function fU(n){if(n._initialized&&!n._terminated)throw new Ue(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new so;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{yield(t=(0,Me.Z)(function*(r){if(!$i.D())return Promise.resolve();const o=r+"main";yield $i.delete(o)}),function(r){return t.apply(this,arguments)})(RD(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class qk{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ma||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ei("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){_k(this._delegate,e,t,r)}enableNetwork(){return function hU(n){return function YL(n){return n.asyncQueue.enqueue((0,Me.Z)(function*(){const e=yield ik(n),t=yield sk(n);return e.setNetworkEnabled(!0),function(r){const o=dt(r);return o.vu.delete(0),Fv(o)}(t)}))}(mo(n=On(n,Sr)))}(this._delegate)}disableNetwork(){return function pU(n){return function QL(n){return n.asyncQueue.enqueue((0,Me.Z)(function*(){const e=yield ik(n),t=yield sk(n);return e.setNetworkEnabled(!1),(r=(0,Me.Z)(function*(o){const a=dt(o);a.vu.add(0),yield Um(a),a.bu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(mo(n=On(n,Sr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,dk("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function dU(n){return function(e){const t=new so;return e.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function kL(n,e){return TO.apply(this,arguments)}(yield KO(e),t)})),t.promise}(mo(n=On(n,Sr)))}(this._delegate)}onSnapshotsInSync(e){return function qU(n,e){return function eU(n,e){const t=new hM(e);return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return r=yield Gm(n),o=t,dt(r).ku.add(o),void o.next();var r,o})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return r=yield Gm(n),o=t,void dt(r).ku.delete(o);var r,o}))}}(mo(n=On(n,Sr)),XO(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ue("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Km(this,yk(this._delegate,e))}catch(t){throw Pi(t,"collection()","Firestore.collection()")}}doc(e){try{return new Fs(this,yM(this._delegate,e))}catch(t){throw Pi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Di(this,function oU(n,e){if(n=On(n,Vv),QO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ue(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xo(n,null,(t=e,new Ta(Tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Pi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function nV(n,e,t){n=On(n,Sr);const r=Object.assign(Object.assign({},eV),t);return function(o){if(o.maxAttempts<1)throw new Ue(he.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,a,u){const h=new so;return o.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){const _=yield function ak(n){return gM(n).then(e=>e.datastore)}(o);new ZL(o.asyncQueue,_,u,a,h).run()})),h.promise}(mo(n),o=>e(new tV(n,o)),r)}(this._delegate,t=>e(new Gk(this,t)))}batch(){return mo(this._delegate),new Wk(new Hk(this._delegate,e=>Zm(this._delegate,e)))}loadBundle(e){return function gU(n,e){const t=mo(n=On(n,Sr)),r=new sU;return function tU(n,e,t,r){const o=function(a,u){let h;return h="string"==typeof a?AA().encode(a):a,_=function(_,v){if(_ instanceof Uint8Array)return rk(_,v);if(_ instanceof ArrayBuffer)return rk(new Uint8Array(_),v);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new GL(_,u);var _}(t,Nv(e));n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){!function zL(n,e,t){const r=dt(n);var o;(o=(0,Me.Z)(function*(a,u,h){try{const _=yield u.getMetadata();if(yield function(L,B){const Z=dt(L),oe=go(B.createTime);return Z.persistence.runTransaction("hasNewerBundle","readonly",ue=>Z.qs.getBundleMetadata(ue,B.id)).then(ue=>!!ue&&ue.createTime.compareTo(oe)>=0)}(a.localStore,_))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(L=_).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);h._updateProgress(Wx(_));const v=new EL(_,a.localStore,u.serializer);let M=yield u.bc();for(;M;){const L=yield v.zu(M);L&&h._updateProgress(L),M=yield u.bc()}const D=yield v.complete();return yield jl(a,D.Ju,void 0),yield function(L,B){const Z=dt(L);return Z.persistence.runTransaction("Save bundle","readwrite",oe=>Z.qs.saveBundleMetadata(oe,B))}(a.localStore,_),h._completeWith(D.progress),Promise.resolve(D.Hu)}catch(_){return Ei("SyncEngine",`Loading bundle failed with ${_}`),h._failWith(_),Promise.resolve(new Set)}var L}),function(a,u,h){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield KO(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function mU(n,e){return function nU(n,e){return n.asyncQueue.enqueue((0,Me.Z)(function*(){return function(t,r){const o=dt(t);return o.persistence.runTransaction("Get named query","readonly",a=>o.qs.getNamedQuery(a,r))}(yield mM(n),e)}))}(mo(n=On(n,Sr)),e).then(t=>t?new Xo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Di(this,t):null)}}class OM extends sS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wv(new Oc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Fs.forKey(t,this.firestore,null)}}class Gk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new OM(e)}get(e){const t=tp(e);return this._delegate.get(t).then(r=>new Zv(this._firestore,new ql(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=tp(e);return r?(cS("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const a=tp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...o),this}delete(e){const t=tp(e);return this._delegate.delete(t),this}}class Wk{constructor(e){this._delegate=e}set(e,t,r){const o=tp(e);return r?(cS("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const a=tp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...o),this}delete(e){const t=tp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ep{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Gv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Kv(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=ep.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let a=o.get(t);return a||(a=new ep(e,new OM(e),t),o.set(t,a)),a}}ep.INSTANCES=new WeakMap;class Fs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new OM(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ue("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Fs(t,new Or(t._delegate,r,new at(e)))}static forKey(e,t,r){return new Fs(t,new Or(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Km(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Km(this.firestore,yk(this._delegate,e))}catch(t){throw Pi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,$t.m9)(e))instanceof Or&&bk(this._delegate,e)}set(e,t){t=cS("DocumentReference.set",t);try{return t?Uk(this._delegate,e,t):Uk(this._delegate,e)}catch(r){throw Pi(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Vk(this._delegate,e):Vk(this._delegate,e,t,...r)}catch(o){throw Pi(o,"updateDoc()","DocumentReference.update()")}}delete(){return function jU(n){return Zm(On(n.firestore,Sr),[new Am(n._key,wt.none())])}(this._delegate)}onSnapshot(...e){const t=Zk(e),r=Kk(e,o=>new Zv(this.firestore,new ql(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return Bk(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function UU(n){n=On(n,Or);const e=On(n.firestore,Sr),t=mo(e),r=new Zf(e);return function JL(n,e){const t=new so;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(r=(0,Me.Z)(function*(o,a,u){try{const h=yield function(_,v){const M=dt(_);return M.persistence.runTransaction("read document","readonly",D=>M.localDocuments.getDocument(D,v))}(o,a);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Ue(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const _=Hm(h,`Failed to get document '${a} from cache`);u.reject(_)}}),function(o,a,u){return r.apply(this,arguments)})(yield mM(n),e,t);var r})),t.promise}(t,n._key).then(o=>new ql(e,r,n._key,o,new Xh(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function VU(n){n=On(n,Or);const e=On(n.firestore,Sr);return ck(mo(e),n._key,{source:"server"}).then(t=>aS(e,n,t))}(this._delegate):function LU(n){n=On(n,Or);const e=On(n.firestore,Sr);return ck(mo(e),n._key).then(t=>aS(e,n,t))}(this._delegate),t.then(r=>new Zv(this.firestore,new ql(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Fs(this.firestore,this._delegate.withConverter(e?ep.getInstance(this.firestore,e):null))}}function Pi(n,e,t){return n.message=n.message.replace(e,t),n}function Zk(n){for(const e of n)if("object"==typeof e&&!lS(e))return e;return{}}function Kk(n,e){var t,r;let o;return o=lS(n[0])?n[0]:lS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{o.next&&o.next(e(a))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class Zv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Fs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Lk(this._delegate,e._delegate)}}class Kv extends Zv{data(e){const t=this._delegate.data(e);return function HP(n,e){n||nt()}(void 0!==t),t}}class Di{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new OM(e)}where(e,t,r){try{return new Di(this.firestore,Gf(this._delegate,function TU(n,e,t){const r=e,o=MM("where",n);return qv._create(o,r,t)}(e,t,r)))}catch(o){throw Pi(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Di(this.firestore,Gf(this._delegate,function PU(n,e="asc"){const t=e,r=MM("orderBy",n);return iS._create(r,t)}(e,t)))}catch(r){throw Pi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Di(this.firestore,Gf(this._delegate,function DU(n){return gk("limit",n),IM._create("limit",n,"F")}(e)))}catch(t){throw Pi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Di(this.firestore,Gf(this._delegate,function OU(n){return gk("limitToLast",n),IM._create("limitToLast",n,"L")}(e)))}catch(t){throw Pi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Di(this.firestore,Gf(this._delegate,function SU(...n){return TM._create("startAt",n,!0)}(...e)))}catch(t){throw Pi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Di(this.firestore,Gf(this._delegate,function AU(...n){return TM._create("startAfter",n,!1)}(...e)))}catch(t){throw Pi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Di(this.firestore,Gf(this._delegate,function xU(...n){return PM._create("endBefore",n,!1)}(...e)))}catch(t){throw Pi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Di(this.firestore,Gf(this._delegate,function kU(...n){return PM._create("endAt",n,!0)}(...e)))}catch(t){throw Pi(t,"endAt()","Query.endAt()")}}isEqual(e){return JO(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function HU(n){n=On(n,Xo);const e=On(n.firestore,Sr),t=mo(e),r=new Zf(e);return function XL(n,e){const t=new so;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(r=(0,Me.Z)(function*(o,a,u){try{const h=yield sM(o,a,!0),_=new Yx(a,h.ir),v=_.sc(h.documents),M=_.applyChanges(v,!1);u.resolve(M.snapshot)}catch(h){const _=Hm(h,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(o,a,u){return r.apply(this,arguments)})(yield mM(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Wf(e,r,n,o))}(this._delegate):"server"===e?.source?function $U(n){n=On(n,Xo);const e=On(n.firestore,Sr),t=mo(e),r=new Zf(e);return lk(t,n._query,{source:"server"}).then(o=>new Wf(e,r,n,o))}(this._delegate):function BU(n){n=On(n,Xo);const e=On(n.firestore,Sr),t=mo(e),r=new Zf(e);return Sk(n._query),lk(t,n._query).then(o=>new Wf(e,r,n,o))}(this._delegate),t.then(r=>new uS(this.firestore,new Wf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Zk(e),r=Kk(e,o=>new uS(this.firestore,new Wf(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return Bk(this._delegate,t,r)}withConverter(e){return new Di(this.firestore,this._delegate.withConverter(e?ep.getInstance(this.firestore,e):null))}}class hV{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Kv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class uS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Di(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Kv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new hV(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Kv(this._firestore,r))})}isEqual(e){return Lk(this._delegate,e._delegate)}}class Km extends Di{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Fs(this.firestore,e):null}doc(e){try{return new Fs(this.firestore,void 0===e?yM(this._delegate):yM(this._delegate,e))}catch(t){throw Pi(t,"doc()","CollectionReference.doc()")}}add(e){return function zU(n,e){const t=On(n.firestore,Sr),r=yM(n),o=DM(n.converter,e);return Zm(t,[CM(Qh(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,wt.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Fs(this.firestore,t))}isEqual(e){return bk(this._delegate,e._delegate)}withConverter(e){return new Km(this.firestore,this._delegate.withConverter(e?ep.getInstance(this.firestore,e):null))}}function tp(n){return On(n,Or)}class fS{constructor(...e){this._delegate=new zl(...e)}static documentId(){return new fS(Vr.keyField().canonicalString())}isEqual(e){return(e=(0,$t.m9)(e))instanceof zl&&this._delegate._internalPath.isEqual(e._internalPath)}}class np{constructor(e){this._delegate=e}static serverTimestamp(){const e=function oV(){return new eS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new np(e)}static delete(){const e=function rV(){return new Hv("deleteField")}();return e._methodName="FieldValue.delete",new np(e)}static arrayUnion(...e){const t=function iV(...n){return new CU("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new np(t)}static arrayRemove(...e){const t=function sV(...n){return new wU("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new np(t)}static increment(e){const t=function aV(n){return new EU("increment",n)}(e);return t._methodName="FieldValue.increment",new np(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const pV={Firestore:qk,GeoPoint:bM,Timestamp:Dr,Blob:Wv,Transaction:Gk,WriteBatch:Wk,DocumentReference:Fs,DocumentSnapshot:Zv,Query:Di,QueryDocumentSnapshot:Kv,QuerySnapshot:uS,CollectionReference:Km,FieldPath:fS,FieldValue:np,setLogLevel:function dV(n){!function uE(n){Ca.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Yk(n,e){return function _V(n,e=ow.z){return new _o.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function dS(n,e){return Yk(n,e).pipe((0,Dt.U)(t=>({payload:t,type:"query"})))}function SM(n,e){return dS(n,e).pipe(Fg(void 0),Ky(),(0,Dt.U)(([t,r])=>{const o=r.payload.docChanges(),a=o.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,h)=>{const _=o.find(M=>M.doc.ref.isEqual(u.ref)),v=t?.payload.docs.find(M=>M.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),a}))}function Qk(n,e,t){return SM(n,t).pipe(ih((r,o)=>function bV(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function vV(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return hS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return hS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return hS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(a=>a.payload),e),[]),function aw(n,e=Qd.y){return n=n??uA,(0,Vo.e)((t,r)=>{let o,a=!0;t.subscribe((0,zr.x)(r,u=>{const h=e(u);(a||!n(o,h))&&(a=!1,o=h,r.next(u))}))})}(),(0,Dt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function hS(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function Jk(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function mV(n){(function gV(n,e){n.INTERNAL.registerComponent(new rc.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},pV)))})(n,(e,t)=>new qk(e,t,new fV)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(Lg.Z);class Xk{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=SM(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Dt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Fg(void 0),Ky(),Ao(([r,o])=>o.length>0||!r),(0,Dt.U)(([r,o])=>o),pn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ih((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Jk(e);return Qk(this.query,t,this.afs.schedulers.outsideAngular).pipe(pn.iC)}valueChanges(e={}){return dS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),pn.iC)}get(e){return(0,In.D)(this.query.get(e)).pipe(pn.iC)}add(e){return this.ref.add(e)}doc(e){return new eR(this.ref.doc(e),this.afs)}}class eR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:a}=rR(r,t);return new Xk(o,a,this.afs)}snapshotChanges(){return function yV(n,e){return Yk(n,e).pipe(Fg(void 0),Ky(),(0,Dt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(pn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Dt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,In.D)(this.ref.get(e)).pipe(pn.iC)}}class CV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?SM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ao(t=>t.length>0),pn.iC):SM(this.query,this.afs.schedulers.outsideAngular).pipe(pn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ih((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Jk(e);return Qk(this.query,t,this.afs.schedulers.outsideAngular).pipe(pn.iC)}valueChanges(e={}){return dS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),pn.iC)}get(e){return(0,In.D)(this.query.get(e)).pipe(pn.iC)}}const tR=new l.OlP("angularfire2.enableFirestorePersistence"),nR=new l.OlP("angularfire2.firestore.persistenceSettings"),wV=new l.OlP("angularfire2.firestore.settings"),EV=new l.OlP("angularfire2.firestore.use-emulator");function rR(n,e=(t=>t)){return{query:e(n),ref:n}}let AM=(()=>{class n{constructor(t,r,o,a,u,h,_,v,M,D,L,B,Z,oe,ue,Ve,rt){this.schedulers=_;const tt=(0,Zo.on)(t,h,r),ot=M;D&&nw(tt,h,L,Z,oe,ue,B,Ve),[this.firestore,this.persistenceEnabled$]=(0,Zo.cc)(`${tt.name}.firestore`,"AngularFirestore",tt.name,()=>{const Wt=h.runOutsideAngular(()=>tt.firestore());if(a&&Wt.settings(a),ot&&Wt.useEmulator(...ot),o&&!ds(u)){const Zt=()=>{try{return(0,In.D)(Wt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Sn){return typeof console<"u"&&console.warn(Sn),xt(!1)}};return[Wt,h.runOutsideAngular(Zt)]}return[Wt,xt(!1)]},[a,ot,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=rR(o,r),h=this.schedulers.ngZone.run(()=>a);return new Xk(h,u,this)}collectionGroup(t,r){const o=r||(u=>u),a=this.firestore.collectionGroup(t);return new CV(o(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new eR(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Zo.Dh),l.LFG(Zo.xv,8),l.LFG(tR,8),l.LFG(wV,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(pn.HU),l.LFG(nR,8),l.LFG(EV,8),l.LFG(Ng,8),l.LFG(X0,8),l.LFG(ew,8),l.LFG(Wy,8),l.LFG(tw,8),l.LFG(ro,8),l.LFG(Zy,8),l.LFG(uf,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),MV=(()=>{class n{constructor(){J0.Z.registerVersion("angularfire",pn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:tR,useValue:!0},{provide:nR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[AM]}),n})();const oR="firebasestorage.googleapis.com",iR="storageBucket";class Zr extends $t.ZR{constructor(e,t,r=0){super(pS(e),`Firebase Storage: ${t} (${pS(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return pS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ir=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ir||(Ir={})),Ir))();function pS(n){return"storage/"+n}function gS(){return new Zr(Ir.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function sR(){return new Zr(Ir.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function aR(){return new Zr(Ir.CANCELED,"User canceled the upload/download.")}function cR(){return new Zr(Ir.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ym(n){return new Zr(Ir.INVALID_ARGUMENT,n)}function lR(){return new Zr(Ir.APP_DELETED,"The Firebase app was deleted.")}function uR(n){return new Zr(Ir.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yv(n,e){return new Zr(Ir.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Qv(n){throw new Zr(Ir.INTERNAL_ERROR,"Internal error: "+n)}class di{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=di.makeFromUrl(e,t)}catch{return new di(e,"")}if(""===r.path)return r;throw function NV(n){return new Zr(Ir.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+o+"(/(.*))?$","i");function v(ot){ot.path_=decodeURIComponent(ot.path)}const D=t.replace(/[.]/g,"\\."),tt=[{regex:h,indices:{bucket:1,path:3},postModify:function a(ot){"/"===ot.path.charAt(ot.path.length-1)&&(ot.path_=ot.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===oR?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let ot=0;ot<tt.length;ot++){const Wt=tt[ot],Zt=Wt.regex.exec(e);if(Zt){let Kr=Zt[Wt.indices.path];Kr||(Kr=""),r=new di(Zt[Wt.indices.bucket],Kr),Wt.postModify(r);break}}if(null==r)throw function RV(n){return new Zr(Ir.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class BV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function xM(n){return"string"==typeof n||n instanceof String}function fR(n){return mS()&&n instanceof Blob}function mS(){return typeof Blob<"u"&&!(0,$t.UG)()}function _S(n,e,t,r){if(r<e)throw Ym(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Ym(`Invalid value for '${n}'. Expected ${t} or less.`)}function Gl(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function dR(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Yf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Yf||(Yf={})),Yf))();function hR(n,e){const t=n>=500&&n<600,o=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||o||a}class GV{constructor(e,t,r,o,a,u,h,_,v,M,D,L=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=_,this.timeout_=v,this.progressCallback_=M,this.connectionFactory_=D,this.retry=L,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,Z)=>{this.resolve_=B,this.reject_=Z,this.start_()})}start_(){const t=(r,o)=>{const a=this.resolve_,u=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const _=this.callback_(h,h.getResponse());!function jV(n){return void 0!==n}(_)?a():a(_)}catch(_){u(_)}else if(null!==h){const _=gS();_.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,_):_)}else u(o.canceled?this.appDelete_?lR():aR():sR())};this.canceled_?t(0,new kM(!1,null,!0)):this.backoffId_=function HV(n,e,t){let r=1,o=null,a=null,u=!1,h=0;function _(){return 2===h}let v=!1;function M(...ue){v||(v=!0,e.apply(null,ue))}function D(ue){o=setTimeout(()=>{o=null,n(B,_())},ue)}function L(){a&&clearTimeout(a)}function B(ue,...Ve){if(v)return void L();if(ue)return L(),void M.call(null,ue,...Ve);if(_()||u)return L(),void M.call(null,ue,...Ve);let tt;r<64&&(r*=2),1===h?(h=2,tt=0):tt=1e3*(r+Math.random()),D(tt)}let Z=!1;function oe(ue){Z||(Z=!0,L(),!v&&(null!==o?(ue||(h=2),clearTimeout(o),D(0)):ue||(h=1)))}return D(0),a=setTimeout(()=>{u=!0,oe(!0)},t),oe}((r,o)=>{if(o)return void r(!1,new kM(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===Yf.NO_ERROR,_=a.getStatus();if(!h||hR(_,this.additionalRetryCodes_)&&this.retry){const M=a.getErrorCode()===Yf.ABORT;return void r(!1,new kM(!1,null,M))}const v=-1!==this.successCodes_.indexOf(_);r(!0,new kM(v,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function $V(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class kM{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function XV(...n){const e=function JV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(mS())return new Blob(n);throw new Zr(Ir.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const is={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yS{constructor(e,t){this.data=e,this.contentType=t||null}}function bS(n,e){switch(n){case is.RAW:return new yS(pR(e));case is.BASE64:case is.BASE64URL:return new yS(gR(n,e));case is.DATA_URL:return new yS(function rB(n){const e=new mR(n);return e.base64?gR(is.BASE64,e.rest):function nB(n){let e;try{e=decodeURIComponent(n)}catch{throw Yv(is.DATA_URL,"Malformed data URL.")}return pR(e)}(e.rest)}(e),function oB(n){return new mR(n).contentType}(e))}throw gS()}function pR(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function gR(n,e){switch(n){case is.BASE64:{const o=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(o||a)throw Yv(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case is.BASE64URL:{const o=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(o||a)throw Yv(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function tB(n){if(typeof atob>"u")throw function VV(n){return new Zr(Ir.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(o){throw o.message.includes("polyfill")?o:Yv(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class mR{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Yv(is.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function iB(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Sc{constructor(e,t){let r=0,o="";fR(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(fR(this.data_)){const o=function eB(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===o?null:new Sc(o)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Sc(r,!0)}}static getBlob(...e){if(mS()){const t=e.map(r=>r instanceof Sc?r.data_:r);return new Sc(XV.apply(null,t))}{const t=e.map(u=>xM(u)?bS(is.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const o=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)o[a++]=u[h]}),new Sc(o,!0)}}uploadData(){return this.data_}}function vS(n){let e;try{e=JSON.parse(n)}catch{return null}return function qV(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function _R(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function cB(n,e){return e}class Oi{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||cB}}let RM=null;function Jv(){if(RM)return RM;const n=[];n.push(new Oi("bucket")),n.push(new Oi("generation")),n.push(new Oi("metageneration")),n.push(new Oi("name","fullPath",!0));const t=new Oi("name");t.xform=function e(a,u){return function lB(n){return!xM(n)||n.length<2?n:_R(n)}(u)},n.push(t);const o=new Oi("size");return o.xform=function r(a,u){return void 0!==u?Number(u):u},n.push(o),n.push(new Oi("timeCreated")),n.push(new Oi("updated")),n.push(new Oi("md5Hash",null,!0)),n.push(new Oi("cacheControl",null,!0)),n.push(new Oi("contentDisposition",null,!0)),n.push(new Oi("contentEncoding",null,!0)),n.push(new Oi("contentLanguage",null,!0)),n.push(new Oi("contentType",null,!0)),n.push(new Oi("metadata","customMetadata",!0)),RM=n,RM}function yR(n,e,t){const r=vS(e);return null===r?null:function fB(n,e,t){const r={type:"file"},o=t.length;for(let a=0;a<o;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return function uB(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new di(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function CS(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const a=e[o];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const bR="prefixes",vR="items";class Ac{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function xc(n){if(!n)throw gS()}function NM(n,e){return function t(r,o){const a=yR(n,o,e);return xc(null!==a),a}}function Qm(n){return function e(t,r){let o;return o=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function xV(){return new Zr(Ir.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function AV(){return new Zr(Ir.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function SV(n){return new Zr(Ir.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function kV(n){return new Zr(Ir.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}}function Xv(n){const e=Qm(n);return function t(r,o){let a=e(r,o);return 404===r.getStatus()&&(a=function OV(n){return new Zr(Ir.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=o.serverResponse,a}}function CR(n,e,t){const o=Gl(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Ac(o,"GET",NM(n,t),u);return h.errorHandler=Xv(e),h}function _B(n,e,t,r,o){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),o&&(a.maxResults=o);const h=Gl(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,M=new Ac(h,"GET",function gB(n,e){return function t(r,o){const a=function pB(n,e,t){const r=vS(t);return null===r?null:function hB(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[bR])for(const o of t[bR]){const a=o.replace(/\/$/,""),u=n._makeStorageReference(new di(e,a));r.prefixes.push(u)}if(t[vR])for(const o of t[vR]){const a=n._makeStorageReference(new di(e,o.name));r.items.push(a)}return r}(n,e,r)}(n,e,o);return xc(null!==a),a}}(n,e.bucket),v);return M.urlParams=a,M.errorHandler=Qm(e),M}function ER(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function CB(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class FM{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function wS(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{xc(!1)}return xc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const IB={STATE_CHANGED:"state_changed"},Si={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ES(n){switch(n){case"running":case"pausing":case"canceling":return Si.RUNNING;case"paused":return Si.PAUSED;case"success":return Si.SUCCESS;case"canceled":return Si.CANCELED;default:return Si.ERROR}}class TB{constructor(e,t,r){if(function zV(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function Jm(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let TR=null;class PB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw Qv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qv("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qv("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qv("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qv("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class DB extends PB{initXhr(){this.xhr_.responseType="text"}}function Oa(){return TR?TR():new DB}class PR{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Jv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(Ir.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(hR(o.status,[])){if(!a)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();o=sR()}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(Ir.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,a)=>{this._resolve=o,this._reject=a,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function wB(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),u=ER(e,r,o),h={name:u.fullPath},_=Gl(a,n.host,n._protocol),M={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},D=CS(u,t),Z=new Ac(_,"POST",function B(oe){let ue;wS(oe);try{ue=oe.getResponseHeader("X-Goog-Upload-URL")}catch{xc(!1)}return xc(xM(ue)),ue},n.maxUploadRetryTime);return Z.urlParams=h,Z.headers=M,Z.body=D,Z.errorHandler=Qm(e),Z}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Oa,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=function EB(n,e,t,r){const _=new Ac(t,"POST",function a(v){const M=wS(v,["active","final"]);let D=null;try{D=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{xc(!1)}D||xc(!1);const L=Number(D);return xc(!isNaN(L)),new FM(L,r.size(),"final"===M)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=Qm(e),_}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(o,Oa,t,r);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new FM(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,a)=>{let u;try{u=function MB(n,e,t,r,o,a,u,h){const _=new FM(0,0);if(u?(_.current=u.current,_.total=u.total):(_.current=0,_.total=r.size()),r.size()!==_.total)throw function LV(){return new Zr(Ir.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const v=_.total-_.current;let M=v;o>0&&(M=Math.min(M,o));const D=_.current;let B="";B=0===M?"finalize":v===M?"upload, finalize":"upload";const Z={"X-Goog-Upload-Command":B,"X-Goog-Upload-Offset":`${_.current}`},oe=r.slice(D,D+M);if(null===oe)throw cR();const tt=new Ac(t,"POST",function ue(ot,Wt){const Zt=wS(ot,["active","final"]),Sn=_.current+M,Kr=r.size();let pi;return pi="final"===Zt?NM(e,a)(ot,Wt):null,new FM(Sn,Kr,"final"===Zt,pi)},e.maxUploadRetryTime);return tt.headers=Z,tt.body=oe.uploadData(),tt.progressCallback=h||null,tt.errorHandler=Qm(n),tt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const h=this._ref.storage._makeRequest(u,Oa,o,a,!1);this._request=h,h.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=CR(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,Oa,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function MR(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},_=function h(){let tt="";for(let ot=0;ot<2;ot++)tt+=Math.random().toString().slice(2);return tt}();u["Content-Type"]="multipart/related; boundary="+_;const v=ER(e,r,o),M=CS(v,t),B=Sc.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+M+"\r\n--"+_+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+_+"--");if(null===B)throw cR();const Z={name:v.fullPath},oe=Gl(a,n.host,n._protocol),Ve=n.maxUploadRetryTime,rt=new Ac(oe,"POST",NM(n,t),Ve);return rt.urlParams=Z,rt.headers=u,rt.body=B.uploadData(),rt.errorHandler=Qm(e),rt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Oa,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=aR(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=ES(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const a=new TB(t||void 0,r||void 0,o||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(ES(this._state)){case Si.SUCCESS:Jm(this._resolve.bind(null,this.snapshot))();break;case Si.CANCELED:case Si.ERROR:Jm(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ES(this._state)){case Si.RUNNING:case Si.PAUSED:e.next&&Jm(e.next.bind(e,this.snapshot))();break;case Si.SUCCESS:e.complete&&Jm(e.complete.bind(e))();break;default:e.error&&Jm(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class rp{constructor(e,t){this._service=e,this._location=t instanceof di?t:di.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new rp(e,t)}get root(){const e=new di(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _R(this._location.path)}get storage(){return this._service}get parent(){const e=function sB(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new di(this._location.bucket,e);return new rp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw uR(e)}}function OR(n,e,t){return MS.apply(this,arguments)}function MS(){return MS=(0,Me.Z)(function*(n,e,t){const o=yield SR(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),null!=o.nextPageToken&&(yield OR(n,e,o.nextPageToken))}),MS.apply(this,arguments)}function SR(n,e){null!=e&&"number"==typeof e.maxResults&&_S("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=_B(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Oa)}function BB(n){n._throwIfRoot("getDownloadURL");const e=function yB(n,e,t){const o=Gl(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Ac(o,"GET",function mB(n,e){return function t(r,o){const a=yR(n,o,e);return xc(null!==a),function dB(n,e,t,r){const o=vS(e);if(null===o||!xM(o.downloadTokens))return null;const a=o.downloadTokens;if(0===a.length)return null;const u=encodeURIComponent;return a.split(",").map(v=>{const D=n.fullPath;return Gl("/b/"+u(n.bucket)+"/o/"+u(D),t,r)+dR({alt:"media",token:v})})[0]}(a,o,n.host,n._protocol)}}(n,t),u);return h.errorHandler=Xv(e),h}(n.storage,n._location,Jv());return n.storage.makeRequestWithTokens(e,Oa).then(t=>{if(null===t)throw function UV(){return new Zr(Ir.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function AR(n,e){const t=function aB(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new di(n._location.bucket,t);return new rp(n.storage,r)}function xR(n,e){if(n instanceof IS){const t=n;if(null==t._bucket)throw function FV(){return new Zr(Ir.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+iR+"' property when initializing the app?")}();const r=new rp(t,t._bucket);return null!=e?xR(r,e):r}return void 0!==e?AR(n,e):n}function zB(n,e){if(e&&function $B(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof IS)return function jB(n,e){return new rp(n,e)}(n,e);throw Ym("To use ref(service, url), the first argument must be a Storage instance.")}return xR(n,e)}function kR(n,e){const t=e?.[iR];return null==t?null:di.makeFromBucketSpec(t,n)}class IS{constructor(e,t,r,o,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=oR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?di.makeFromBucketSpec(o,this._host):kR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?di.makeFromBucketSpec(this._url,e):kR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_S("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_S("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Me.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Me.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rp(this,e)}_makeRequest(e,t,r,o,a=!0){if(this._deleted)return new BV(lR());{const u=function QV(n,e,t,r,o,a,u=!0){const h=dR(n.urlParams),_=n.url+h,v=Object.assign({},n.headers);return function KV(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function WV(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function ZV(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,a),function YV(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new GV(_,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u)}(e,this._appId,r,o,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,Me.Z)(function*(){const[o,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,o,a).getPromise()})()}}const RR="@firebase/storage";function LR(n,e){return zB(n=(0,$t.m9)(n),e)}function e3(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new IS(t,r,o,e,ci.SDK_VERSION)}!function t3(){(0,ci._registerComponent)(new rc.wA("storage",e3,"PUBLIC").setMultipleInstances(!0)),(0,ci.registerVersion)(RR,"0.11.2",""),(0,ci.registerVersion)(RR,"0.11.2","esm2017")}();class LM{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class VR{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new LM(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new LM(r,this,this._ref))},t)}on(e,t,r,o){let a;return t&&(a="function"==typeof t?u=>t(new LM(u,this,this._ref)):{next:t.next?u=>t.next(new LM(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,o||void 0)}}class BR{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Wl(e,this._service))}get items(){return this._delegate.items.map(e=>new Wl(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Wl{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function XB(n,e){return AR(n,e)}(this._delegate,e);return new Wl(t,this.storage)}get root(){return new Wl(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Wl(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new VR(function GB(n,e,t){return function NB(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new PR(n,new Sc(e),t)}(n=(0,$t.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=is.RAW,r){this._throwIfRoot("putString");const o=bS(t,e),a=Object.assign({},r);return null==a.contentType&&null!=o.contentType&&(a.contentType=o.contentType),new VR(new PR(this._delegate,new Sc(o.data,!0),a),this)}listAll(){return function YB(n){return function LB(n){const e={prefixes:[],items:[]};return OR(n,e).then(()=>e)}(n=(0,$t.m9)(n))}(this._delegate).then(e=>new BR(e,this.storage))}list(e){return function KB(n,e){return SR(n=(0,$t.m9)(n),e)}(this._delegate,e||void 0).then(t=>new BR(t,this.storage))}getMetadata(){return function WB(n){return function UB(n){n._throwIfRoot("getMetadata");const e=CR(n.storage,n._location,Jv());return n.storage.makeRequestWithTokens(e,Oa)}(n=(0,$t.m9)(n))}(this._delegate)}updateMetadata(e){return function ZB(n,e){return function VB(n,e){n._throwIfRoot("updateMetadata");const t=function bB(n,e,t,r){const a=Gl(e.fullServerUrl(),n.host,n._protocol),h=CS(t,r),v=n.maxOperationRetryTime,M=new Ac(a,"PATCH",NM(n,r),v);return M.headers={"Content-Type":"application/json; charset=utf-8"},M.body=h,M.errorHandler=Xv(e),M}(n.storage,n._location,e,Jv());return n.storage.makeRequestWithTokens(t,Oa)}(n=(0,$t.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function QB(n){return BB(n=(0,$t.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function JB(n){return function HB(n){n._throwIfRoot("deleteObject");const e=function vB(n,e){const r=Gl(e.fullServerUrl(),n.host,n._protocol),h=new Ac(r,"DELETE",function u(_,v){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=Xv(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Oa)}(n=(0,$t.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw uR(e)}}class HR{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if($R(e))throw Ym("ref() expected a child path but got a URL, use refFromURL instead.");return new Wl(LR(this._delegate,e),this)}refFromURL(e){if(!$R(e))throw Ym("refFromURL() expected a full URL but got a child path, use ref() instead.");try{di.makeFromUrl(e,this._delegate.host)}catch{throw Ym("refFromUrl() expected a valid full URL but got an invalid one.")}return new Wl(LR(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function UR(n,e,t,r={}){!function qB(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,$t.Sg)(o,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function $R(n){return/^[A-Za-z]+:\/\//.test(n)}function i3(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new HR(t,r)}function jR(n){const e=function a3(n){return new _o.y(e=>{const t=u=>e.next(u);t(n.snapshot);const a=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){a()}}).pipe(function IV(n,e=ow.z){return(0,Vo.e)((t,r)=>{let o=null,a=null,u=null;const h=()=>{if(o){o.unsubscribe(),o=null;const v=a;a=null,r.next(v)}};function _(){const v=u+n,M=e.now();if(M<v)return o=this.schedule(void 0,v-M),void r.add(o);h()}t.subscribe((0,zr.x)(r,v=>{a=v,u=e.now(),o||(o=e.schedule(_,n),r.add(o))},()=>{h(),r.complete()},void 0,()=>{a=o=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Dt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function UM(n){return{getDownloadURL:()=>xt(void 0).pipe(pn.fc,no(()=>n.getDownloadURL()),pn.iC),getMetadata:()=>xt(void 0).pipe(pn.fc,no(()=>n.getMetadata()),pn.iC),delete:()=>(0,In.D)(n.delete()),child:e=>UM(n.child(e)),updateMetadata:e=>(0,In.D)(n.updateMetadata(e)),put:(e,t)=>jR(n.put(e,t)),putString:(e,t,r)=>jR(n.putString(e,t,r)),list:e=>(0,In.D)(n.list(e)),listAll:()=>(0,In.D)(n.listAll())}}!function s3(n){const e={TaskState:Si,TaskEvent:IB,StringFormat:is,Storage:HR,Reference:Wl};n.INTERNAL.registerComponent(new rc.wA("storage-compat",i3,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(Lg.Z);const c3=new l.OlP("angularfire2.storageBucket"),l3=new l.OlP("angularfire2.storage.maxUploadRetryTime"),u3=new l.OlP("angularfire2.storage.maxOperationRetryTime"),f3=new l.OlP("angularfire2.storage.use-emulator");let zR=(()=>{class n{constructor(t,r,o,a,u,h,_,v,M,D){const L=(0,Zo.on)(t,u,r);this.storage=(0,Zo.cc)(`${L.name}.storage.${o}`,"AngularFireStorage",L.name,()=>{const B=u.runOutsideAngular(()=>L.storage(o||void 0)),Z=M;return Z&&B.useEmulator(...Z),_&&B.setMaxUploadRetryTime(_),v&&B.setMaxOperationRetryTime(v),B},[_,v])}ref(t){return UM(this.storage.ref(t))}refFromURL(t){return UM(this.storage.refFromURL(t))}upload(t,r,o){return UM(this.storage.ref(t)).put(r,o)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Zo.Dh),l.LFG(Zo.xv,8),l.LFG(c3,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(pn.HU),l.LFG(l3,8),l.LFG(u3,8),l.LFG(f3,8),l.LFG(uf,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),d3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),h3=(()=>{class n{constructor(){J0.Z.registerVersion("angularfire",pn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[zR],imports:[d3]}),n})();function qR(n){return new l.vHH(3e3,!1)}function Z3(){return typeof window<"u"&&typeof window.document<"u"}function TS(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Qf(n){switch(n.length){case 0:return new El;case 1:return n[0];default:return new Gd(n)}}function GR(n,e,t,r,o=new Map,a=new Map){const u=[],h=[];let _=-1,v=null;if(r.forEach(M=>{const D=M.get("offset"),L=D==_,B=L&&v||new Map;M.forEach((Z,oe)=>{let ue=oe,Ve=Z;if("offset"!==oe)switch(ue=e.normalizePropertyName(ue,u),Ve){case aa:Ve=o.get(oe);break;case sa:Ve=a.get(oe);break;default:Ve=e.normalizeStyleValue(oe,ue,Ve,u)}B.set(ue,Ve)}),L||h.push(B),v=B,_=D}),u.length)throw function F3(n){return new l.vHH(3502,!1)}();return h}function PS(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&DS(t,"start",n)));break;case"done":n.onDone(()=>r(t&&DS(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&DS(t,"destroy",n)))}}function DS(n,e,t){const a=OS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function OS(n,e,t,r,o="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:o,totalTime:a,disabled:!!u}}function ss(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function WR(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let SS=(n,e)=>!1,ZR=(n,e,t)=>[],KR=null;function AS(n){const e=n.parentNode||n.host;return e===KR?null:e}(TS()||typeof Element<"u")&&(Z3()?(KR=(()=>document.documentElement)(),SS=(n,e)=>{for(;e;){if(e===n)return!0;e=AS(e)}return!1}):SS=(n,e)=>n.contains(e),ZR=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let op=null,YR=!1;const QR=SS,JR=ZR;let XR=(()=>{class n{validateStyleProperty(t){return function Y3(n){op||(op=function Q3(){return typeof document<"u"?document.body:null}()||{},YR=!!op.style&&"WebkitAppearance"in op.style);let e=!0;return op.style&&!function K3(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in op.style,!e&&YR&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in op.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return QR(t,r)}getParentElement(t){return AS(t)}query(t,r,o){return JR(t,r,o)}computeStyle(t,r,o){return o||""}animate(t,r,o,a,u,h=[],_){return new El(o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),xS=(()=>{class n{}return n.NOOP=new XR,n})();const J3=1e3,kS="ng-enter",VM="ng-leave",BM="ng-trigger",HM=".ng-trigger",tN="ng-animating",RS=".ng-animating";function Zl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:NS(parseFloat(e[1]),e[2])}function NS(n,e){return"s"===e?n*J3:n}function $M(n,e,t){return n.hasOwnProperty("duration")?n:function e4(n,e,t){let o,a=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(qR()),{duration:0,delay:0,easing:""};o=NS(parseFloat(h[1]),h[2]);const _=h[3];null!=_&&(a=NS(parseFloat(_),h[4]));const v=h[5];v&&(u=v)}else o=n;if(!t){let h=!1,_=e.length;o<0&&(e.push(function p3(){return new l.vHH(3100,!1)}()),h=!0),a<0&&(e.push(function g3(){return new l.vHH(3101,!1)}()),h=!0),h&&e.splice(_,0,qR())}return{duration:o,delay:a,easing:u}}(n,e,t)}function eC(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function nN(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Jf(n,e=new Map,t){if(t)for(let[r,o]of t)e.set(r,o);for(let[r,o]of n)e.set(r,o);return e}function oN(n,e,t){return t?e+":"+t+";":""}function iN(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=oN(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=oN(0,o4(t),n.style[t]));n.setAttribute("style",e)}function kc(n,e,t){n.style&&(e.forEach((r,o)=>{const a=LS(o);t&&!t.has(o)&&t.set(o,n.style[a]),n.style[a]=r}),TS()&&iN(n))}function ip(n,e){n.style&&(e.forEach((t,r)=>{const o=LS(r);n.style[o]=""}),TS()&&iN(n))}function tC(n){return Array.isArray(n)?1==n.length?n[0]:GI(n):n}const FS=new RegExp("{{\\s*(.+?)\\s*}}","g");function sN(n){let e=[];if("string"==typeof n){let t;for(;t=FS.exec(n);)e.push(t[1]);FS.lastIndex=0}return e}function nC(n,e,t){const r=n.toString(),o=r.replace(FS,(a,u)=>{let h=e[u];return null==h&&(t.push(function _3(n){return new l.vHH(3003,!1)}()),h=""),h.toString()});return o==r?n:o}function jM(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const r4=/-+([a-z0-9])/g;function LS(n){return n.replace(r4,(...e)=>e[1].toUpperCase())}function o4(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function as(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function y3(n){return new l.vHH(3004,!1)}()}}function aN(n,e){return window.getComputedStyle(n)[e]}const GM="*";function u4(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function f4(n,e,t){if(":"==n[0]){const _=function d4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function x3(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function A3(n){return new l.vHH(3015,!1)}()),e;const o=r[1],a=r[2],u=r[3];e.push(cN(o,u));"<"==a[0]&&!(o==GM&&u==GM)&&e.push(cN(u,o))}(r,t,e)):t.push(n),t}const WM=new Set(["true","1"]),ZM=new Set(["false","0"]);function cN(n,e){const t=WM.has(n)||ZM.has(n),r=WM.has(e)||ZM.has(e);return(o,a)=>{let u=n==GM||n==o,h=e==GM||e==a;return!u&&t&&"boolean"==typeof o&&(u=o?WM.has(n):ZM.has(n)),!h&&r&&"boolean"==typeof a&&(h=a?WM.has(e):ZM.has(e)),u&&h}}const h4=new RegExp("s*:selfs*,?","g");function US(n,e,t,r){return new p4(n).build(e,t,r)}class p4{constructor(e){this._driver=e}build(e,t,r){const o=new _4(t);return this._resetContextStyleTimingState(o),as(this,tC(e),o)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,o=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function v3(){return new l.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const _=h,v=_.name;v.toString().split(/\s*,\s*/).forEach(M=>{_.name=M,a.push(this.visitState(_,t))}),_.name=v}else if(1==h.type){const _=this.visitTransition(h,t);r+=_.queryCount,o+=_.depCount,u.push(_)}else t.errors.push(function C3(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:r,depCount:o,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,u=o||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(_=>{sN(_).forEach(v=>{u.hasOwnProperty(v)||a.add(v)})})}),a.size&&(jM(a.values()),t.errors.push(function w3(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=as(this,tC(e.animation),t);return{type:1,matchers:u4(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:sp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>as(this,r,t)),options:sp(e.options)}}visitGroup(e,t){const r=t.currentTime;let o=0;const a=e.steps.map(u=>{t.currentTime=r;const h=as(this,u,t);return o=Math.max(o,t.currentTime),h});return t.currentTime=o,{type:3,steps:a,options:sp(e.options)}}visitAnimate(e,t){const r=function b4(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return VS($M(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=VS(0,0,"");return a.dynamic=!0,a.strValue=t,a}const o=$M(t,e);return VS(o.duration,o.delay,o.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let o,a=e.styles?e.styles:wl({});if(5==a.type)o=this.visitKeyframes(a,t);else{let u=e.styles,h=!1;if(!u){h=!0;const v={};r.easing&&(v.easing=r.easing),u=wl(v)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(u,t);_.isEmptyStep=h,o=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],o=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of o)"string"==typeof h?h===sa?r.push(h):t.errors.push(new l.vHH(3002,!1)):r.push(nN(h));let a=!1,u=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!a))for(let _ of h.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let o=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,_)=>{const v=t.collectedStyles.get(t.currentQuerySelector),M=v.get(_);let D=!0;M&&(a!=o&&a>=M.startTime&&o<=M.endTime&&(t.errors.push(function M3(n,e,t,r,o){return new l.vHH(3010,!1)}()),D=!1),a=M.startTime),D&&v.set(_,{startTime:a,endTime:o}),t.options&&function n4(n,e,t){const r=e.params||{},o=sN(n);o.length&&o.forEach(a=>{r.hasOwnProperty(a)||t.push(function m3(n){return new l.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function I3(){return new l.vHH(3011,!1)}()),r;let a=0;const u=[];let h=!1,_=!1,v=0;const M=e.steps.map(Ve=>{const rt=this._makeStyleAst(Ve,t);let tt=null!=rt.offset?rt.offset:function y4(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(rt.styles),ot=0;return null!=tt&&(a++,ot=rt.offset=tt),_=_||ot<0||ot>1,h=h||ot<v,v=ot,u.push(ot),rt});_&&t.errors.push(function T3(){return new l.vHH(3012,!1)}()),h&&t.errors.push(function P3(){return new l.vHH(3200,!1)}());const D=e.steps.length;let L=0;a>0&&a<D?t.errors.push(function D3(){return new l.vHH(3202,!1)}()):0==a&&(L=1/(D-1));const B=D-1,Z=t.currentTime,oe=t.currentAnimateTimings,ue=oe.duration;return M.forEach((Ve,rt)=>{const tt=L>0?rt==B?1:L*rt:u[rt],ot=tt*ue;t.currentTime=Z+oe.delay+ot,oe.duration=ot,this._validateStyleAst(Ve,t),Ve.offset=tt,r.styles.push(Ve)}),r}visitReference(e,t){return{type:8,animation:as(this,tC(e.animation),t),options:sp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:sp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:sp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function g4(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(h4,"")),n=n.replace(/@\*/g,HM).replace(/@\w+/g,t=>HM+"-"+t.slice(1)).replace(/:animating/g,RS),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,ss(t.collectedStyles,t.currentQuerySelector,new Map);const h=as(this,tC(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:o.limit||0,optional:!!o.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:sp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function O3(){return new l.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:$M(e.timings,t.errors,!0);return{type:12,animation:as(this,tC(e.animation),t),timings:r,options:null}}}class _4{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function sp(n){return n?(n=eC(n)).params&&(n.params=function m4(n){return n?eC(n):null}(n.params)):n={},n}function VS(n,e,t){return{duration:n,delay:e,easing:t}}function BS(n,e,t,r,o,a,u=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:o,delay:a,totalTime:o+a,easing:u,subTimeline:h}}class KM{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const w4=new RegExp(":enter","g"),M4=new RegExp(":leave","g");function HS(n,e,t,r,o,a=new Map,u=new Map,h,_,v=[]){return(new I4).buildKeyframes(n,e,t,r,o,a,u,h,_,v)}class I4{buildKeyframes(e,t,r,o,a,u,h,_,v,M=[]){v=v||new KM;const D=new $S(e,t,v,o,a,M,[]);D.options=_;const L=_.delay?Zl(_.delay):0;D.currentTimeline.delayNextStep(L),D.currentTimeline.setStyles([u],null,D.errors,_),as(this,r,D);const B=D.timelines.filter(Z=>Z.containsAnimation());if(B.length&&h.size){let Z;for(let oe=B.length-1;oe>=0;oe--){const ue=B[oe];if(ue.element===t){Z=ue;break}}Z&&!Z.allowOnlyTimelineStyles()&&Z.setStyles([h],null,D.errors,_)}return B.length?B.map(Z=>Z.buildKeyframes()):[BS(t,[],[],[],0,L,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const o=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,o,o.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const o of e){const a=o?.delay;if(a){const u="number"==typeof a?a:Zl(nC(a,o?.params??{},t.errors));r.delayNextStep(u)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const u=null!=r.duration?Zl(r.duration):null,h=null!=r.delay?Zl(r.delay):null;return 0!==u&&e.forEach(_=>{const v=t.appendInstructionToTimeline(_,u,h);a=Math.max(a,v.duration+v.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),as(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let o=t;const a=e.options;if(a&&(a.params||a.delay)&&(o=t.createSubContext(a),o.transformIntoNewTimeline(),null!=a.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=YM);const u=Zl(a.delay);o.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>as(this,u,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let o=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Zl(e.options.delay):0;e.steps.forEach(u=>{const h=t.createSubContext(e.options);a&&h.delayNextStep(a),as(this,u,h),o=Math.max(o,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return $M(t.params?nC(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),o.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,o=t.currentAnimateTimings;!o&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=o&&o.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,o=t.currentTimeline.duration,a=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(_=>{h.forwardTime((_.offset||0)*a),h.setStyles(_.styles,_.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(o+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,o=e.options||{},a=o.delay?Zl(o.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=YM);let u=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=h.length;let _=null;h.forEach((v,M)=>{t.currentQueryIndex=M;const D=t.createSubContext(e.options,v);a&&D.delayNextStep(a),v===t.element&&(_=D.currentTimeline),as(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,o=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),h=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=h-_;break;case"full":_=r.currentStaggerTime}const M=t.currentTimeline;_&&M.delayNextStep(_);const D=M.currentTime;as(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=o.currentTime-D+(o.startTime-r.currentTimeline.startTime)}}const YM={};class $S{constructor(e,t,r,o,a,u,h,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=a,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=YM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new QM(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let o=this.options;null!=r.duration&&(o.duration=Zl(r.duration)),null!=r.delay&&(o.delay=Zl(r.delay));const a=r.params;if(a){let u=o.params;u||(u=this.options.params={}),Object.keys(a).forEach(h=>{(!t||!u.hasOwnProperty(h))&&(u[h]=nC(a[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(o=>{r[o]=t[o]})}}return e}createSubContext(e=null,t,r){const o=t||this.element,a=new $S(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=YM,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const o={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new T4(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(a),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,o,a,u){let h=[];if(o&&h.push(this.element),e.length>0){e=(e=e.replace(w4,"."+this._enterClassName)).replace(M4,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),h.push(...v)}return!a&&0==h.length&&u.push(function S3(n){return new l.vHH(3014,!1)}()),h}}class QM{constructor(e,t,r,o){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new QM(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||sa),this._currentKeyframe.set(t,sa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,o){t&&this._previousKeyframe.set("easing",t);const a=o&&o.params||{},u=function P4(n,e){const t=new Map;let r;return n.forEach(o=>{if("*"===o){r=r||e.keys();for(let a of r)t.set(a,sa)}else Jf(o,t)}),t}(e,this._globalTimelineStyles);for(let[h,_]of u){const v=nC(_,a,r);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??sa),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const o=this._styleSummary.get(r);(!o||t.time>o.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((h,_)=>{const v=Jf(h,new Map,this._backFill);v.forEach((M,D)=>{M===aa?e.add(D):M===sa&&t.add(D)}),r||v.set("offset",_/this.duration),o.push(v)});const a=e.size?jM(e.values()):[],u=t.size?jM(t.values()):[];if(r){const h=o[0],_=new Map(h);h.set("offset",0),_.set("offset",1),o=[h,_]}return BS(this.element,o,a,u,this.duration,this.startTime,this.easing,!1)}}class T4 extends QM{constructor(e,t,r,o,a,u,h=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=a,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=r+t,h=t/u,_=Jf(e[0]);_.set("offset",0),a.push(_);const v=Jf(e[0]);v.set("offset",fN(h)),a.push(v);const M=e.length-1;for(let D=1;D<=M;D++){let L=Jf(e[D]);const B=L.get("offset");L.set("offset",fN((t+B*r)/u)),a.push(L)}r=u,t=0,o="",e=a}return BS(this.element,e,this.preStyleProps,this.postStyleProps,r,t,o,!0)}}function fN(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class jS{}const D4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class O4 extends jS{normalizePropertyName(e,t){return LS(e)}normalizeStyleValue(e,t,r,o){let a="";const u=r.toString().trim();if(D4.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&o.push(function b3(n,e){return new l.vHH(3005,!1)}())}return u+a}}function dN(n,e,t,r,o,a,u,h,_,v,M,D,L){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:a,toState:r,toStyles:u,timelines:h,queriedElements:_,preStyleProps:v,postStyleProps:M,totalTime:D,errors:L}}const zS={};class hN{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,o){return function S4(n,e,t,r,o){return n.some(a=>a(e,t,r,o))}(this.ast.matchers,e,t,r,o)}buildStyles(e,t,r){let o=this._stateStyles.get("*");return void 0!==e&&(o=this._stateStyles.get(e?.toString())||o),o?o.buildStyles(t,r):new Map}build(e,t,r,o,a,u,h,_,v,M){const D=[],L=this.ast.options&&this.ast.options.params||zS,Z=this.buildStyles(r,h&&h.params||zS,D),oe=_&&_.params||zS,ue=this.buildStyles(o,oe,D),Ve=new Set,rt=new Map,tt=new Map,ot="void"===o,Wt={params:A4(oe,L),delay:this.ast.options?.delay},Zt=M?[]:HS(e,t,this.ast.animation,a,u,Z,ue,Wt,v,D);let Sn=0;if(Zt.forEach(pi=>{Sn=Math.max(pi.duration+pi.delay,Sn)}),D.length)return dN(t,this._triggerName,r,o,ot,Z,ue,[],[],rt,tt,Sn,D);Zt.forEach(pi=>{const Yl=pi.element,z2=ss(rt,Yl,new Set);pi.preStyleProps.forEach(dp=>z2.add(dp));const CC=ss(tt,Yl,new Set);pi.postStyleProps.forEach(dp=>CC.add(dp)),Yl!==t&&Ve.add(Yl)});const Kr=jM(Ve.values());return dN(t,this._triggerName,r,o,ot,Z,ue,Zt,Kr,rt,tt,Sn)}}function A4(n,e){const t=eC(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class x4{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,o=eC(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!==u&&(o[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,h)=>{u&&(u=nC(u,o,t));const _=this.normalizer.normalizePropertyName(h,t);u=this.normalizer.normalizeStyleValue(h,_,u,t),r.set(h,u)})}),r}}class R4{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(o=>{this.states.set(o.name,new x4(o.style,o.options&&o.options.params||{},r))}),pN(this.states,"true","1"),pN(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new hN(e,o,this.states))}),this.fallbackTransition=function N4(n,e,t){return new hN(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,o){return this.transitionFactories.find(u=>u.match(e,t,r,o))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function pN(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const F4=new KM;class L4{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],o=[],a=US(this._driver,t,r,o);if(r.length)throw function L3(n){return new l.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const o=e.element,a=GR(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(o,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const o=[],a=this._animations.get(e);let u;const h=new Map;if(a?(u=HS(this._driver,t,a,kS,VM,new Map,new Map,r,F4,o),u.forEach(M=>{const D=ss(h,M.element,new Map);M.postStyleProps.forEach(L=>D.set(L,null))})):(o.push(function U3(){return new l.vHH(3300,!1)}()),u=[]),o.length)throw function V3(n){return new l.vHH(3504,!1)}();h.forEach((M,D)=>{M.forEach((L,B)=>{M.set(B,this._driver.computeStyle(D,B,sa))})});const v=Qf(u.map(M=>{const D=h.get(M.element);return this._buildPlayer(M,new Map,D)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function B3(n){return new l.vHH(3301,!1)}();return t}listen(e,t,r,o){const a=OS(t,"","","");return PS(this._getPlayer(e),r,a,o),()=>{}}command(e,t,r,o){if("register"==r)return void this.register(e,o[0]);if("create"==r)return void this.create(e,t,o[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const gN="ng-animate-queued",qS="ng-animate-disabled",$4=[],mN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},j4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ls="__ng_removed";class GS{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function W4(n){return n??null}(r?e.value:e),r){const a=eC(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(o=>{null==r[o]&&(r[o]=t[o])})}}}const rC="void",WS=new GS(rC);class z4{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Us(t,this._hostClassName)}listen(e,t,r,o){if(!this._triggers.has(t))throw function H3(n,e){return new l.vHH(3302,!1)}();if(null==r||0==r.length)throw function $3(n){return new l.vHH(3303,!1)}();if(!function Z4(n){return"start"==n||"done"==n}(r))throw function j3(n,e){return new l.vHH(3400,!1)}();const a=ss(this._elementListeners,e,[]),u={name:t,phase:r,callback:o};a.push(u);const h=ss(this._engine.statesByElement,e,new Map);return h.has(t)||(Us(e,BM),Us(e,BM+"-"+t),h.set(t,WS)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function z3(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,r,o=!0){const a=this._getTrigger(t),u=new ZS(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Us(e,BM),Us(e,BM+"-"+t),this._engine.statesByElement.set(e,h=new Map));let _=h.get(t);const v=new GS(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&v.absorbOptions(_.options),h.set(t,v),_||(_=WS),v.value!==rC&&_.value===v.value){if(!function Q4(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let o=0;o<t.length;o++){const a=t[o];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,v.params)){const oe=[],ue=a.matchStyles(_.value,_.params,oe),Ve=a.matchStyles(v.value,v.params,oe);oe.length?this._engine.reportError(oe):this._engine.afterFlush(()=>{ip(e,ue),kc(e,Ve)})}return}const L=ss(this._engine.playersByElement,e,[]);L.forEach(oe=>{oe.namespaceId==this.id&&oe.triggerName==t&&oe.queued&&oe.destroy()});let B=a.matchTransition(_.value,v.value,e,v.params),Z=!1;if(!B){if(!o)return;B=a.fallbackTransition,Z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:_,toState:v,player:u,isFallbackTransition:Z}),Z||(Us(e,gN),u.onStart(()=>{Xm(e,gN)})),u.onDone(()=>{let oe=this.players.indexOf(u);oe>=0&&this.players.splice(oe,1);const ue=this._engine.playersByElement.get(e);if(ue){let Ve=ue.indexOf(u);Ve>=0&&ue.splice(Ve,1)}}),this.players.push(u),L.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,HM,!0);r.forEach(o=>{if(o[Ls])return;const a=this._engine.fetchNamespacesByElement(o);a.size?a.forEach(u=>u.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,r,o){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const h=[];if(a.forEach((_,v)=>{if(u.set(v,_.value),this._triggers.has(v)){const M=this.trigger(e,v,rC,o);M&&h.push(M)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&Qf(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const o=new Set;t.forEach(a=>{const u=a.name;if(o.has(u))return;o.add(u);const _=this._triggers.get(u).fallbackTransition,v=r.get(u)||WS,M=new GS(rC),D=new ZS(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:v,toState:M,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)o=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Ls];(!a||a===mN)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Us(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const a=r.element,u=this._elementListeners.get(a);u&&u.forEach(h=>{if(h.name==r.triggerName){const _=OS(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,PS(r.player,h.phase,_,h.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(r)}),this._queue=[],t.sort((r,o)=>{const a=r.transition.ast.depCount,u=o.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class q4{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new z4(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,o=this.namespacesByHostElement;if(r.length-1>=0){let u=!1,h=this.driver.getParentElement(t);for(;h;){const _=o.get(h);if(_){const v=r.indexOf(_);r.splice(v+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}u||r.unshift(e)}else r.push(e);return o.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let o=this._namespaceLookup[e];o&&o.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let o of r.values())if(o.namespaceId){const a=this._fetchNamespace(o.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,o){if(JM(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,o),!0}return!1}insertNode(e,t,r,o){if(!JM(t))return;const a=t[Ls];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Us(e,qS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Xm(e,qS))}removeNode(e,t,r,o){if(JM(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,o)}}else this._onRemovalComplete(t,o)}markElementAsRemoved(e,t,r,o,a){this.collectedLeaveElements.push(t),t[Ls]={namespaceId:e,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,o,a){return JM(t)?this._fetchNamespace(e).listen(t,r,o,a):()=>{}}_buildInstruction(e,t,r,o,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,o,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,HM,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,RS,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Qf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ls];if(t&&t.setForRemoval){if(e[Ls]=mN,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(qS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Us(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Qf(t).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(e){throw function q3(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new KM,o=[],a=new Map,u=[],h=new Map,_=new Map,v=new Map,M=new Set;this.disabledNodes.forEach(Rt=>{M.add(Rt);const Kt=this.driver.query(Rt,".ng-animate-queued",!0);for(let on=0;on<Kt.length;on++)M.add(Kt[on])});const D=this.bodyNode,L=Array.from(this.statesByElement.keys()),B=bN(L,this.collectedEnterElements),Z=new Map;let oe=0;B.forEach((Rt,Kt)=>{const on=kS+oe++;Z.set(Kt,on),Rt.forEach(jn=>Us(jn,on))});const ue=[],Ve=new Set,rt=new Set;for(let Rt=0;Rt<this.collectedLeaveElements.length;Rt++){const Kt=this.collectedLeaveElements[Rt],on=Kt[Ls];on&&on.setForRemoval&&(ue.push(Kt),Ve.add(Kt),on.hasAnimation?this.driver.query(Kt,".ng-star-inserted",!0).forEach(jn=>Ve.add(jn)):rt.add(Kt))}const tt=new Map,ot=bN(L,Array.from(Ve));ot.forEach((Rt,Kt)=>{const on=VM+oe++;tt.set(Kt,on),Rt.forEach(jn=>Us(jn,on))}),e.push(()=>{B.forEach((Rt,Kt)=>{const on=Z.get(Kt);Rt.forEach(jn=>Xm(jn,on))}),ot.forEach((Rt,Kt)=>{const on=tt.get(Kt);Rt.forEach(jn=>Xm(jn,on))}),ue.forEach(Rt=>{this.processLeaveNode(Rt)})});const Wt=[],Zt=[];for(let Rt=this._namespaceList.length-1;Rt>=0;Rt--)this._namespaceList[Rt].drainQueuedTransitions(t).forEach(on=>{const jn=on.player,zo=on.element;if(Wt.push(jn),this.collectedEnterElements.length){const gi=zo[Ls];if(gi&&gi.setForMove){if(gi.previousTriggersValues&&gi.previousTriggersValues.has(on.triggerName)){const hp=gi.previousTriggersValues.get(on.triggerName),Hs=this.statesByElement.get(on.element);if(Hs&&Hs.has(on.triggerName)){const CI=Hs.get(on.triggerName);CI.value=hp,Hs.set(on.triggerName,CI)}}return void jn.destroy()}}const Fc=!D||!this.driver.containsElement(D,zo),ls=tt.get(zo),rd=Z.get(zo),Yr=this._buildInstruction(on,r,rd,ls,Fc);if(Yr.errors&&Yr.errors.length)return void Zt.push(Yr);if(Fc)return jn.onStart(()=>ip(zo,Yr.fromStyles)),jn.onDestroy(()=>kc(zo,Yr.toStyles)),void o.push(jn);if(on.isFallbackTransition)return jn.onStart(()=>ip(zo,Yr.fromStyles)),jn.onDestroy(()=>kc(zo,Yr.toStyles)),void o.push(jn);const W2=[];Yr.timelines.forEach(gi=>{gi.stretchStartingKeyframe=!0,this.disabledNodes.has(gi.element)||W2.push(gi)}),Yr.timelines=W2,r.append(zo,Yr.timelines),u.push({instruction:Yr,player:jn,element:zo}),Yr.queriedElements.forEach(gi=>ss(h,gi,[]).push(jn)),Yr.preStyleProps.forEach((gi,hp)=>{if(gi.size){let Hs=_.get(hp);Hs||_.set(hp,Hs=new Set),gi.forEach((CI,R1)=>Hs.add(R1))}}),Yr.postStyleProps.forEach((gi,hp)=>{let Hs=v.get(hp);Hs||v.set(hp,Hs=new Set),gi.forEach((CI,R1)=>Hs.add(R1))})});if(Zt.length){const Rt=[];Zt.forEach(Kt=>{Rt.push(function G3(n,e){return new l.vHH(3505,!1)}())}),Wt.forEach(Kt=>Kt.destroy()),this.reportError(Rt)}const Sn=new Map,Kr=new Map;u.forEach(Rt=>{const Kt=Rt.element;r.has(Kt)&&(Kr.set(Kt,Kt),this._beforeAnimationBuild(Rt.player.namespaceId,Rt.instruction,Sn))}),o.forEach(Rt=>{const Kt=Rt.element;this._getPreviousPlayers(Kt,!1,Rt.namespaceId,Rt.triggerName,null).forEach(jn=>{ss(Sn,Kt,[]).push(jn),jn.destroy()})});const pi=ue.filter(Rt=>CN(Rt,_,v)),Yl=new Map;yN(Yl,this.driver,rt,v,sa).forEach(Rt=>{CN(Rt,_,v)&&pi.push(Rt)});const CC=new Map;B.forEach((Rt,Kt)=>{yN(CC,this.driver,new Set(Rt),_,aa)}),pi.forEach(Rt=>{const Kt=Yl.get(Rt),on=CC.get(Rt);Yl.set(Rt,new Map([...Array.from(Kt?.entries()??[]),...Array.from(on?.entries()??[])]))});const dp=[],q2=[],G2={};u.forEach(Rt=>{const{element:Kt,player:on,instruction:jn}=Rt;if(r.has(Kt)){if(M.has(Kt))return on.onDestroy(()=>kc(Kt,jn.toStyles)),on.disabled=!0,on.overrideTotalTime(jn.totalTime),void o.push(on);let zo=G2;if(Kr.size>1){let ls=Kt;const rd=[];for(;ls=ls.parentNode;){const Yr=Kr.get(ls);if(Yr){zo=Yr;break}rd.push(ls)}rd.forEach(Yr=>Kr.set(Yr,zo))}const Fc=this._buildAnimation(on.namespaceId,jn,Sn,a,CC,Yl);if(on.setRealPlayer(Fc),zo===G2)dp.push(on);else{const ls=this.playersByElement.get(zo);ls&&ls.length&&(on.parentPlayer=Qf(ls)),o.push(on)}}else ip(Kt,jn.fromStyles),on.onDestroy(()=>kc(Kt,jn.toStyles)),q2.push(on),M.has(Kt)&&o.push(on)}),q2.forEach(Rt=>{const Kt=a.get(Rt.element);if(Kt&&Kt.length){const on=Qf(Kt);Rt.setRealPlayer(on)}}),o.forEach(Rt=>{Rt.parentPlayer?Rt.syncPlayerEvents(Rt.parentPlayer):Rt.destroy()});for(let Rt=0;Rt<ue.length;Rt++){const Kt=ue[Rt],on=Kt[Ls];if(Xm(Kt,VM),on&&on.hasAnimation)continue;let jn=[];if(h.size){let Fc=h.get(Kt);Fc&&Fc.length&&jn.push(...Fc);let ls=this.driver.query(Kt,RS,!0);for(let rd=0;rd<ls.length;rd++){let Yr=h.get(ls[rd]);Yr&&Yr.length&&jn.push(...Yr)}}const zo=jn.filter(Fc=>!Fc.destroyed);zo.length?K4(this,Kt,zo):this.processLeaveNode(Kt)}return ue.length=0,dp.forEach(Rt=>{this.players.push(Rt),Rt.onDone(()=>{Rt.destroy();const Kt=this.players.indexOf(Rt);this.players.splice(Kt,1)}),Rt.play()}),dp}elementContainsData(e,t){let r=!1;const o=t[Ls];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,o,a){let u=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const _=!a||a==rC;h.forEach(v=>{v.queued||!_&&v.triggerName!=o||u.push(v)})}}return(r||o)&&(u=u.filter(h=>!(r&&r!=h.namespaceId||o&&o!=h.triggerName))),u}_beforeAnimationBuild(e,t,r){const a=t.element,u=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const v=_.element,M=v!==a,D=ss(r,v,[]);this._getPreviousPlayers(v,M,u,h,t.toState).forEach(B=>{const Z=B.getRealPlayer();Z.beforeDestroy&&Z.beforeDestroy(),B.destroy(),D.push(B)})}ip(a,t.fromStyles)}_buildAnimation(e,t,r,o,a,u){const h=t.triggerName,_=t.element,v=[],M=new Set,D=new Set,L=t.timelines.map(Z=>{const oe=Z.element;M.add(oe);const ue=oe[Ls];if(ue&&ue.removedBeforeQueried)return new El(Z.duration,Z.delay);const Ve=oe!==_,rt=function Y4(n){const e=[];return vN(n,e),e}((r.get(oe)||$4).map(Sn=>Sn.getRealPlayer())).filter(Sn=>!!Sn.element&&Sn.element===oe),tt=a.get(oe),ot=u.get(oe),Wt=GR(0,this._normalizer,0,Z.keyframes,tt,ot),Zt=this._buildPlayer(Z,Wt,rt);if(Z.subTimeline&&o&&D.add(oe),Ve){const Sn=new ZS(e,h,oe);Sn.setRealPlayer(Zt),v.push(Sn)}return Zt});v.forEach(Z=>{ss(this.playersByQueriedElement,Z.element,[]).push(Z),Z.onDone(()=>function G4(n,e,t){let r=n.get(e);if(r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Z.element,Z))}),M.forEach(Z=>Us(Z,tN));const B=Qf(L);return B.onDestroy(()=>{M.forEach(Z=>Xm(Z,tN)),kc(_,t.toStyles)}),D.forEach(Z=>{ss(o,Z,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new El(e.duration,e.delay)}}class ZS{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new El,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(o=>PS(e,r,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ss(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function JM(n){return n&&1===n.nodeType}function _N(n,e){const t=n.style.display;return n.style.display=e??"none",t}function yN(n,e,t,r,o){const a=[];t.forEach(_=>a.push(_N(_)));const u=[];r.forEach((_,v)=>{const M=new Map;_.forEach(D=>{const L=e.computeStyle(v,D,o);M.set(D,L),(!L||0==L.length)&&(v[Ls]=j4,u.push(v))}),n.set(v,M)});let h=0;return t.forEach(_=>_N(_,a[h++])),u}function bN(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=1,o=new Set(e),a=new Map;function u(h){if(!h)return r;let _=a.get(h);if(_)return _;const v=h.parentNode;return _=t.has(v)?v:o.has(v)?r:u(v),a.set(h,_),_}return e.forEach(h=>{const _=u(h);_!==r&&t.get(_).push(h)}),t}function Us(n,e){n.classList?.add(e)}function Xm(n,e){n.classList?.remove(e)}function K4(n,e,t){Qf(t).onDone(()=>n.processLeaveNode(e))}function vN(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Gd?vN(r.players,e):e.push(r)}}function CN(n,e,t){const r=t.get(n);if(!r)return!1;let o=e.get(n);return o?r.forEach(a=>o.add(a)):e.set(n,r),t.delete(n),!0}class XM{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,a)=>{},this._transitionEngine=new q4(e,t,r),this._timelineEngine=new L4(e,t,r),this._transitionEngine.onRemovalComplete=(o,a)=>this.onRemovalComplete(o,a)}registerTrigger(e,t,r,o,a){const u=e+"-"+o;let h=this._triggerCache[u];if(!h){const _=[],v=[],M=US(this._driver,a,_,v);if(_.length)throw function N3(n,e){return new l.vHH(3404,!1)}();h=function k4(n,e,t){return new R4(n,e,t)}(o,M,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(t,o,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,o){this._transitionEngine.insertNode(e,t,r,o)}onRemove(e,t,r,o){this._transitionEngine.removeNode(e,t,o||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,o){if("@"==r.charAt(0)){const[a,u]=WR(r);this._timelineEngine.command(a,t,u,o)}else this._transitionEngine.trigger(e,t,r,o)}listen(e,t,r,o,a){if("@"==r.charAt(0)){const[u,h]=WR(r);return this._timelineEngine.listen(u,t,h,a)}return this._transitionEngine.listen(e,t,r,o,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let X4=(()=>{class n{constructor(t,r,o){this._element=t,this._startStyles=r,this._endStyles=o,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&kc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(kc(this._element,this._initialStyles),this._endStyles&&(kc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ip(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ip(this._element,this._endStyles),this._endStyles=null),kc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function KS(n){let e=null;return n.forEach((t,r)=>{(function e6(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class wN{constructor(e,t,r,o){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,o)=>{"offset"!==o&&e.set(o,this._finished?r:aN(this.element,o))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class t6{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return QR(e,t)}getParentElement(e){return AS(e)}query(e,t,r){return JR(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,o,a,u=[]){const _={duration:r,delay:o,fill:0==o?"both":"forwards"};a&&(_.easing=a);const v=new Map,M=u.filter(B=>B instanceof wN);(function i4(n,e){return 0===n||0===e})(r,o)&&M.forEach(B=>{B.currentSnapshot.forEach((Z,oe)=>v.set(oe,Z))});let D=function t4(n){return n.length?n[0]instanceof Map?n:n.map(e=>nN(e)):[]}(t).map(B=>Jf(B));D=function s4(n,e,t){if(t.size&&e.length){let r=e[0],o=[];if(t.forEach((a,u)=>{r.has(u)||o.push(u),r.set(u,a)}),o.length)for(let a=1;a<e.length;a++){let u=e[a];o.forEach(h=>u.set(h,aN(n,h)))}}return e}(e,D,v);const L=function J4(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=KS(e[0]),e.length>1&&(r=KS(e[e.length-1]))):e instanceof Map&&(t=KS(e)),t||r?new X4(n,t,r):null}(e,D);return new wN(e,D,_,L)}}let n6=(()=>{class n extends X_{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?GI(t):t;return EN(this._renderer,null,r,"register",[o]),new r6(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class r6 extends qI{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new o6(this._id,e,t||{},this._renderer)}}class o6{constructor(e,t,r,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return EN(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function EN(n,e,t,r,o){return n.setProperty(e,`@@${t}:${r}`,o)}const MN="@.disabled";let i6=(()=>{class n{constructor(t,r,o){this.delegate=t,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,u)=>{const h=u?.parentNode(a);h&&u.removeChild(h,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let M=this._rendererCache.get(a);return M||(M=new IN("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,M)),M}const u=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const _=M=>{Array.isArray(M)?M.forEach(_):this.engine.registerTrigger(u,h,t,M.name,M)};return r.data.animation.forEach(_),new s6(this,h,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,o){t>=0&&t<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,h]=a;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(XM),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class IN{constructor(e,t,r,o){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=o,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,o=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==MN?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class s6 extends IN{constructor(e,t,r,o,a){super(t,r,o,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==MN?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const o=function a6(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function c6(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,o,a,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let l6=(()=>{class n extends XM{constructor(t,r,o,a){super(t.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(se),l.LFG(xS),l.LFG(jS),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const TN=[{provide:X_,useClass:n6},{provide:jS,useFactory:function u6(){return new O4}},{provide:XM,useClass:l6},{provide:l.FYo,useFactory:function f6(n,e,t){return new i6(n,e,t)},deps:[Io,XM,l.R0b]}],YS=[{provide:xS,useFactory:()=>new t6},{provide:l.QbO,useValue:"BrowserAnimations"},...TN],PN=[{provide:xS,useClass:XR},{provide:l.QbO,useValue:"NoopAnimations"},...TN];let d6=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?PN:YS}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:YS,imports:[ea]}),n})();class Vs extends Uo.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var h6=F(9672);function DN(...n){const e=(0,qa.yG)(n),t=(0,qa.jO)(n),{args:r,keys:o}=Rp(n);if(0===r.length)return(0,In.D)([],e);const a=new _o.y(function p6(n,e,t=Qd.y){return r=>{ON(e,()=>{const{length:o}=n,a=new Array(o);let u=o,h=o;for(let _=0;_<o;_++)ON(e,()=>{const v=(0,In.D)(n[_],e);let M=!1;v.subscribe((0,zr.x)(r,D=>{a[_]=D,M||(M=!0,h--),h||r.next(t(a.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,o?u=>Cs(o,u):Qd.y));return t?a.pipe(Ad(t)):a}function ON(n,e,t){n?(0,h6.f)(t,n,e):e()}function SN(n){return new _o.y(e=>{(0,ol.Xf)(n()).subscribe(e)})}var g6=F(9635);function oC(n,e){const t=(0,ay.m)(n)?n:()=>n,r=o=>o.error(t());return new _o.y(e?o=>e.schedule(r,0,o):r)}var AN=F(727);function QS(){return(0,Vo.e)((n,e)=>{let t=null;n._refCount++;const r=(0,zr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,a=t;t=null,o&&(!a||o===a)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class xN extends _o.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Vo.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new AN.w0;const t=this.getSubject();e.add(this.source.subscribe((0,zr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=AN.w0.EMPTY)}return e}refCount(){return QS()(this)}}var hi=F(8505);function Xf(n){return(0,Vo.e)((e,t)=>{let a,r=null,o=!1;r=e.subscribe((0,zr.x)(t,void 0,void 0,u=>{a=(0,ol.Xf)(n(u,Xf(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,a.subscribe(t))})}function JS(n){return n<=0?()=>fa.E:(0,Vo.e)((e,t)=>{let r=[];e.subscribe((0,zr.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function kN(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ao((o,a)=>n(o,a,r)):Qd.y,JS(1),t?pg(e):gg(()=>new hg))}function XS(n){return(0,Vo.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const yn="primary",iC=Symbol("RouteTitle");class y6{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function e_(n){return new y6(n)}function b6(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let a=0;a<r.length;a++){const u=r[a],h=n[a];if(u.startsWith(":"))o[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Rc(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let a=0;a<t.length;a++)if(o=t[a],!RN(n[o],e[o]))return!1;return!0}function RN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,a)=>r[a]===o)}return n===e}function NN(n){return Array.prototype.concat.apply([],n)}function FN(n){return n.length>0?n[n.length-1]:null}function ei(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ed(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,In.D)(Promise.resolve(n)):xt(n)}const tI=!1,C6={exact:function VN(n,e,t){if(!ap(n.segments,e.segments)||!nI(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!VN(n.children[r],e.children[r],t))return!1;return!0},subset:BN},LN={exact:function w6(n,e){return Rc(n,e)},subset:function E6(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>RN(n[t],e[t]))},ignored:()=>!0};function UN(n,e,t){return C6[t.paths](n.root,e.root,t.matrixParams)&&LN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function BN(n,e,t){return HN(n,e,e.segments,t)}function HN(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!ap(o,t)||e.hasChildren()||!nI(o,t,r))}if(n.segments.length===t.length){if(!ap(n.segments,t)||!nI(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!BN(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(ap(n.segments,o)&&nI(n.segments,o,r)&&n.children[yn])&&HN(n.children[yn],e,a,r)}}function nI(n,e,t){return e.every((r,o)=>LN[t](n[o].parameters,r.parameters))}class td{constructor(e=new wn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=e_(this.queryParams)),this._queryParamMap}toString(){return T6.serialize(this)}}class wn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ei(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rI(this)}}class sC{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=e_(this.parameters)),this._parameterMap}toString(){return zN(this)}}function ap(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let aC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new e1},providedIn:"root"}),n})();class e1{parse(e){const t=new N6(e);return new td(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${cC(e.root,!0)}`,r=function O6(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${oI(t)}=${oI(o)}`).join("&"):`${oI(t)}=${oI(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),o="string"==typeof e.fragment?`#${function P6(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${o}`}}const T6=new e1;function rI(n){return n.segments.map(e=>zN(e)).join("/")}function cC(n,e){if(!n.hasChildren())return rI(n);if(e){const t=n.children[yn]?cC(n.children[yn],!1):"",r=[];return ei(n.children,(o,a)=>{a!==yn&&r.push(`${a}:${cC(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function I6(n,e){let t=[];return ei(n.children,(r,o)=>{o===yn&&(t=t.concat(e(r,o)))}),ei(n.children,(r,o)=>{o!==yn&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===yn?[cC(n.children[yn],!1)]:[`${o}:${cC(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[yn]?`${rI(n)}/${t[0]}`:`${rI(n)}/(${t.join("//")})`}}function $N(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oI(n){return $N(n).replace(/%3B/gi,";")}function t1(n){return $N(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function iI(n){return decodeURIComponent(n)}function jN(n){return iI(n.replace(/\+/g,"%20"))}function zN(n){return`${t1(n.path)}${function D6(n){return Object.keys(n).map(e=>`;${t1(e)}=${t1(n[e])}`).join("")}(n.parameters)}`}const S6=/^[^\/()?;=#]+/;function sI(n){const e=n.match(S6);return e?e[0]:""}const A6=/^[^=?&#]+/,k6=/^[^&#]+/;class N6{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wn([],{}):new wn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[yn]=new wn(e,t)),r}parseSegment(){const e=sI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,tI);return this.capture(e),new sC(iI(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=sI(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=sI(this.remaining);o&&(r=o,this.capture(r))}e[iI(t)]=iI(r)}parseQueryParam(e){const t=function x6(n){const e=n.match(A6);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function R6(n){const e=n.match(k6);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const o=jN(t),a=jN(r);if(e.hasOwnProperty(o)){let u=e[o];Array.isArray(u)||(u=[u],e[o]=u),u.push(a)}else e[o]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=sI(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new l.vHH(4010,tI);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=yn);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[yn]:new wn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,tI)}}function n1(n){return n.segments.length>0?new wn([],{[yn]:n}):n}function aI(n){const e={};for(const r of Object.keys(n.children)){const a=aI(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function F6(n){if(1===n.numberOfChildren&&n.children[yn]){const e=n.children[yn];return new wn(n.segments.concat(e.segments),e.children)}return n}(new wn(n.segments,e))}function cp(n){return n instanceof td}const r1=!1;function L6(n,e,t,r,o){if(0===t.length)return t_(e.root,e.root,e.root,r,o);const a=function KN(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ZN(!0,0,n);let e=0,t=!1;const r=n.reduce((o,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return ei(a.outlets,(_,v)=>{h[v]="string"==typeof _?_.split("/"):_}),[...o,{outlets:h}]}if(a.segmentPath)return[...o,a.segmentPath]}return"string"!=typeof a?[...o,a]:0===u?(a.split("/").forEach((h,_)=>{0==_&&"."===h||(0==_&&""===h?t=!0:".."===h?e++:""!=h&&o.push(h))}),o):[...o,a]},[]);return new ZN(t,e,r)}(t);return a.toRoot()?t_(e.root,e.root,new wn([],{}),r,o):function u(_){const v=function V6(n,e,t,r){if(n.isAbsolute)return new n_(e.root,!0,0);if(-1===r)return new n_(t,t===e.root,0);return function YN(n,e,t){let r=n,o=e,a=t;for(;a>o;){if(a-=o,r=r.parent,!r)throw new l.vHH(4005,r1&&"Invalid number of '../'");o=r.segments.length}return new n_(r,!1,o-a)}(t,r+(lC(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),M=v.processChildren?r_(v.segmentGroup,v.index,a.commands):o1(v.segmentGroup,v.index,a.commands);return t_(e.root,v.segmentGroup,M,r,o)}(n.snapshot?._lastPathIndex)}function lC(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function uC(n){return"object"==typeof n&&null!=n&&n.outlets}function t_(n,e,t,r,o){let u,a={};r&&ei(r,(_,v)=>{a[v]=Array.isArray(_)?_.map(M=>`${M}`):`${_}`}),u=n===e?t:WN(n,e,t);const h=n1(aI(u));return new td(h,a,o)}function WN(n,e,t){const r={};return ei(n.children,(o,a)=>{r[a]=o===e?t:WN(o,e,t)}),new wn(n.segments,r)}class ZN{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&lC(r[0]))throw new l.vHH(4003,r1&&"Root segment cannot have matrix parameters");const o=r.find(uC);if(o&&o!==FN(r))throw new l.vHH(4004,r1&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class n_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function o1(n,e,t){if(n||(n=new wn([],{})),0===n.segments.length&&n.hasChildren())return r_(n,e,t);const r=function H6(n,e,t){let r=0,o=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return a;const u=n.segments[o],h=t[r];if(uC(h))break;const _=`${h}`,v=r<t.length-1?t[r+1]:null;if(o>0&&void 0===_)break;if(_&&v&&"object"==typeof v&&void 0===v.outlets){if(!JN(_,v,u))return a;r+=2}else{if(!JN(_,{},u))return a;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new wn(n.segments.slice(0,r.pathIndex),{});return a.children[yn]=new wn(n.segments.slice(r.pathIndex),n.children),r_(a,0,o)}return r.match&&0===o.length?new wn(n.segments,{}):r.match&&!n.hasChildren()?i1(n,e,t):r.match?r_(n,0,o):i1(n,e,t)}function r_(n,e,t){if(0===t.length)return new wn(n.segments,{});{const r=function B6(n){return uC(n[0])?n[0].outlets:{[yn]:n}}(t),o={};if(!r[yn]&&n.children[yn]&&1===n.numberOfChildren&&0===n.children[yn].segments.length){const a=r_(n.children[yn],e,t);return new wn(n.segments,a.children)}return ei(r,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(o[u]=o1(n.children[u],e,a))}),ei(n.children,(a,u)=>{void 0===r[u]&&(o[u]=a)}),new wn(n.segments,o)}}function i1(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const a=t[o];if(uC(a)){const _=$6(a.outlets);return new wn(r,_)}if(0===o&&lC(t[0])){r.push(new sC(n.segments[e].path,QN(t[0]))),o++;continue}const u=uC(a)?a.outlets[yn]:`${a}`,h=o<t.length-1?t[o+1]:null;u&&h&&lC(h)?(r.push(new sC(u,QN(h))),o+=2):(r.push(new sC(u,{})),o++)}return new wn(r,{})}function $6(n){const e={};return ei(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=i1(new wn([],{}),0,t))}),e}function QN(n){const e={};return ei(n,(t,r)=>e[r]=`${t}`),e}function JN(n,e,t){return n==t.path&&Rc(e,t.parameters)}const fC="imperative";class Nc{constructor(e,t){this.id=e,this.url=t}}class s1 extends Nc{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class lp extends Nc{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cI extends Nc{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lI extends Nc{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class a1 extends Nc{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class j6 extends Nc{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z6 extends Nc{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q6 extends Nc{constructor(e,t,r,o,a){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class G6 extends Nc{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W6 extends Nc{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z6{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class K6{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Y6{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q6{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J6{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X6{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XN{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let nH=(()=>{class n{createUrlTree(t,r,o,a,u,h){return L6(t||r.root,o,a,u,h)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),oH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){return nH.\u0275fac(e)},providedIn:"root"}),n})();class e2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=c1(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=c1(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=l1(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return l1(e,this._root).map(t=>t.value)}}function c1(n,e){if(n===e.value)return e;for(const t of e.children){const r=c1(n,t);if(r)return r}return null}function l1(n,e){if(n===e.value)return[e];for(const t of e.children){const r=l1(n,t);if(r.length)return r.unshift(e),r}return[]}class Kl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function o_(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class t2 extends e2{constructor(e,t){super(e),this.snapshot=t,u1(this,e)}toString(){return this.snapshot.toString()}}function n2(n,e){const t=function iH(n,e){const u=new uI([],{},{},"",{},yn,e,null,n.root,-1,{});return new o2("",new Kl(u,[]))}(n,e),r=new Vs([new sC("",{})]),o=new Vs({}),a=new Vs({}),u=new Vs({}),h=new Vs(""),_=new up(r,o,u,h,a,yn,e,t.root);return _.snapshot=t.root,new t2(new Kl(_,[]),t)}class up{constructor(e,t,r,o,a,u,h,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=a,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,Dt.U)(v=>v[iC]))??xt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(e=>e_(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(e=>e_(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function r2(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],a=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(a.component)break;r--}}return function sH(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class uI{get title(){return this.data?.[iC]}constructor(e,t,r,o,a,u,h,_,v,M,D){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=a,this.outlet=u,this.component=h,this.routeConfig=_,this._urlSegment=v,this._lastPathIndex=M,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=e_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=e_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class o2 extends e2{constructor(e,t){super(t),this.url=e,u1(this,t)}toString(){return i2(this._root)}}function u1(n,e){e.value._routerState=n,e.children.forEach(t=>u1(n,t))}function i2(n){const e=n.children.length>0?` { ${n.children.map(i2).join(", ")} } `:"";return`${n.value}${e}`}function f1(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Rc(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Rc(e.params,t.params)||n.params.next(t.params),function v6(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Rc(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Rc(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function d1(n,e){const t=Rc(n.params,e.params)&&function M6(n,e){return ap(n,e)&&n.every((t,r)=>Rc(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||d1(n.parent,e.parent))}function dC(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function cH(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return dC(n,r,o);return dC(n,r)})}(n,e,t);return new Kl(r,o)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>dC(n,h)),u}}const r=function lH(n){return new up(new Vs(n.url),new Vs(n.params),new Vs(n.queryParams),new Vs(n.fragment),new Vs(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(a=>dC(n,a));return new Kl(r,o)}}const h1="ngNavigationCancelingError";function s2(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=cp(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=a2(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function a2(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[h1]=!0,r.cancellationCode=e,t&&(r.url=t),r}function c2(n){return l2(n)&&cp(n.url)}function l2(n){return n&&n[h1]}class uH{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new hC,this.attachRef=null}}let hC=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new uH,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fI=!1;let p1=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=yn,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(hC),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,fI);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,fI);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,fI);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,fI);this._activatedRoute=t;const o=this.location,u=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,_=new fH(t,h,o.injector);if(r&&function dH(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(u);this.activated=o.createComponent(v,o.length,_)}else this.activated=o.createComponent(u,{index:o.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class fH{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===up?this.route:e===hC?this.childContexts:this.parent.get(e,t)}}let g1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[p1],encapsulation:2}),n})();function u2(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function _1(n){const e=n.children&&n.children.map(_1),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==yn&&(t.component=g1),t}function Bs(n){return n.outlet||yn}function f2(n,e){const t=n.filter(r=>Bs(r)===e);return t.push(...n.filter(r=>Bs(r)!==e)),t}function pC(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class _H{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),f1(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=o_(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,o[u],r),delete o[u]}),ei(o,(a,u)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const o=e.value,a=t?t.value:null;if(o===a)if(o.component){const u=r.getContext(o.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,a=o_(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],o);if(r&&r.outlet){const u=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,a=o_(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=o_(t);e.children.forEach(a=>{this.activateRoutes(a,o[a.value.outlet],r),this.forwardEvent(new X6(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Q6(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,a=t?t.value:null;if(f1(o),o===a)if(o.component){const u=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const u=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const h=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),f1(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=pC(o.snapshot),_=h?.get(l._Vd)??null;u.attachRef=null,u.route=o,u.resolver=_,u.injector=h,u.outlet&&u.outlet.activateWith(o,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class d2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class dI{constructor(e,t){this.component=e,this.route=t}}function yH(n,e,t){const r=n._root;return gC(r,e?e._root:null,t,[r.value])}function i_(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function gC(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const a=o_(e);return n.children.forEach(u=>{(function vH(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function CH(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ap(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ap(n.url,e.url)||!Rc(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!d1(n,e)||!Rc(n.queryParams,e.queryParams);default:return!d1(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?o.canActivateChecks.push(new d2(r)):(a.data=u.data,a._resolvedData=u._resolvedData),gC(n,e,a.component?h?h.children:null:t,r,o),_&&h&&h.outlet&&h.outlet.isActivated&&o.canDeactivateChecks.push(new dI(h.outlet.component,u))}else u&&mC(e,h,o),o.canActivateChecks.push(new d2(r)),gC(n,null,a.component?h?h.children:null:t,r,o)})(u,a[u.value.outlet],t,r.concat([u.value]),o),delete a[u.value.outlet]}),ei(a,(u,h)=>mC(u,t.getContext(h),o)),o}function mC(n,e,t){const r=o_(n),o=n.value;ei(r,(a,u)=>{mC(a,o.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new dI(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function _C(n){return"function"==typeof n}function y1(n){return n instanceof hg||"EmptyError"===n?.name}const hI=Symbol("INITIAL_VALUE");function s_(){return no(n=>DN(n.map(e=>e.pipe(Xu(1),Fg(hI)))).pipe((0,Dt.U)(e=>{for(const t of e)if(!0!==t){if(t===hI)return hI;if(!1===t||t instanceof td)return t}return!0}),Ao(e=>e!==hI),Xu(1)))}function h2(n){return(0,g6.z)((0,hi.b)(e=>{if(cp(e))throw s2(0,e)}),(0,Dt.U)(e=>!0===e))}const b1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function p2(n,e,t,r,o){const a=v1(n,e,t);return a.matched?function UH(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?xt(o.map(u=>{const h=i_(u,n);return ed(function PH(n){return n&&_C(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(s_(),h2()):xt(!0)}(r=u2(e,r),e,t).pipe((0,Dt.U)(u=>!0===u?a:{...b1})):xt(a)}function v1(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...b1}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||b6)(t,n,e);if(!o)return{...b1};const a={};ei(o.posParams,(h,_)=>{a[_]=h.path});const u=o.consumed.length>0?{...a,...o.consumed[o.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:u,positionalParamSegments:o.posParams??{}}}function pI(n,e,t,r){if(t.length>0&&function HH(n,e,t){return t.some(r=>gI(n,e,r)&&Bs(r)!==yn)}(n,t,r)){const a=new wn(e,function BH(n,e,t,r){const o={};o[yn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Bs(a)!==yn){const u=new wn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,o[Bs(a)]=u}return o}(n,e,r,new wn(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function $H(n,e,t){return t.some(r=>gI(n,e,r))}(n,t,r)){const a=new wn(n.segments,function VH(n,e,t,r,o){const a={};for(const u of r)if(gI(n,t,u)&&!o[Bs(u)]){const h=new wn([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,a[Bs(u)]=h}return{...o,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const o=new wn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function gI(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function g2(n,e,t,r){return!!(Bs(n)===r||r!==yn&&gI(e,t,n))&&("**"===n.path||v1(e,n,t).matched)}function m2(n,e,t){return 0===e.length&&!n.children[t]}const mI=!1;class _I{constructor(e){this.segmentGroup=e||null}}class _2{constructor(e){this.urlTree=e}}function yC(n){return oC(new _I(n))}function y2(n){return oC(new _2(n))}function jH(n){return oC(new l.vHH(4e3,mI&&`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class GH{constructor(e,t,r,o,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=a,this.allowRedirects=!0}apply(){const e=pI(this.urlTree.root,[],[],this.config).segmentGroup,t=new wn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,yn).pipe((0,Dt.U)(a=>this.createUrlTree(aI(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Xf(a=>{if(a instanceof _2)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof _I?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,yn).pipe((0,Dt.U)(o=>this.createUrlTree(aI(o),e.queryParams,e.fragment))).pipe(Xf(o=>{throw o instanceof _I?this.noMatchError(o):o}))}noMatchError(e){return new l.vHH(4002,mI&&`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=n1(e);return new td(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Dt.U)(a=>new wn([],a))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const a of Object.keys(r.children))"primary"===a?o.unshift(a):o.push(a);return(0,In.D)(o).pipe(ca(a=>{const u=r.children[a],h=f2(t,a);return this.expandSegmentGroup(e,h,u,a).pipe((0,Dt.U)(_=>({segment:_,outlet:a})))}),ih((a,u)=>(a[u.outlet]=u.segment,a),{}),kN())}expandSegment(e,t,r,o,a,u){return(0,In.D)(r).pipe(ca(h=>this.expandSegmentAgainstRoute(e,t,r,h,o,a,u).pipe(Xf(v=>{if(v instanceof _I)return xt(null);throw v}))),da(h=>!!h),Xf((h,_)=>{if(y1(h))return m2(t,o,a)?xt(new wn([],{})):yC(t);throw h}))}expandSegmentAgainstRoute(e,t,r,o,a,u,h){return g2(o,t,a,u)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,a,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,a,u):yC(t):yC(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,a,u){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?y2(a):this.lineralizeSegments(r,a).pipe((0,Wo.z)(u=>{const h=new wn(u,{});return this.expandSegment(e,h,t,u,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,a,u){const{matched:h,consumedSegments:_,remainingSegments:v,positionalParamSegments:M}=v1(t,o,a);if(!h)return yC(t);const D=this.applyRedirectCommands(_,o.redirectTo,M);return o.redirectTo.startsWith("/")?y2(D):this.lineralizeSegments(o,D).pipe((0,Wo.z)(L=>this.expandSegment(e,t,r,L.concat(v),u,!1)))}matchSegmentAgainstRoute(e,t,r,o,a){return"**"===r.path?(e=u2(r,e),r.loadChildren?(r._loadedRoutes?xt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Dt.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new wn(o,{})))):xt(new wn(o,{}))):p2(t,r,o,e).pipe(no(({matched:u,consumedSegments:h,remainingSegments:_})=>u?this.getChildConfig(e=r._injector??e,r,o).pipe((0,Wo.z)(M=>{const D=M.injector??e,L=M.routes,{segmentGroup:B,slicedSegments:Z}=pI(t,h,_,L),oe=new wn(B.segments,B.children);if(0===Z.length&&oe.hasChildren())return this.expandChildren(D,L,oe).pipe((0,Dt.U)(tt=>new wn(h,tt)));if(0===L.length&&0===Z.length)return xt(new wn(h,{}));const ue=Bs(r)===a;return this.expandSegment(D,oe,L,Z,ue?yn:a,!0).pipe((0,Dt.U)(rt=>new wn(h.concat(rt.segments),rt.children)))})):yC(t)))}getChildConfig(e,t,r){return t.children?xt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?xt({routes:t._loadedRoutes,injector:t._loadedInjector}):function LH(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?xt(!0):xt(o.map(u=>{const h=i_(u,n);return ed(function EH(n){return n&&_C(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(s_(),h2())}(e,t,r).pipe((0,Wo.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,hi.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function zH(n){return oC(a2(mI&&`Cannot load children because the guard of the route "path: '${n.path}'" returned false`,3))}(t))):xt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return xt(r);if(o.numberOfChildren>1||!o.children[yn])return jH(e.redirectTo);o=o.children[yn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const a=this.createSegmentGroup(e,t.root,r,o);return new td(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ei(e,(o,a)=>{if("string"==typeof o&&o.startsWith(":")){const h=o.substring(1);r[a]=t[h]}else r[a]=o}),r}createSegmentGroup(e,t,r,o){const a=this.createSegments(e,t.segments,r,o);let u={};return ei(t.children,(h,_)=>{u[_]=this.createSegmentGroup(e,h,r,o)}),new wn(a,u)}createSegments(e,t,r,o){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,o):this.findOrReturn(a,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new l.vHH(4001,mI&&`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class ZH{}class QH{constructor(e,t,r,o,a,u,h){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=a,this.paramsInheritanceStrategy=u,this.urlSerializer=h}recognize(){const e=pI(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,yn).pipe((0,Dt.U)(t=>{if(null===t)return null;const r=new uI([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},yn,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Kl(r,t),a=new o2(this.url,o);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=r2(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return(0,In.D)(Object.keys(r.children)).pipe(ca(o=>{const a=r.children[o],u=f2(t,o);return this.processSegmentGroup(e,u,a,o)}),ih((o,a)=>o&&a?(o.push(...a),o):null),function m6(n,e=!1){return(0,Vo.e)((t,r)=>{let o=0;t.subscribe((0,zr.x)(r,a=>{const u=n(a,o++);(u||e)&&r.next(a),!u&&r.complete()}))})}(o=>null!==o),pg(null),kN(),(0,Dt.U)(o=>{if(null===o)return null;const a=v2(o);return function JH(n){n.sort((e,t)=>e.value.outlet===yn?-1:t.value.outlet===yn?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,o,a){return(0,In.D)(t).pipe(ca(u=>this.processSegmentAgainstRoute(u._injector??e,u,r,o,a)),da(u=>!!u),Xf(u=>{if(y1(u))return m2(r,o,a)?xt([]):xt(null);throw u}))}processSegmentAgainstRoute(e,t,r,o,a){if(t.redirectTo||!g2(t,r,o,a))return xt(null);let u;if("**"===t.path){const h=o.length>0?FN(o).parameters:{},_=w2(r)+o.length;u=xt({snapshot:new uI(o,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,E2(t),Bs(t),t.component??t._loadedComponent??null,t,C2(r),_,M2(t)),consumedSegments:[],remainingSegments:[]})}else u=p2(r,t,o,e).pipe((0,Dt.U)(({matched:h,consumedSegments:_,remainingSegments:v,parameters:M})=>{if(!h)return null;const D=w2(r)+_.length;return{snapshot:new uI(_,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,E2(t),Bs(t),t.component??t._loadedComponent??null,t,C2(r),D,M2(t)),consumedSegments:_,remainingSegments:v}}));return u.pipe(no(h=>{if(null===h)return xt(null);const{snapshot:_,consumedSegments:v,remainingSegments:M}=h;e=t._injector??e;const D=t._loadedInjector??e,L=function XH(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:B,slicedSegments:Z}=pI(r,v,M,L.filter(ue=>void 0===ue.redirectTo));if(0===Z.length&&B.hasChildren())return this.processChildren(D,L,B).pipe((0,Dt.U)(ue=>null===ue?null:[new Kl(_,ue)]));if(0===L.length&&0===Z.length)return xt([new Kl(_,[])]);const oe=Bs(t)===a;return this.processSegment(D,L,B,Z,oe?yn:a).pipe((0,Dt.U)(ue=>null===ue?null:[new Kl(_,ue)]))}))}}function e$(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function v2(n){const e=[],t=new Set;for(const r of n){if(!e$(r)){e.push(r);continue}const o=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=v2(r.children);e.push(new Kl(r.value,o))}return e.filter(r=>!t.has(r))}function C2(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function w2(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function E2(n){return n.data||{}}function M2(n){return n.resolve||{}}function I2(n){return"string"==typeof n.title||null===n.title}function C1(n){return no(e=>{const t=n(e);return t?(0,In.D)(t).pipe((0,Dt.U)(()=>e)):xt(e)})}const a_=new l.OlP("ROUTES");let w1=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return xt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ed(t.loadComponent()).pipe((0,Dt.U)(P2),(0,hi.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),XS(()=>{this.componentLoaders.delete(t)})),o=new xN(r,()=>new Uo.x).pipe(QS());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return xt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Dt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,v,M=!1;Array.isArray(h)?v=h:(_=h.create(t).injector,v=NN(_.get(a_,[],l.XFs.Self|l.XFs.Optional)));return{routes:v.map(_1),injector:_}}),XS(()=>{this.childrenLoaders.delete(r)})),u=new xN(a,()=>new Uo.x).pipe(QS());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return ed(t()).pipe((0,Dt.U)(P2),(0,Wo.z)(r=>r instanceof l.YKP||Array.isArray(r)?xt(r):(0,In.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function P2(n){return function c$(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let bI=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Uo.x,this.configLoader=(0,l.f3M)(w1),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(aC),this.rootContexts=(0,l.f3M)(hC),this.navigationId=0,this.afterPreactivation=()=>xt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new K6(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new Z6(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Vs({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:fC,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ao(r=>0!==r.id),(0,Dt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),no(r=>{let o=!1,a=!1;return xt(r).pipe((0,hi.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),no(u=>{const h=t.browserUrlTree.toString(),_=!t.navigated||u.extractedUrl.toString()!==h||h!==t.currentUrlTree.toString();if(!_&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const M="";return this.events.next(new lI(u.id,t.serializeUrl(r.rawUrl),M,0)),t.rawUrlTree=u.rawUrl,u.resolve(null),fa.E}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return D2(u.source)&&(t.browserUrlTree=u.extractedUrl),xt(u).pipe(no(M=>{const D=this.transitions?.getValue();return this.events.next(new s1(M.id,this.urlSerializer.serialize(M.extractedUrl),M.source,M.restoredState)),D!==this.transitions?.getValue()?fa.E:Promise.resolve(M)}),function WH(n,e,t,r){return no(o=>function qH(n,e,t,r,o){return new GH(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Dt.U)(a=>({...o,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,hi.b)(M=>{this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},r.urlAfterRedirects=M.urlAfterRedirects}),function n$(n,e,t,r,o){return(0,Wo.z)(a=>function YH(n,e,t,r,o,a,u="emptyOnly"){return new QH(n,e,t,r,o,u,a).recognize().pipe(no(h=>null===h?function KH(n){return new _o.y(e=>e.error(n))}(new ZH):xt(h)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,o).pipe((0,Dt.U)(u=>({...a,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,hi.b)(M=>{if(r.targetSnapshot=M.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!M.extras.skipLocationChange){const L=t.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);t.setBrowserUrl(L,M)}t.browserUrlTree=M.urlAfterRedirects}const D=new j6(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(D)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:M,extractedUrl:D,source:L,restoredState:B,extras:Z}=u,oe=new s1(M,this.urlSerializer.serialize(D),L,B);this.events.next(oe);const ue=n2(D,this.rootComponentType).snapshot;return xt(r={...u,targetSnapshot:ue,urlAfterRedirects:D,extras:{...Z,skipLocationChange:!1,replaceUrl:!1}})}{const M="";return this.events.next(new lI(u.id,t.serializeUrl(r.extractedUrl),M,1)),t.rawUrlTree=u.rawUrl,u.resolve(null),fa.E}}),(0,hi.b)(u=>{const h=new z6(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),(0,Dt.U)(u=>r={...u,guards:yH(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function OH(n,e){return(0,Wo.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?xt({...t,guardsResult:!0}):function SH(n,e,t,r){return(0,In.D)(n).pipe((0,Wo.z)(o=>function FH(n,e,t,r,o){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?xt(a.map(h=>{const _=pC(e)??o,v=i_(h,_);return ed(function TH(n){return n&&_C(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):_.runInContext(()=>v(n,e,t,r))).pipe(da())})).pipe(s_()):xt(!0)}(o.component,o.route,t,e,r)),da(o=>!0!==o,!0))}(u,r,o,n).pipe((0,Wo.z)(h=>h&&function wH(n){return"boolean"==typeof n}(h)?function AH(n,e,t,r){return(0,In.D)(e).pipe(ca(o=>cc(function kH(n,e){return null!==n&&e&&e(new Y6(n)),xt(!0)}(o.route.parent,r),function xH(n,e){return null!==n&&e&&e(new J6(n)),xt(!0)}(o.route,r),function NH(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function bH(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>SN(()=>xt(u.guards.map(_=>{const v=pC(u.node)??t,M=i_(_,v);return ed(function IH(n){return n&&_C(n.canActivateChild)}(M)?M.canActivateChild(r,n):v.runInContext(()=>M(r,n))).pipe(da())})).pipe(s_())));return xt(a).pipe(s_())}(n,o.path,t),function RH(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return xt(!0);const o=r.map(a=>SN(()=>{const u=pC(e)??t,h=i_(a,u);return ed(function MH(n){return n&&_C(n.canActivate)}(h)?h.canActivate(e,n):u.runInContext(()=>h(e,n))).pipe(da())}));return xt(o).pipe(s_())}(n,o.route,t))),da(o=>!0!==o,!0))}(r,a,n,e):xt(h)),(0,Dt.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,u=>this.events.next(u)),(0,hi.b)(u=>{if(r.guardsResult=u.guardsResult,cp(u.guardsResult))throw s2(0,u.guardsResult);const h=new q6(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),Ao(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),C1(u=>{if(u.guards.canActivateChecks.length)return xt(u).pipe((0,hi.b)(h=>{const _=new G6(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(_)}),no(h=>{let _=!1;return xt(h).pipe(function r$(n,e){return(0,Wo.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return xt(t);let a=0;return(0,In.D)(o).pipe(ca(u=>function o$(n,e,t,r){const o=n.routeConfig,a=n._resolve;return void 0!==o?.title&&!I2(o)&&(a[iC]=o.title),function i$(n,e,t,r){const o=function s$(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return xt({});const a={};return(0,In.D)(o).pipe((0,Wo.z)(u=>function a$(n,e,t,r){const o=pC(e)??r,a=i_(n,o);return ed(a.resolve?a.resolve(e,t):o.runInContext(()=>a(e,t)))}(n[u],e,t,r).pipe(da(),(0,hi.b)(h=>{a[u]=h}))),JS(1),function _6(n){return(0,Dt.U)(()=>n)}(a),Xf(u=>y1(u)?fa.E:oC(u)))}(a,n,e,r).pipe((0,Dt.U)(u=>(n._resolvedData=u,n.data=r2(n,t).resolve,o&&I2(o)&&(n.data[iC]=o.title),null)))}(u.route,r,n,e)),(0,hi.b)(()=>a++),JS(1),(0,Wo.z)(u=>a===o.length?xt(t):fa.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,hi.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,hi.b)(h=>{const _=new W6(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(_)}))}),C1(u=>{const h=_=>{const v=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,hi.b)(M=>{_.component=M}),(0,Dt.U)(()=>{})));for(const M of _.children)v.push(...h(M));return v};return DN(h(u.targetSnapshot.root)).pipe(pg(),Xu(1))}),C1(()=>this.afterPreactivation()),(0,Dt.U)(u=>{const h=function aH(n,e,t){const r=dC(n,e._root,t?t._root:void 0);return new t2(r,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return r={...u,targetRouterState:h}}),(0,hi.b)(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,Dt.U)(r=>(new _H(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u)),Xu(1),(0,hi.b)({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new lp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),XS(()=>{o||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Xf(u=>{if(a=!0,l2(u)){c2(u)||(t.navigated=!0,t.restoreHistory(r,!0));const h=new cI(r.id,this.urlSerializer.serialize(r.extractedUrl),u.message,u.cancellationCode);if(this.events.next(h),c2(u)){const _=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),v={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||D2(r.source)};t.scheduleNavigation(_,fC,null,v,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const h=new a1(r.id,this.urlSerializer.serialize(r.extractedUrl),u,r.targetSnapshot??void 0);this.events.next(h);try{r.resolve(t.errorHandler(u))}catch(_){r.reject(_)}}return fa.E}))}))}cancelNavigationTransition(t,r,o){const a=new cI(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function D2(n){return n!==fC}let O2=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(a=>a.outlet===yn);return r}getResolvedTitleForRoute(t){return t.data[iC]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(l$)},providedIn:"root"}),n})(),l$=(()=>{class n extends O2{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(y_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(d$)},providedIn:"root"}),n})();class f${shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let d$=(()=>{class n extends f${}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vI=new l.OlP("",{providedIn:"root",factory:()=>({})});let p$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(g$)},providedIn:"root"}),n})(),g$=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function m$(n){throw n}function _$(n,e,t){return e.parse("/")}const y$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},b$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ti=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(vI,{optional:!0})||{},this.errorHandler=this.options.errorHandler||m$,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||_$,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(p$),this.routeReuseStrategy=(0,l.f3M)(u$),this.urlCreationStrategy=(0,l.f3M)(oH),this.titleStrategy=(0,l.f3M)(O2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=NN((0,l.f3M)(a_,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(bI),this.urlSerializer=(0,l.f3M)(aC),this.location=(0,l.f3M)(Ge),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new td,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=n2(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),fC,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const a={replaceUrl:!0},u=o?.navigationId?o:null;if(o){const _={...o};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const h=this.parseUrl(t);this.scheduleNavigation(h,r,u,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(_1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:a,fragment:u,queryParamsHandling:h,preserveFragment:_}=r,v=_?this.currentUrlTree.fragment:u;let M=null;switch(h){case"merge":M={...this.currentUrlTree.queryParams,...a};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=a||null}return null!==M&&(M=this.removeEmptyProps(M)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,t,M,v??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=cp(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,fC,null,r)}navigate(t,r={skipLocationChange:!1}){return function v$(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...y$}:!1===r?{...b$}:r,cp(t))return UN(this.currentUrlTree,t,o);const a=this.parseUrl(t);return UN(this.currentUrlTree,a,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const a=t[o];return null!=a&&(r[o]=a),r},{})}scheduleNavigation(t,r,o,a,u){if(this.disposed)return Promise.resolve(!1);let h,_,v,M;return u?(h=u.resolve,_=u.reject,v=u.promise):v=new Promise((D,L)=>{h=D,_=L}),M="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:M,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:h,reject:_,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(D=>Promise.reject(D))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",u)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(o,"",a)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fp=(()=>{class n{constructor(t,r,o,a,u,h){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=a,this.el=u,this.locationStrategy=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Uo.x;const _=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof lp&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,o,a,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||o||a||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const o=this.renderer,a=this.el.nativeElement;null!==r?o.setAttribute(a,t,r):o.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ti),l.Y36(up),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(_t))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&l.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&l.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class S2{}let E$=(()=>{class n{constructor(t,r,o,a,u){this.router=t,this.injector=o,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Ao(t=>t instanceof lp),ca(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,l.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,h=a._loadedInjector??u;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&o.push(this.preloadConfig(u,a)),(a.children||a._loadedRoutes)&&o.push(this.processRoutes(h,a.children??a._loadedRoutes))}return(0,In.D)(o).pipe((0,df.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):xt(null);const a=o.pipe((0,Wo.z)(u=>null===u?xt(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,In.D)([a,u]).pipe((0,df.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ti),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(S2),l.LFG(w1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const M1=new l.OlP("");let A2=(()=>{class n{constructor(t,r,o,a,u={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=a,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof s1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof lp&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof XN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new XN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var cs=(()=>((cs=cs||{})[cs.COMPLETE=0]="COMPLETE",cs[cs.FAILED=1]="FAILED",cs[cs.REDIRECTING=2]="REDIRECTING",cs))();const c_=!1;function nd(n,e){return{\u0275kind:n,\u0275providers:e}}const I1=new l.OlP("",{providedIn:"root",factory:()=>!1});function k2(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(ti),o=n.get(R2);1===n.get(T1)&&r.initialNavigation(),n.get(N2,null,l.XFs.Optional)?.setUpPreloading(),n.get(M1,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const R2=new l.OlP(c_?"bootstrap done indicator":"",{factory:()=>new Uo.x}),T1=new l.OlP(c_?"initial navigation":"",{providedIn:"root",factory:()=>1});function D$(){let n=[];return n=c_?[{provide:l.Xts,multi:!0,useFactory:()=>{const e=(0,l.f3M)(ti);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function eH(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],nd(1,n)}const N2=new l.OlP(c_?"router preloader":"");function O$(n){return nd(0,[{provide:N2,useExisting:E$},{provide:S2,useExisting:n}])}const bC=!1,F2=new l.OlP(bC?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),S$=[Ge,{provide:aC,useClass:e1},ti,hC,{provide:up,useFactory:function x2(n){return n.routerState.root},deps:[ti]},w1,bC?{provide:I1,useValue:!0}:[]];function A$(){return new l.PXZ("Router",ti)}let L2=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[S$,bC&&r?.enableTracing?D$().\u0275providers:[],{provide:a_,multi:!0,useValue:t},{provide:F2,useFactory:N$,deps:[[ti,new l.FiY,new l.tp0]]},{provide:vI,useValue:r||{}},r?.useHash?{provide:_t,useClass:Be}:{provide:_t,useClass:Ne},{provide:M1,useFactory:()=>{const n=(0,l.f3M)(ou),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(vI),r=(0,l.f3M)(bI),o=(0,l.f3M)(aC);return t.scrollOffset&&n.setOffset(t.scrollOffset),new A2(o,r,n,e,t)}},r?.preloadingStrategy?O$(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:A$},r?.initialNavigation?F$(r):[],[{provide:U2,useFactory:k2},{provide:l.tb,multi:!0,useExisting:U2}]]}}static forChild(t){return{ngModule:n,providers:[{provide:a_,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(F2,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[g1]}),n})();function N$(n){if(bC&&n)throw new l.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function F$(n){return["disabled"===n.initialNavigation?nd(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(ti);return()=>{e.setUpLocationChangeListener()}}},{provide:T1,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?nd(2,[{provide:T1,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(we,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(ti),a=e.get(R2);(function M$(n,e){n.events.pipe(Ao(t=>t instanceof lp||t instanceof cI||t instanceof a1||t instanceof lI),(0,Dt.U)(t=>t instanceof lp||t instanceof lI?cs.COMPLETE:t instanceof cI&&(0===t.code||1===t.code)?cs.REDIRECTING:cs.FAILED),Ao(t=>t!==cs.REDIRECTING),Xu(1)).subscribe(()=>{e()})})(o,()=>{r(!0)}),e.get(bI).afterPreactivation=()=>(r(!0),a.closed?xt(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const U2=new l.OlP(bC?"Router Initializer":"");let P1=(()=>{class n{constructor(t,r){this.afs=t,this.toastr=r}ngOnInit(){}saveData(t){this.afs.collection("categories").add(t).then(r=>{this.toastr.success("Data Inserted Successfully...!")}).catch(r=>{console.log(r)})}saveDataLocation(t){this.afs.collection("location").add(t).then(r=>{this.toastr.success("Data Inserted Successfully...!")}).catch(r=>{console.log(r)})}loadData(){return this.afs.collection("categories",t=>t.orderBy("category")).snapshotChanges().pipe((0,Dt.U)(t=>t.map(r=>{const o=r.payload.doc.data();return{id:r.payload.doc.id,data:o}})))}updateData(t,r){this.afs.collection("categories").doc(t).update(r).then(o=>{this.toastr.success("Data Updated Successfully...!")})}updateLocation(t,r){this.afs.collection("location").doc(t).update(r).then(o=>{this.toastr.success("Data Updated Successfully...!")})}deleteData(t){this.afs.collection("categories").doc(t).delete().then(r=>{this.toastr.success("Data Deleted!")})}deleteLocation(t){this.afs.collection("location").doc(t).delete().then(r=>{this.toastr.success("Data Deleted!")})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(AM),l.LFG(nc))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function U$(n,e){1&n&&(l.TgZ(0,"div",20),l._uU(1," fill before login "),l.qZA())}function V$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td")(6,"button",21),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.onEdit(a.data.category,a.id))}),l._uU(7," Edit "),l.qZA(),l.TgZ(8,"button",22),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.onDelete(a.id))}),l._uU(9,"Delete"),l.qZA()()()}if(2&n){const t=e.$implicit,r=e.index;l.xp6(2),l.hij(" ",r+1," "),l.xp6(2),l.hij(" ",t.data.category,"")}}const B$=function(n){return{"is-invalid":n}};let H$=(()=>{class n{constructor(t){this.categoryService=t,this.itemArray=[],this.formItem="",this.formStatus="Add",this.itemId=""}ngOnInit(){this.categoryService.loadData().subscribe(t=>{console.log(t),this.itemArray=t})}onSubmit(t){let r={category:t.value.category};"Add"==this.formStatus?(this.categoryService.saveData(r),t.reset()):"Edit"==this.formStatus&&(this.categoryService.updateData(this.itemId,r),t.reset(),this.formStatus="Add")}onEdit(t,r){this.formItem=t,this.formStatus="Edit",this.itemId=r}onDelete(t){this.categoryService.deleteData(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(P1))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-category"]],decls:33,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-md-12","bg-secondary-theme","p-5","shadow-effect"],[1,"text-center","text-theme-primry"],[1,"text-center","mb-5"],[1,"form-inline","text-center",3,"ngSubmit"],["categoryForm","ngForm"],[1,"form-group","col-md-10"],["type","text","name","category","placeholder","Add new location","required","",1,"form-control","shadow-effect",3,"ngModel","ngClass","ngModelChange"],["newCategory","ngModel"],["class","alert alert-danger",4,"ngIf"],[1,"col-md-2"],[1,"btn","btn-block","btn-info","mb-2","btn-theme","shadow-effect",3,"disabled"],[1,"row","mt-5","mb-5"],[1,"col-md-3"],[1,"col-mb-6"],[1,"card","shadow-effect"],[1,"card-body"],[1,"table","row-border","hover"],[4,"ngFor","ngForOf"],[1,"alert","alert-danger"],[1,"btn","btn-sm","btn-warning",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(t,r){if(1&t){const o=l.EpF();l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),l._uU(4),l.qZA(),l.TgZ(5,"p",4),l._uU(6,"You can add new location from here..."),l.qZA(),l.TgZ(7,"form",5,6),l.NdJ("ngSubmit",function(){l.CHM(o);const u=l.MAs(8);return l.KtG(r.onSubmit(u))}),l.TgZ(9,"div",7)(10,"input",8,9),l.NdJ("ngModelChange",function(u){return r.formItem=u}),l.qZA(),l.YNc(12,U$,2,0,"div",10),l.qZA(),l.TgZ(13,"div",11)(14,"button",12),l._uU(15),l.qZA()()()()(),l.TgZ(16,"div",13),l._UZ(17,"div",14),l.TgZ(18,"div",15)(19,"div",16)(20,"div",17)(21,"table",18)(22,"thead")(23,"tr")(24,"th"),l._uU(25,"No"),l.qZA(),l.TgZ(26,"th"),l._uU(27,"Location"),l.qZA(),l.TgZ(28,"th"),l._uU(29,"Action"),l.qZA()()(),l.TgZ(30,"tbody"),l.YNc(31,V$,10,2,"tr",19),l.qZA()()()()(),l._UZ(32,"div",14),l.qZA()()}if(2&t){const o=l.MAs(8),a=l.MAs(11);l.xp6(4),l.hij("",r.formStatus," location"),l.xp6(6),l.Q6J("ngModel",r.formItem)("ngClass",l.VKq(7,B$,a.touched&&a.invalid)),l.xp6(2),l.Q6J("ngIf",a.touched&&a.invalid),l.xp6(2),l.Q6J("disabled",o.invalid),l.xp6(1),l.hij(" ",r.formStatus," location "),l.xp6(16),l.Q6J("ngForOf",r.itemArray)}},dependencies:[qt,Xr,kr,vl,Es,Ka,Ya,qd,Hu,ec],styles:[".form-inline[_ngcontent-%COMP%]{display:flex}.btn-danger[_ngcontent-%COMP%]{margin-left:8px}"]}),n})(),$$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-dasdboard"]],decls:38,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-6","mb-5"],["routerLink","/categories",1,"card","shadow-effect"],[1,"card-body","text-center","bg-secondary-theme"],[1,"mt-3","text-theme-primry"],[1,"fas","fa-search-location"],[1,"text-theme-primry"],["routerLink","/posts",1,"card","shadow-effect"],[1,"fas","fa-file-image"],["routerLink","/subscribers",1,"card","shadow-effect"],[1,"fas","fa-users"],["routerLink","/location",1,"card","shadow-effect"],[1,"fas","fa-clipboard-list"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),l._UZ(6,"i",6),l.qZA(),l.TgZ(7,"h2",7),l._uU(8," Location "),l.qZA(),l.TgZ(9,"p"),l._uU(10,"Manage your location Details Here"),l.qZA()()()(),l.TgZ(11,"div",2)(12,"div",8)(13,"div",4)(14,"h1",5),l._UZ(15,"i",9),l.qZA(),l.TgZ(16,"h2",7),l._uU(17,"Post"),l.qZA(),l.TgZ(18,"p"),l._uU(19,"Manage your Posts Details Here"),l.qZA()()()(),l.TgZ(20,"div",2)(21,"div",10)(22,"div",4)(23,"h1",5),l._UZ(24,"i",11),l.qZA(),l.TgZ(25,"h2",7),l._uU(26,"Subscribers"),l.qZA(),l.TgZ(27,"p"),l._uU(28,"Manage your subscribers here"),l.qZA()()()(),l.TgZ(29,"div",2)(30,"div",12)(31,"div",4)(32,"h1",5),l._UZ(33,"i",13),l.qZA(),l.TgZ(34,"h2",7),l._uU(35," Category "),l.qZA(),l.TgZ(36,"p"),l._uU(37,"Manage your Category Details Here"),l.qZA()()()()()())},dependencies:[fp],styles:[".card[_ngcontent-%COMP%]{height:200px;cursor:pointer}"]}),n})(),V2=(()=>{class n{constructor(t,r,o,a){this.storage=t,this.afs=r,this.toastr=o,this.router=a}createId(){return this.afs.createId()}uploadImg(t,r,o,a){const u=t?.map((h,_)=>{const v=`postIMG/${Date.now()}_${_}`;return this.storage.upload(v,h).then(()=>this.storage.ref(v).getDownloadURL().toPromise())});Promise.all(u).then(h=>{r.postImgPath=h,"Edit"==o?(console.log("edit"),this.updateData(a,r)):(console.log("save"),this.saveData(r))}).catch(h=>{console.log(h)})}saveData(t){this.afs.collection("posts").doc(t?.key).set(t,{merge:!0}).then(r=>{this.toastr.success("Successfully"),this.router.navigate(["/posts"])})}loadImgage(){return this.afs.collection("posts").snapshotChanges().pipe((0,Dt.U)(t=>t.map(r=>{const o=r.payload.doc.data();return{id:r.payload.doc.id,data:o}})))}loadOneData(t){return this.afs.collection("posts").doc(t).valueChanges()}updateData(t,r){this.afs.doc(`posts/${t}`).update(r).then(o=>{this.toastr.success("Updated!"),this.router.navigate(["/posts"])})}deleteImage(t,r){this.storage.storage.refFromURL(t).delete().then(()=>{this.deleteData(r)})}deleteData(t){this.afs.doc(`posts/${t}`).delete().then(()=>{this.toastr.warning("Deleted successfully...!")})}markfeatured(t,r){this.afs.doc(`posts/${t}`).update(r).then(()=>{this.toastr.info("Featured Status Updated")})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(zR),l.LFG(AM),l.LFG(nc),l.LFG(ti))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function j$(n,e){1&n&&l._UZ(0,"div")}function z$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",25),l.NdJ("click",function(){l.CHM(t);const o=l.oxw().$implicit,a=l.oxw();return l.KtG(a.onFeatured(o.id,!0))}),l._uU(1," Mark "),l.qZA()}}function q$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",26),l.NdJ("click",function(){l.CHM(t);const o=l.oxw().$implicit,a=l.oxw();return l.KtG(a.onFeatured(o.id,!1))}),l._uU(1," Remove "),l.qZA()}}const G$=function(n){return{id:n}};function W$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l.YNc(2,j$,1,0,"div",18),l.qZA(),l.TgZ(3,"td",19),l._uU(4),l.qZA(),l.TgZ(5,"td",16),l._UZ(6,"img",20),l.qZA(),l.TgZ(7,"td",19),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l._uU(12),l.ALo(13,"date"),l.qZA(),l.TgZ(14,"td")(15,"button",21),l._uU(16," Edit "),l.qZA(),l.TgZ(17,"button",22),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.onDelete(a.data.postImgPath,a.id))}),l._uU(18," Delete "),l.qZA(),l.YNc(19,z$,2,0,"button",23),l.YNc(20,q$,2,0,"button",24),l.qZA()()}if(2&n){const t=e.$implicit,r=e.index,o=l.oxw();l.xp6(2),l.Q6J("ngIf",""===o.searchValue||t.data.category.category.includes(o.searchValue)),l.xp6(2),l.Oqu(r+1),l.xp6(2),l.s9C("src",t.data.postImgPath,l.LSH),l.xp6(2),l.Oqu(t.data.title),l.xp6(2),l.Oqu(null==t.data||null==t.data.category?null:t.data.category.category),l.xp6(2),l.Oqu(l.lcZ(13,9,null==t.data||null==t.data.createAt?null:t.data.createAt.toMillis())),l.xp6(3),l.Q6J("queryParams",l.VKq(11,G$,t.id)),l.xp6(4),l.Q6J("ngIf",!t.data.isFeatured),l.xp6(1),l.Q6J("ngIf",t.data.isFeatured)}}let Z$=(()=>{class n{constructor(t){this.postServ=t,this.postArray=[],this.searchValue=""}ngOnInit(){this.postServ.loadImgage().subscribe(t=>{this.postArray=t,console.log(this.postArray)})}onDelete(t,r){this.postServ.deleteImage(t,r)}onFeatured(t,r){this.postServ.markfeatured(t,{isFeatured:r})}onSearchChange(t){this.searchValue=t,console.log(this.searchValue)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(V2))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-all-post"]],decls:38,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body","text-center","bg-secondary-theme","shadow-effect"],[1,"text-theme-center","text-theme-primry"],[1,"text-center","mt-4"],["routerLink","/posts/new",1,"btn","btn-info","btn-theme"],["routerLink","/",1,"btn","btn-warning","ml-2"],[1,"container","pt-5","wid"],[1,"d-flex"],["type","search","name","search","placeholder","Search",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col-md-14"],[1,"card","shadow-effect"],[1,"card-body"],[1,"table","row-border","hover"],["width","200"],[4,"ngFor","ngForOf"],[4,"ngIf"],["width","10"],[1,"img","img-fluid",3,"src"],["routerLink","/posts/new",1,"btn","btn-sm","btn-warning",3,"queryParams"],[1,"btn","btn-sm","btn-danger","ml-2",3,"click"],["class","btn btn-sm btn-success ml-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-info ml-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-success","ml-2",3,"click"],[1,"btn","btn-sm","btn-info","ml-2",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),l._uU(6,"All Blog Posts"),l.qZA(),l.TgZ(7,"p",6),l._uU(8,"manage the blog posts."),l.qZA(),l.TgZ(9,"button",7),l._uU(10," Add New Post "),l.qZA(),l.TgZ(11,"button",8),l._uU(12,"Back"),l.qZA(),l.TgZ(13,"div",9)(14,"form",10)(15,"input",11),l.NdJ("ngModelChange",function(a){return r.searchValue=a})("keyup",function(){return r.onSearchChange(r.searchValue)}),l.qZA()()()()()()(),l.TgZ(16,"div",1)(17,"div",12)(18,"div",13)(19,"div",14)(20,"table",15)(21,"thead")(22,"tr"),l._UZ(23,"th"),l.TgZ(24,"th"),l._uU(25,"No"),l.qZA(),l.TgZ(26,"th"),l._uU(27,"Post Image"),l.qZA(),l.TgZ(28,"th",16),l._uU(29,"Title"),l.qZA(),l.TgZ(30,"th"),l._uU(31,"Category"),l.qZA(),l.TgZ(32,"th",16),l._uU(33,"Date"),l.qZA(),l.TgZ(34,"th"),l._uU(35,"Actions"),l.qZA()()(),l.TgZ(36,"tbody"),l.YNc(37,W$,21,13,"tr",17),l.qZA()()()()()()()),2&t&&(l.xp6(15),l.Q6J("ngModel",r.searchValue),l.xp6(22),l.Q6J("ngForOf",r.postArray))},dependencies:[Xr,kr,fp,vl,Es,Ka,Ya,Hu,ec,Fr],styles:[".ml-2[_ngcontent-%COMP%]{margin-left:20px}button[_ngcontent-%COMP%]{text-align:center;align-self:center;margin-top:10px}.wid[_ngcontent-%COMP%]{width:500px}"]}),n})();const K$=["attachment"];function Y$(n,e){1&n&&(l.TgZ(0,"div",29),l._uU(1," Title is required "),l.qZA())}function Q$(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,Y$,2,0,"div",28),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",t.postForm.controls.title.touched&&t.postForm.controls.title.invalid)}}function J$(n,e){1&n&&(l.TgZ(0,"div",29),l._uU(1," Title must be atleast 10 charectors long. "),l.qZA())}function X$(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,J$,2,0,"div",28),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",t.postForm.controls.title.touched&&t.postForm.controls.title.invalid)}}function ej(n,e){1&n&&(l.TgZ(0,"div",29),l._uU(1," permalink is required "),l.qZA())}function tj(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,ej,2,0,"div",28),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",t.postForm.controls.permalink.touched&&t.postForm.controls.permalink.invalid)}}function nj(n,e){1&n&&(l.TgZ(0,"div",29),l._uU(1," Excerpt is required "),l.qZA())}function rj(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,nj,2,0,"div",28),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",t.postForm.controls.excerpt.touched&&t.postForm.controls.excerpt.invalid)}}function oj(n,e){1&n&&(l.TgZ(0,"div",29),l._uU(1," Excerpt must be atleast 5 charectors long. "),l.qZA())}function ij(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,oj,2,0,"div",28),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",t.postForm.controls.excerpt.touched&&t.postForm.controls.excerpt.invalid)}}function sj(n,e){if(1&n&&(l.TgZ(0,"option",30),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.hYB("value"," ",t.id,"-",t.data.category,""),l.xp6(1),l.hij(" ",t.data.category," ")}}function aj(n,e){1&n&&(l.TgZ(0,"div",29),l._uU(1," Select is required "),l.qZA())}function cj(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,aj,2,0,"div",28),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",t.postForm.controls.category.touched&&t.postForm.controls.category.invalid)}}function lj(n,e){1&n&&(l.TgZ(0,"div",29),l._uU(1," Excerpt is required "),l.qZA())}function uj(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,lj,2,0,"div",28),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",t.postForm.controls.postImg.touched&&t.postForm.controls.postImg.invalid)}}function fj(n,e){1&n&&(l.TgZ(0,"div",29),l._uU(1," Content is required "),l.qZA())}function dj(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,fj,2,0,"div",28),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",t.postForm.controls.content.touched&&t.postForm.controls.content.invalid)}}const vC=function(n){return{"is-invalid":n}};function hj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"form",6),l.NdJ("ngSubmit",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.onSubmit())}),l.TgZ(2,"div",1)(3,"div",7)(4,"div",8)(5,"div",9)(6,"div",10)(7,"label",11),l._uU(8," Title "),l.qZA(),l.TgZ(9,"input",12),l.NdJ("keyup",function(o){l.CHM(t);const a=l.oxw();return l.KtG(a.onTitleChanged(o))}),l.qZA(),l.YNc(10,Q$,2,1,"div",5),l.YNc(11,X$,2,1,"div",5),l.qZA(),l.TgZ(12,"div",10)(13,"label",11),l._uU(14," Permalink "),l.qZA(),l._UZ(15,"input",13),l.YNc(16,tj,2,1,"div",5),l.qZA(),l.TgZ(17,"div",10)(18,"label",11),l._uU(19," Except"),l.qZA(),l._UZ(20,"textarea",14),l.YNc(21,rj,2,1,"div",5),l.YNc(22,ij,2,1,"div",5),l.qZA()()()(),l.TgZ(23,"div",15)(24,"div",10)(25,"label",16),l._uU(26,"Select post category"),l.qZA(),l.TgZ(27,"select",17)(28,"option",18),l._uU(29," Tap to select a category "),l.qZA(),l.YNc(30,sj,2,3,"option",19),l.qZA(),l.YNc(31,cj,2,1,"div",5),l.qZA(),l.TgZ(32,"div",10)(33,"label",16),l._uU(34," Post Image"),l.qZA(),l._UZ(35,"img",20),l.TgZ(36,"input",21),l.NdJ("change",function(o){l.CHM(t);const a=l.oxw();return l.KtG(a.onSelectedImage(o))}),l.qZA(),l.YNc(37,uj,2,1,"div",5),l.qZA()()(),l.TgZ(38,"div",22)(39,"div",23)(40,"div",8)(41,"div",9)(42,"div",10)(43,"label",16),l._uU(44," Content "),l.qZA(),l._UZ(45,"angular-editor",24),l.YNc(46,dj,2,1,"div",5),l.qZA()()()(),l.TgZ(47,"div",25)(48,"button",26),l._uU(49),l.qZA(),l.TgZ(50,"button",27),l._uU(51," Back "),l.qZA()()()()()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("formGroup",t.postForm),l.xp6(8),l.Q6J("ngClass",l.VKq(20,vC,t.postForm.controls.title.touched&&t.postForm.controls.title.invalid)),l.xp6(1),l.Q6J("ngIf",null==t.postForm.controls.title.errors?null:t.postForm.controls.title.errors.required),l.xp6(1),l.Q6J("ngIf",null==t.postForm.controls.title.errors?null:t.postForm.controls.title.errors.minlength),l.xp6(4),l.Q6J("ngModel",t.permilink)("ngClass",l.VKq(22,vC,t.postForm.controls.permalink.touched&&t.postForm.controls.permalink.invalid)),l.uIk("disabled",!0),l.xp6(1),l.Q6J("ngIf",null==t.postForm.controls.permalink.errors?null:t.postForm.controls.permalink.errors.required),l.xp6(4),l.Q6J("ngClass",l.VKq(24,vC,t.postForm.controls.excerpt.touched&&t.postForm.controls.excerpt.invalid)),l.xp6(1),l.Q6J("ngIf",null==t.postForm.controls.excerpt.errors?null:t.postForm.controls.excerpt.errors.required),l.xp6(1),l.Q6J("ngIf",null==t.postForm.controls.excerpt.errors?null:t.postForm.controls.excerpt.errors.minlength),l.xp6(5),l.Q6J("ngClass",l.VKq(26,vC,t.postForm.controls.category.touched&&t.postForm.controls.category.invalid)),l.xp6(3),l.Q6J("ngForOf",t.item),l.xp6(1),l.Q6J("ngIf",null==t.postForm.controls.category.errors?null:t.postForm.controls.category.errors.required),l.xp6(4),l.Q6J("src",t.imgSrc,l.LSH),l.xp6(1),l.Q6J("ngClass",l.VKq(28,vC,t.postForm.controls.postImg.touched&&t.postForm.controls.postImg.invalid)),l.xp6(1),l.Q6J("ngIf",null==t.postForm.controls.postImg.errors?null:t.postForm.controls.postImg.errors.required),l.xp6(9),l.Q6J("ngIf",null==t.postForm.controls.content.errors?null:t.postForm.controls.content.errors.required),l.xp6(2),l.Q6J("disabled",t.postForm.invalid),l.xp6(1),l.hij(" ",t.formStatus," Post ")}}let pj=(()=>{class n{constructor(t,r,o,a){this.categoryService=t,this.fb=r,this.path=o,this.route=a,this.permilink="",this.imgSrc="./assets/placeholder-image.png",this.selectedImg=[],this.item=[],this.formStatus="Add New",this.docId="",this.isDisabled=!1,this.disableMessage=!0,this.route.queryParams.subscribe(u=>{this.docId=u.id,console.log("val",u),this.path.loadOneData(u.id).subscribe(h=>{this.post=h,this.postForm=this.fb.group({title:[this.post?.title,[Ms.required,Ms.minLength(5)]],permalink:[this.post?.permalink,Ms.required],excerpt:[this.post?.excerpt,[Ms.required,Ms.minLength(5)]],category:[`${this.post?.category.categoryId}-${this.post?.category.category}`,Ms.required],postImg:["",Ms.required],content:[this.post?.content,Ms.required]}),this.imgSrc=this.post?.postImgPath,h&&(this.formStatus="Edit")})})}ngOnInit(){this.categoryService.loadData().subscribe(t=>{this.item=t})}onSelectedImage(t){const r=t.target.files;if(!(this.selectedImg?.length+r.length>10))for(let u of r){const h=u.size,_=new FileReader;h>209715200?alert("File must be smaller than 200MB"):(_.onload=v=>{const M={file:u,preview:v.target?.result};this.selectedImg?.push(M),this.imgSrc=M.preview},_.readAsDataURL(u))}}get fc(){return this.postForm.controls}onTitleChanged(t){this.permilink=t.target.value.replace(/\s/g,"-")}setDisabledState(t){this.isDisabled=t}onSubmit(){const t=this.postForm.value.category.split("-"),r={key:this.docId||this.path.createId(),title:this.postForm.value.title,permalink:this.postForm.value.permalink,category:{categoryId:t[0].trim(),category:t[1]},excerpt:this.postForm.value.excerpt,postImgPath:[],content:this.postForm.value.content,isFeatured:!1,views:0,status:"new",createAt:new Date,keywords:this.splitString(this.postForm.value.title)};console.log(this.selectedImg,"hello"),this.path.uploadImg(this.selectedImg,r,this.formStatus,this.docId),this.postForm.reset(),this.imgSrc="./assets/placeholder-image.png"}splitString(t){const r=[];for(let o=0;o<t.length;o++){const a=t.substring(0,o+1);r.push(a.toUpperCase())}return r}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(P1),l.Y36(B1),l.Y36(V2),l.Y36(up))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-new-post"]],viewQuery:function(t,r){if(1&t&&l.Gf(K$,5),2&t){let o;l.iGM(o=l.CRH())&&(r.photoFile1=o.first)}},decls:8,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-md-12","text-center"],[1,"text-theme-primary"],[1,"mb-5"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"col-md-7"],[1,"card","shadow-effect"],[1,"card-body"],[1,"form-group"],[1,""],["type","text","formControlName","title",1,"form-control",3,"ngClass","keyup"],["type","text","name","permalink","formControlName","permalink",1,"form-control",3,"ngModel","ngClass"],["cols","30","rows","10","formControlName","excerpt",1,"form-control",3,"ngClass"],[1,"col-md-5"],["for",""],["formControlName","category",1,"form-control","shadow-effect",3,"ngClass"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","img-fluid","img-preview","shadow-effect",3,"src"],["type","file","formControlName","postImg","accept","image/*",1,"form-control","shadow-effect",3,"ngClass","change"],[1,"row","mt-3","mb-5"],[1,"col-md-12"],["placeholder","write about your content here","formControlName","content"],[1,"col-md-12","text-center","mb-5"],[1,"btn","btn-info","btn-theme","mt-4",3,"disabled"],["routerLink","/posts",1,"btn","btn-warning","ml-3","mt-4"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"],[3,"value"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),l._uU(4),l.qZA(),l.TgZ(5,"p",4),l._uU(6),l.qZA()()(),l.YNc(7,hj,52,30,"div",5),l.qZA()),2&t&&(l.xp6(4),l.hij("",r.formStatus," Post"),l.xp6(2),l.hij("",r.formStatus," post"),l.xp6(1),l.Q6J("ngIf",r.postForm))},dependencies:[qt,Xr,kr,fp,vl,ZC,q_,Es,Zp,Ka,Ya,MT,Li,z_],styles:["textarea[_ngcontent-%COMP%]{resize:none}.ml-3[_ngcontent-%COMP%]{margin-left:30px;box-shadow:#0000003d 0 3px 8px;border:none}label[_ngcontent-%COMP%]{margin:10px 0}.img-fluid[_ngcontent-%COMP%]{padding-bottom:10px;margin-bottom:10px;height:321px;object-fit:cover}"]}),n})(),D1=(()=>{class n{constructor(t,r,o){this.afAuth=t,this.toast=r,this.route=o,this.loggedIn=new Vs(!1),this.isLoggedInGuard=!1}login(t){this.afAuth.signInWithEmailAndPassword(t.email,t.password).then(()=>{this.toast.success("Login Successfully"),this.loadUser(),this.loggedIn.next(!0),this.isLoggedInGuard=!0,this.route.navigate(["/"])}).catch(r=>{this.toast.warning("Khos ai pek")})}loadUser(){this.afAuth.authState.subscribe(t=>{localStorage.setItem("user",JSON.stringify(t))})}logOut(){this.afAuth.signOut().then(()=>{this.toast.success("log jenh ai pek"),localStorage.removeItem("user"),this.loggedIn.next(!1),this.isLoggedInGuard=!1,this.route.navigate(["/login"])})}isLoggedIn(){return this.loggedIn.asObservable()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ng),l.LFG(nc),l.LFG(ti))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gj(n,e){1&n&&(l.TgZ(0,"div"),l._uU(1," email must fill "),l.qZA())}function mj(n,e){1&n&&(l.TgZ(0,"div"),l._uU(1," please enter an email "),l.qZA())}function _j(n,e){if(1&n&&(l.TgZ(0,"div",18),l.YNc(1,gj,2,0,"div",19),l.YNc(2,mj,2,0,"div",19),l.qZA()),2&n){l.oxw();const t=l.MAs(15);l.xp6(1),l.Q6J("ngIf",null==t.errors?null:t.errors.required),l.xp6(1),l.Q6J("ngIf",null==t.errors?null:t.errors.email)}}function yj(n,e){1&n&&(l.TgZ(0,"div"),l._uU(1," password must fill "),l.qZA())}function bj(n,e){1&n&&(l.TgZ(0,"div"),l._uU(1," please enter your motherfucking password "),l.qZA())}function vj(n,e){if(1&n&&(l.TgZ(0,"div",18),l.YNc(1,yj,2,0,"div",19),l.YNc(2,bj,2,0,"div",19),l.qZA()),2&n){l.oxw();const t=l.MAs(19);l.xp6(1),l.Q6J("ngIf",null==t.errors?null:t.errors.required),l.xp6(1),l.Q6J("ngIf",null==t.errors?null:t.errors.password)}}const B2=function(n){return{"is-invalid":n}};let Cj=(()=>{class n{constructor(t,r){this.login=t,this.route=r}onSubmit(t){const r=this.login.login(t);console.log(r)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(D1),l.Y36(ti))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:24,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-md-3"],[1,"col-md-6"],[1,"card","p-5","shadow-effect","bg-secondary-theme"],[1,"card-body"],[1,"text-center"],[1,"text-theme-primary"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"form-group"],["type","email","required","","email","","placeholder","Email","name","email","ngModel","",1,"form-control",3,"ngClass"],["Email","ngModel"],["class","alert alert-danger",4,"ngIf"],[1,"form-group","mt-2"],["type","password","required","","password","","placeholder","Password","name","password","ngModel","",1,"form-control",3,"ngClass"],["Password","ngModel"],[1,"btn","btn-theme","mt-2",3,"disabled"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(t,r){if(1&t){const o=l.EpF();l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"div",2),l.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h3",7),l._uU(8,"Login"),l.qZA(),l.TgZ(9,"p"),l._uU(10,"Please login"),l.qZA()(),l.TgZ(11,"form",8,9),l.NdJ("ngSubmit",function(){l.CHM(o);const u=l.MAs(12);return l.KtG(r.onSubmit(u.value))}),l.TgZ(13,"div",10),l._UZ(14,"input",11,12),l.YNc(16,_j,3,2,"div",13),l.qZA(),l.TgZ(17,"div",14),l._UZ(18,"input",15,16),l.YNc(20,vj,3,2,"div",13),l.qZA(),l.TgZ(21,"button",17),l._uU(22,"Login"),l.qZA()()()()(),l._UZ(23,"div",2),l.qZA()()}if(2&t){const o=l.MAs(12),a=l.MAs(15),u=l.MAs(19);l.xp6(14),l.Q6J("ngClass",l.VKq(5,B2,a.touched&&a.invalid)),l.xp6(2),l.Q6J("ngIf",a.touched&&a.invalid),l.xp6(2),l.Q6J("ngClass",l.VKq(7,B2,u.touched&&u.invalid)),l.xp6(2),l.Q6J("ngIf",u.touched&&u.invalid),l.xp6(1),l.Q6J("disabled",o.invalid)}},dependencies:[qt,kr,vl,Es,Ka,Ya,qd,Jp,Hu,ec],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.alert[_ngcontent-%COMP%]{display:flex;height:30px;justify-content:center;align-items:center}"]}),n})(),l_=(()=>{class n{constructor(t,r,o){this.authSev=t,this.route=r,this.toastr=o}canActivate(t,r){return!!this.authSev.isLoggedInGuard||(this.toastr.warning("You can not access this page!"),this.route.navigate(["/login"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(D1),l.LFG(ti),l.LFG(nc))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wj=(()=>{class n{constructor(t,r){this.afs=t,this.toastr=r}loadData(){return this.afs.collection("subscribers").snapshotChanges().pipe((0,Dt.U)(t=>t.map(r=>({data:r.payload.doc.data(),id:r.payload.doc.id}))))}deleteData(t){this.afs.doc(`subscribers/${t}`).delete().then(r=>{this.toastr.success("Data Deleted...!")})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(AM),l.LFG(nc))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ej(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td")(8,"button",13),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.onDel(a.id))}),l._uU(9,"Delete"),l.qZA()()()}if(2&n){const t=e.$implicit,r=e.index;l.xp6(2),l.Oqu(r+1),l.xp6(2),l.Oqu(t.data.name),l.xp6(2),l.hij(" ",t.data.email," ")}}const Mj=[{path:"",component:$$,canActivate:[l_]},{path:"login",component:Cj},{path:"categories",component:H$,canActivate:[l_]},{path:"location",component:(()=>{class n{constructor(t){this.categoryService=t,this.itemArray=[],this.formItem="",this.formStatus="Add",this.itemId=""}ngOnInit(){}onSubmit(t){let r={location:t.value.location};"Add"==this.formStatus?(this.categoryService.saveDataLocation(r),t.reset()):"Edit"==this.formStatus&&(this.categoryService.updateLocation(this.itemId,r),t.reset(),this.formStatus="Add")}onEdit(t,r){this.formItem=t,this.formStatus="Edit",this.itemId=r}onDelete(t){this.categoryService.deleteLocation(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(P1))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-location"]],decls:0,vars:0,template:function(t,r){}}),n})(),canActivate:[l_]},{path:"posts",component:Z$,canActivate:[l_]},{path:"posts/new",component:pj,canActivate:[l_]},{path:"subscribers",component:(()=>{class n{constructor(t){this.subSev=t,this.subArray=[],this.subSev.loadData().subscribe(r=>{this.subArray=r})}onDel(t){this.subSev.deleteData(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(wj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-subsribers"]],decls:28,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body","text-center","bg-secondary-theme","shadow-effect"],[1,"text-theme-center","text-theme-primry"],[1,"text-center","mt-4"],["routerLink","/",1,"btn","btn-warning","ml-2"],[1,"col-md-14"],[1,"card","shadow-effect"],[1,"card-body"],[1,"table","row-border","hover"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-danger","ml-2",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),l._uU(6,"All Subscribers"),l.qZA(),l.TgZ(7,"p",6),l._uU(8,"manage your subscribers."),l.qZA(),l.TgZ(9,"button",7),l._uU(10,"Back"),l.qZA()()()()(),l.TgZ(11,"div",1)(12,"div",8)(13,"div",9)(14,"div",10)(15,"table",11)(16,"thead")(17,"tr")(18,"th"),l._uU(19,"No"),l.qZA(),l.TgZ(20,"th"),l._uU(21,"Name"),l.qZA(),l.TgZ(22,"th"),l._uU(23,"Email"),l.qZA(),l.TgZ(24,"th"),l._uU(25,"Actions"),l.qZA()()(),l.TgZ(26,"tbody"),l.YNc(27,Ej,10,3,"tr",12),l.qZA()()()()()()()),2&t&&(l.xp6(27),l.Q6J("ngForOf",r.subArray))},dependencies:[Xr,fp]}),n})(),canActivate:[l_]}];let Ij=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[L2.forRoot(Mj),L2]}),n})();function Tj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",1)(1,"a",4),l._uU(2),l.qZA(),l.TgZ(3,"button",5),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.out())}),l._uU(4," Logout "),l.qZA()()}if(2&n){const t=l.oxw();l.xp6(2),l.hij(" ",t.userEmail," ")}}let Pj=(()=>{class n{constructor(t){this.auth=t,this.userEmail=""}ngOnInit(){this.userEmail=JSON.parse(localStorage.getItem("user")||"{}").email,this.isLoggedIn$=this.auth.isLoggedIn()}out(){this.auth.logOut()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(D1))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-header"]],decls:6,vars:3,consts:[[1,"navbar","navbar-expand-lg","fixed-top","bg-white","shadow-effect"],[1,"container","justify-content-center"],["href","#",1,"site-logo"],["class","container justify-content-center",4,"ngIf"],["href","#",1,"ml-4"],[1,"btn","btn-sm","btn-info","bg-secondary-theme","text-theme-primary",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"header",0)(1,"div",1)(2,"a",2),l._uU(3,"University"),l.qZA()(),l.YNc(4,Tj,5,1,"div",3),l.ALo(5,"async"),l.qZA()),2&t&&(l.xp6(4),l.Q6J("ngIf",l.lcZ(5,1,r.isLoggedIn$)))},dependencies:[kr,mi],styles:["header[_ngcontent-%COMP%]{height:100px}header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}header[_ngcontent-%COMP%]   .site-logo[_ngcontent-%COMP%]{font-size:1.5em}header[_ngcontent-%COMP%]   .ml-4[_ngcontent-%COMP%]{margin-right:10px;color:var(--body-text-color)}"]}),n})(),Dj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:8,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-12","text-center"],[1,"site-logo"],[1,"mb-2","mt-2"]],template:function(t,r){1&t&&(l.TgZ(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),l._uU(5,"University"),l.qZA(),l.TgZ(6,"p",4),l._uU(7,"Copyright \xa9 2023 University Info"),l.qZA()()()()())},styles:["footer[_ngcontent-%COMP%]{height:130px;padding:15px;background-color:var(--navbar-footer-color)}.site-logo[_ngcontent-%COMP%]{font-size:1.2em}.nav-link[_ngcontent-%COMP%]{text-transform:uppercase}"]}),n})(),Oj=(()=>{class n{constructor(){this.title="university-backend"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"app-body"],[1,"container","mt-5","mb-5"],[1,"row","justify-content-center"]],template:function(t,r){1&t&&(l._UZ(0,"app-header"),l.TgZ(1,"div",0),l._UZ(2,"router-outlet"),l.qZA(),l.TgZ(3,"div",1),l._UZ(4,"div",2),l.qZA(),l._UZ(5,"app-footer"))},dependencies:[p1,Pj,Dj],styles:[".app-body[_ngcontent-%COMP%]{min-height:45vh;margin-top:150px}"]}),n})();var Sj=F(3008);const O1_firebase={apiKey:"AIzaSyCnEMtHpsign_S78Jn93XxMPOxvw0gB96s",authDomain:"aboutcambodia-a1c89.firebaseapp.com",databaseURL:"https://aboutcambodia-a1c89-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"aboutcambodia-a1c89",storageBucket:"aboutcambodia-a1c89.appspot.com",messagingSenderId:"752303778292",appId:"1:752303778292:web:80539d70386bfa024771a1",measurementId:"G-S2FCS9HBMQ"},Aj=(0,Os.ZF)(O1_firebase);(0,Sj.IH)(Aj),F(1389);class $2{constructor(){return(0,pn.vb)("auth")}}class x1{constructor(e){return e}}const j2="firestore",k1=new l.OlP("angularfire2.firestore-instances");function Lj(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new x1(r)}}const Uj={provide:class Nj{constructor(){return(0,pn.vb)(j2)}},deps:[[new l.FiY,k1]]},Vj={provide:x1,useFactory:function Fj(n,e){const t=(0,pn.JM)(j2,n,e);return t&&new x1(t)},deps:[[new l.FiY,k1],ef]};let Bj=(()=>{class n{constructor(){(0,Os.KN)("angularfire",pn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Vj,Uj]}),n})();function Hj(n,...e){return{ngModule:Bj,providers:[{provide:k1,useFactory:Lj(n),multi:!0,deps:[l.R0b,l.zs3,pn.HU,N0,[new l.FiY,$2],[new l.FiY,uf],...e]}]}}const $j=(0,pn.u3)(cU,!0);let jj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[Oj]}),n.\u0275inj=l.cJS({imports:[ea,Ij,Zo.hO.initializeApp(O1_firebase),MV,Q_,mg(()=>Oy(O1_firebase)),Hj(()=>$j()),d6,iT.forRoot(),PT,_y,J_,h3,rw]}),n})();__().bootstrapModule(jj).catch(n=>console.error(n))},9751:(Ot,ke,F)=>{F.d(ke,{y:()=>Ce});var l=F(2961),H=F(727),N=F(8822),te=F(9635),pe=F(2416),se=F(576),ve=F(2806);let Ce=(()=>{class J{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const qe=new J;return qe.source=this,qe.operator=Ie,qe}subscribe(Ie,qe,_t){const ye=function q(J){return J&&J instanceof l.Lv||function G(J){return J&&(0,se.m)(J.next)&&(0,se.m)(J.error)&&(0,se.m)(J.complete)}(J)&&(0,H.Nn)(J)}(Ie)?Ie:new l.Hp(Ie,qe,_t);return(0,ve.x)(()=>{const{operator:Ne,source:Be}=this;ye.add(Ne?Ne.call(ye,Be):Be?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(qe){Ie.error(qe)}}forEach(Ie,qe){return new(qe=we(qe))((_t,ye)=>{const Ne=new l.Hp({next:Be=>{try{Ie(Be)}catch(Ge){ye(Ge),Ne.unsubscribe()}},error:ye,complete:_t});this.subscribe(Ne)})}_subscribe(Ie){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(Ie)}[N.L](){return this}pipe(...Ie){return(0,te.U)(Ie)(this)}toPromise(Ie){return new(Ie=we(Ie))((qe,_t)=>{let ye;this.subscribe(Ne=>ye=Ne,Ne=>_t(Ne),()=>qe(ye))})}}return J.create=Ae=>new J(Ae),J})();function we(J){var Ae;return null!==(Ae=J??pe.v.Promise)&&void 0!==Ae?Ae:Promise}},7579:(Ot,ke,F)=>{F.d(ke,{x:()=>ve});var l=F(9751),H=F(727);const te=(0,F(3888).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=F(8737),se=F(2806);let ve=(()=>{class we extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const J=new Ce(this,this);return J.operator=q,J}_throwIfClosed(){if(this.closed)throw new te}next(q){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(q)}})}error(q){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:J}=this;for(;J.length;)J.shift().error(q)}})}complete(){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:J,isStopped:Ae,observers:Ie}=this;return J||Ae?H.Lc:(this.currentObservers=null,Ie.push(q),new H.w0(()=>{this.currentObservers=null,(0,pe.P)(Ie,q)}))}_checkFinalizedStatuses(q){const{hasError:J,thrownError:Ae,isStopped:Ie}=this;J?q.error(Ae):Ie&&q.complete()}asObservable(){const q=new l.y;return q.source=this,q}}return we.create=(G,q)=>new Ce(G,q),we})();class Ce extends ve{constructor(G,q){super(),this.destination=G,this.source=q}next(G){var q,J;null===(J=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===J||J.call(q,G)}error(G){var q,J;null===(J=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===J||J.call(q,G)}complete(){var G,q;null===(q=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===q||q.call(G)}_subscribe(G){var q,J;return null!==(J=null===(q=this.source)||void 0===q?void 0:q.subscribe(G))&&void 0!==J?J:H.Lc}}},2961:(Ot,ke,F)=>{F.d(ke,{Hp:()=>_t,Lv:()=>J});var l=F(576),H=F(727),N=F(2416),te=F(7849);function pe(){}const se=we("C",void 0,void 0);function we(De,Pe,Fe){return{kind:De,value:Pe,error:Fe}}var G=F(3410),q=F(2806);class J extends H.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,H.Nn)(Pe)&&Pe.add(this)):this.destination=Ge}static create(Pe,Fe,Je){return new _t(Pe,Fe,Je)}next(Pe){this.isStopped?Be(function Ce(De){return we("N",De,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?Be(function ve(De){return we("E",void 0,De)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?Be(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ae=Function.prototype.bind;function Ie(De,Pe){return Ae.call(De,Pe)}class qe{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:Fe}=this;if(Fe.next)try{Fe.next(Pe)}catch(Je){ye(Je)}}error(Pe){const{partialObserver:Fe}=this;if(Fe.error)try{Fe.error(Pe)}catch(Je){ye(Je)}else ye(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(Fe){ye(Fe)}}}class _t extends J{constructor(Pe,Fe,Je){let $e;if(super(),(0,l.m)(Pe)||!Pe)$e={next:Pe??void 0,error:Fe??void 0,complete:Je??void 0};else{let ae;this&&N.v.useDeprecatedNextContext?(ae=Object.create(Pe),ae.unsubscribe=()=>this.unsubscribe(),$e={next:Pe.next&&Ie(Pe.next,ae),error:Pe.error&&Ie(Pe.error,ae),complete:Pe.complete&&Ie(Pe.complete,ae)}):$e=Pe}this.destination=new qe($e)}}function ye(De){N.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(De):(0,te.h)(De)}function Be(De,Pe){const{onStoppedNotification:Fe}=N.v;Fe&&G.z.setTimeout(()=>Fe(De,Pe))}const Ge={closed:!0,next:pe,error:function Ne(De){throw De},complete:pe}},727:(Ot,ke,F)=>{F.d(ke,{Lc:()=>se,w0:()=>pe,Nn:()=>ve});var l=F(576);const N=(0,F(3888).d)(we=>function(q){we(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((J,Ae)=>`${Ae+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var te=F(8737);class pe{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Ie of q)Ie.remove(this);else q.remove(this);const{initialTeardown:J}=this;if((0,l.m)(J))try{J()}catch(Ie){G=Ie instanceof N?Ie.errors:[Ie]}const{_finalizers:Ae}=this;if(Ae){this._finalizers=null;for(const Ie of Ae)try{Ce(Ie)}catch(qe){G=G??[],qe instanceof N?G=[...G,...qe.errors]:G.push(qe)}}if(G)throw new N(G)}}add(G){var q;if(G&&G!==this)if(this.closed)Ce(G);else{if(G instanceof pe){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(G)}}_hasParent(G){const{_parentage:q}=this;return q===G||Array.isArray(q)&&q.includes(G)}_addParent(G){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(G),q):q?[q,G]:G}_removeParent(G){const{_parentage:q}=this;q===G?this._parentage=null:Array.isArray(q)&&(0,te.P)(q,G)}remove(G){const{_finalizers:q}=this;q&&(0,te.P)(q,G),G instanceof pe&&G._removeParent(this)}}pe.EMPTY=(()=>{const we=new pe;return we.closed=!0,we})();const se=pe.EMPTY;function ve(we){return we instanceof pe||we&&"closed"in we&&(0,l.m)(we.remove)&&(0,l.m)(we.add)&&(0,l.m)(we.unsubscribe)}function Ce(we){(0,l.m)(we)?we():we.unsubscribe()}},2416:(Ot,ke,F)=>{F.d(ke,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ot,ke,F)=>{F.d(ke,{E:()=>H});const H=new(F(9751).y)(pe=>pe.complete())},8996:(Ot,ke,F)=>{F.d(ke,{D:()=>Pe});var l=F(8421),H=F(5363),N=F(9468),se=F(9751),Ce=F(2202),we=F(576),G=F(9672);function J(Fe,Je){if(!Fe)throw new Error("Iterable cannot be null");return new se.y($e=>{(0,G.f)($e,Je,()=>{const ae=Fe[Symbol.asyncIterator]();(0,G.f)($e,Je,()=>{ae.next().then(st=>{st.done?$e.complete():$e.next(st.value)})},0,!0)})})}var Ae=F(3670),Ie=F(8239),qe=F(1144),_t=F(6495),ye=F(2206),Ne=F(4532),Be=F(3260);function Pe(Fe,Je){return Je?function De(Fe,Je){if(null!=Fe){if((0,Ae.c)(Fe))return function te(Fe,Je){return(0,l.Xf)(Fe).pipe((0,N.R)(Je),(0,H.Q)(Je))}(Fe,Je);if((0,qe.z)(Fe))return function ve(Fe,Je){return new se.y($e=>{let ae=0;return Je.schedule(function(){ae===Fe.length?$e.complete():($e.next(Fe[ae++]),$e.closed||this.schedule())})})}(Fe,Je);if((0,Ie.t)(Fe))return function pe(Fe,Je){return(0,l.Xf)(Fe).pipe((0,N.R)(Je),(0,H.Q)(Je))}(Fe,Je);if((0,ye.D)(Fe))return J(Fe,Je);if((0,_t.T)(Fe))return function q(Fe,Je){return new se.y($e=>{let ae;return(0,G.f)($e,Je,()=>{ae=Fe[Ce.h](),(0,G.f)($e,Je,()=>{let st,Nt;try{({value:st,done:Nt}=ae.next())}catch(gt){return void $e.error(gt)}Nt?$e.complete():$e.next(st)},0,!0)}),()=>(0,we.m)(ae?.return)&&ae.return()})}(Fe,Je);if((0,Be.L)(Fe))return function Ge(Fe,Je){return J((0,Be.Q)(Fe),Je)}(Fe,Je)}throw(0,Ne.z)(Fe)}(Fe,Je):(0,l.Xf)(Fe)}},8421:(Ot,ke,F)=>{F.d(ke,{Xf:()=>Ae});var l=F(655),H=F(1144),N=F(8239),te=F(9751),pe=F(3670),se=F(2206),ve=F(4532),Ce=F(6495),we=F(3260),G=F(576),q=F(7849),J=F(8822);function Ae(De){if(De instanceof te.y)return De;if(null!=De){if((0,pe.c)(De))return function Ie(De){return new te.y(Pe=>{const Fe=De[J.L]();if((0,G.m)(Fe.subscribe))return Fe.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,H.z)(De))return function qe(De){return new te.y(Pe=>{for(let Fe=0;Fe<De.length&&!Pe.closed;Fe++)Pe.next(De[Fe]);Pe.complete()})}(De);if((0,N.t)(De))return function _t(De){return new te.y(Pe=>{De.then(Fe=>{Pe.closed||(Pe.next(Fe),Pe.complete())},Fe=>Pe.error(Fe)).then(null,q.h)})}(De);if((0,se.D)(De))return Ne(De);if((0,Ce.T)(De))return function ye(De){return new te.y(Pe=>{for(const Fe of De)if(Pe.next(Fe),Pe.closed)return;Pe.complete()})}(De);if((0,we.L)(De))return function Be(De){return Ne((0,we.Q)(De))}(De)}throw(0,ve.z)(De)}function Ne(De){return new te.y(Pe=>{(function Ge(De,Pe){var Fe,Je,$e,ae;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Fe=(0,l.KL)(De);!(Je=yield Fe.next()).done;)if(Pe.next(Je.value),Pe.closed)return}catch(st){$e={error:st}}finally{try{Je&&!Je.done&&(ae=Fe.return)&&(yield ae.call(Fe))}finally{if($e)throw $e.error}}Pe.complete()})})(De,Pe).catch(Fe=>Pe.error(Fe))})}},6451:(Ot,ke,F)=>{F.d(ke,{T:()=>se});var l=F(8189),H=F(8421),N=F(515),te=F(7669),pe=F(8996);function se(...ve){const Ce=(0,te.yG)(ve),we=(0,te._6)(ve,1/0),G=ve;return G.length?1===G.length?(0,H.Xf)(G[0]):(0,l.J)(we)((0,pe.D)(G,Ce)):N.E}},5403:(Ot,ke,F)=>{F.d(ke,{x:()=>H});var l=F(2961);function H(te,pe,se,ve,Ce){return new N(te,pe,se,ve,Ce)}class N extends l.Lv{constructor(pe,se,ve,Ce,we,G){super(pe),this.onFinalize=we,this.shouldUnsubscribe=G,this._next=se?function(q){try{se(q)}catch(J){pe.error(J)}}:super._next,this._error=Ce?function(q){try{Ce(q)}catch(J){pe.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(q){pe.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:se}=this;super.unsubscribe(),!se&&(null===(pe=this.onFinalize)||void 0===pe||pe.call(this))}}}},4004:(Ot,ke,F)=>{F.d(ke,{U:()=>N});var l=F(4482),H=F(5403);function N(te,pe){return(0,l.e)((se,ve)=>{let Ce=0;se.subscribe((0,H.x)(ve,we=>{ve.next(te.call(pe,we,Ce++))}))})}},8189:(Ot,ke,F)=>{F.d(ke,{J:()=>N});var l=F(5577),H=F(4671);function N(te=1/0){return(0,l.z)(H.y,te)}},5577:(Ot,ke,F)=>{F.d(ke,{z:()=>Ce});var l=F(4004),H=F(8421),N=F(4482),te=F(9672),pe=F(5403),ve=F(576);function Ce(we,G,q=1/0){return(0,ve.m)(G)?Ce((J,Ae)=>(0,l.U)((Ie,qe)=>G(J,Ie,Ae,qe))((0,H.Xf)(we(J,Ae))),q):("number"==typeof G&&(q=G),(0,N.e)((J,Ae)=>function se(we,G,q,J,Ae,Ie,qe,_t){const ye=[];let Ne=0,Be=0,Ge=!1;const De=()=>{Ge&&!ye.length&&!Ne&&G.complete()},Pe=Je=>Ne<J?Fe(Je):ye.push(Je),Fe=Je=>{Ie&&G.next(Je),Ne++;let $e=!1;(0,H.Xf)(q(Je,Be++)).subscribe((0,pe.x)(G,ae=>{Ae?.(ae),Ie?Pe(ae):G.next(ae)},()=>{$e=!0},void 0,()=>{if($e)try{for(Ne--;ye.length&&Ne<J;){const ae=ye.shift();qe?(0,te.f)(G,qe,()=>Fe(ae)):Fe(ae)}De()}catch(ae){G.error(ae)}}))};return we.subscribe((0,pe.x)(G,Pe,()=>{Ge=!0,De()})),()=>{_t?.()}}(J,Ae,we,q)))}},5363:(Ot,ke,F)=>{F.d(ke,{Q:()=>te});var l=F(9672),H=F(4482),N=F(5403);function te(pe,se=0){return(0,H.e)((ve,Ce)=>{ve.subscribe((0,N.x)(Ce,we=>(0,l.f)(Ce,pe,()=>Ce.next(we),se),()=>(0,l.f)(Ce,pe,()=>Ce.complete(),se),we=>(0,l.f)(Ce,pe,()=>Ce.error(we),se)))})}},3099:(Ot,ke,F)=>{F.d(ke,{B:()=>pe});var l=F(8421),H=F(7579),N=F(2961),te=F(4482);function pe(ve={}){const{connector:Ce=(()=>new H.x),resetOnError:we=!0,resetOnComplete:G=!0,resetOnRefCountZero:q=!0}=ve;return J=>{let Ae,Ie,qe,_t=0,ye=!1,Ne=!1;const Be=()=>{Ie?.unsubscribe(),Ie=void 0},Ge=()=>{Be(),Ae=qe=void 0,ye=Ne=!1},De=()=>{const Pe=Ae;Ge(),Pe?.unsubscribe()};return(0,te.e)((Pe,Fe)=>{_t++,!Ne&&!ye&&Be();const Je=qe=qe??Ce();Fe.add(()=>{_t--,0===_t&&!Ne&&!ye&&(Ie=se(De,q))}),Je.subscribe(Fe),!Ae&&_t>0&&(Ae=new N.Hp({next:$e=>Je.next($e),error:$e=>{Ne=!0,Be(),Ie=se(Ge,we,$e),Je.error($e)},complete:()=>{ye=!0,Be(),Ie=se(Ge,G),Je.complete()}}),(0,l.Xf)(Pe).subscribe(Ae))})(J)}}function se(ve,Ce,...we){if(!0===Ce)return void ve();if(!1===Ce)return;const G=new N.Hp({next:()=>{G.unsubscribe(),ve()}});return(0,l.Xf)(Ce(...we)).subscribe(G)}},9468:(Ot,ke,F)=>{F.d(ke,{R:()=>H});var l=F(4482);function H(N,te=0){return(0,l.e)((pe,se)=>{se.add(N.schedule(()=>pe.subscribe(se),te))})}},8505:(Ot,ke,F)=>{F.d(ke,{b:()=>pe});var l=F(576),H=F(4482),N=F(5403),te=F(4671);function pe(se,ve,Ce){const we=(0,l.m)(se)||ve||Ce?{next:se,error:ve,complete:Ce}:se;return we?(0,H.e)((G,q)=>{var J;null===(J=we.subscribe)||void 0===J||J.call(we);let Ae=!0;G.subscribe((0,N.x)(q,Ie=>{var qe;null===(qe=we.next)||void 0===qe||qe.call(we,Ie),q.next(Ie)},()=>{var Ie;Ae=!1,null===(Ie=we.complete)||void 0===Ie||Ie.call(we),q.complete()},Ie=>{var qe;Ae=!1,null===(qe=we.error)||void 0===qe||qe.call(we,Ie),q.error(Ie)},()=>{var Ie,qe;Ae&&(null===(Ie=we.unsubscribe)||void 0===Ie||Ie.call(we)),null===(qe=we.finalize)||void 0===qe||qe.call(we)}))}):te.y}},4408:(Ot,ke,F)=>{F.d(ke,{o:()=>pe});var l=F(727);class H extends l.w0{constructor(ve,Ce){super()}schedule(ve,Ce=0){return this}}const N={setInterval(se,ve,...Ce){const{delegate:we}=N;return we?.setInterval?we.setInterval(se,ve,...Ce):setInterval(se,ve,...Ce)},clearInterval(se){const{delegate:ve}=N;return(ve?.clearInterval||clearInterval)(se)},delegate:void 0};var te=F(8737);class pe extends H{constructor(ve,Ce){super(ve,Ce),this.scheduler=ve,this.work=Ce,this.pending=!1}schedule(ve,Ce=0){var we;if(this.closed)return this;this.state=ve;const G=this.id,q=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(q,G,Ce)),this.pending=!0,this.delay=Ce,this.id=null!==(we=this.id)&&void 0!==we?we:this.requestAsyncId(q,this.id,Ce),this}requestAsyncId(ve,Ce,we=0){return N.setInterval(ve.flush.bind(ve,this),we)}recycleAsyncId(ve,Ce,we=0){if(null!=we&&this.delay===we&&!1===this.pending)return Ce;null!=Ce&&N.clearInterval(Ce)}execute(ve,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(ve,Ce);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,Ce){let G,we=!1;try{this.work(ve)}catch(q){we=!0,G=q||new Error("Scheduled action threw falsy error")}if(we)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ve,scheduler:Ce}=this,{actions:we}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(we,this),null!=ve&&(this.id=this.recycleAsyncId(Ce,ve,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ot,ke,F)=>{F.d(ke,{v:()=>N});var l=F(6063);class H{constructor(pe,se=H.now){this.schedulerActionCtor=pe,this.now=se}schedule(pe,se=0,ve){return new this.schedulerActionCtor(this,pe).schedule(ve,se)}}H.now=l.l.now;class N extends H{constructor(pe,se=H.now){super(pe,se),this.actions=[],this._active=!1}flush(pe){const{actions:se}=this;if(this._active)return void se.push(pe);let ve;this._active=!0;do{if(ve=pe.execute(pe.state,pe.delay))break}while(pe=se.shift());if(this._active=!1,ve){for(;pe=se.shift();)pe.unsubscribe();throw ve}}}},4986:(Ot,ke,F)=>{F.d(ke,{z:()=>N});var l=F(4408);const N=new(F(7565).v)(l.o)},6063:(Ot,ke,F)=>{F.d(ke,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(Ot,ke,F)=>{F.d(ke,{z:()=>l});const l={setTimeout(H,N,...te){const{delegate:pe}=l;return pe?.setTimeout?pe.setTimeout(H,N,...te):setTimeout(H,N,...te)},clearTimeout(H){const{delegate:N}=l;return(N?.clearTimeout||clearTimeout)(H)},delegate:void 0}},2202:(Ot,ke,F)=>{F.d(ke,{h:()=>H});const H=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ot,ke,F)=>{F.d(ke,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Ot,ke,F)=>{F.d(ke,{_6:()=>se,jO:()=>te,yG:()=>pe});var l=F(576);function N(ve){return ve[ve.length-1]}function te(ve){return(0,l.m)(N(ve))?ve.pop():void 0}function pe(ve){return function H(ve){return ve&&(0,l.m)(ve.schedule)}(N(ve))?ve.pop():void 0}function se(ve,Ce){return"number"==typeof N(ve)?ve.pop():Ce}},8737:(Ot,ke,F)=>{function l(H,N){if(H){const te=H.indexOf(N);0<=te&&H.splice(te,1)}}F.d(ke,{P:()=>l})},3888:(Ot,ke,F)=>{function l(H){const te=H(pe=>{Error.call(pe),pe.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}F.d(ke,{d:()=>l})},2806:(Ot,ke,F)=>{F.d(ke,{O:()=>te,x:()=>N});var l=F(2416);let H=null;function N(pe){if(l.v.useDeprecatedSynchronousErrorHandling){const se=!H;if(se&&(H={errorThrown:!1,error:null}),pe(),se){const{errorThrown:ve,error:Ce}=H;if(H=null,ve)throw Ce}}else pe()}function te(pe){l.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=pe)}},9672:(Ot,ke,F)=>{function l(H,N,te,pe=0,se=!1){const ve=N.schedule(function(){te(),se?H.add(this.schedule(null,pe)):this.unsubscribe()},pe);if(H.add(ve),!se)return ve}F.d(ke,{f:()=>l})},4671:(Ot,ke,F)=>{function l(H){return H}F.d(ke,{y:()=>l})},1144:(Ot,ke,F)=>{F.d(ke,{z:()=>l});const l=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(Ot,ke,F)=>{F.d(ke,{D:()=>H});var l=F(576);function H(N){return Symbol.asyncIterator&&(0,l.m)(N?.[Symbol.asyncIterator])}},576:(Ot,ke,F)=>{function l(H){return"function"==typeof H}F.d(ke,{m:()=>l})},3670:(Ot,ke,F)=>{F.d(ke,{c:()=>N});var l=F(8822),H=F(576);function N(te){return(0,H.m)(te[l.L])}},6495:(Ot,ke,F)=>{F.d(ke,{T:()=>N});var l=F(2202),H=F(576);function N(te){return(0,H.m)(te?.[l.h])}},8239:(Ot,ke,F)=>{F.d(ke,{t:()=>H});var l=F(576);function H(N){return(0,l.m)(N?.then)}},3260:(Ot,ke,F)=>{F.d(ke,{L:()=>te,Q:()=>N});var l=F(655),H=F(576);function N(pe){return(0,l.FC)(this,arguments,function*(){const ve=pe.getReader();try{for(;;){const{value:Ce,done:we}=yield(0,l.qq)(ve.read());if(we)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Ce)}}finally{ve.releaseLock()}})}function te(pe){return(0,H.m)(pe?.getReader)}},4482:(Ot,ke,F)=>{F.d(ke,{A:()=>H,e:()=>N});var l=F(576);function H(te){return(0,l.m)(te?.lift)}function N(te){return pe=>{if(H(pe))return pe.lift(function(se){try{return te(se,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(Ot,ke,F)=>{F.d(ke,{U:()=>N,z:()=>H});var l=F(4671);function H(...te){return N(te)}function N(te){return 0===te.length?l.y:1===te.length?te[0]:function(se){return te.reduce((ve,Ce)=>Ce(ve),se)}}},7849:(Ot,ke,F)=>{F.d(ke,{h:()=>N});var l=F(2416),H=F(3410);function N(te){H.z.setTimeout(()=>{const{onUnhandledError:pe}=l.v;if(!pe)throw te;pe(te)})}},4532:(Ot,ke,F)=>{function l(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(ke,{z:()=>l})},655:(Ot,ke,F)=>{function te(be,me){var Se={};for(var Le in be)Object.prototype.hasOwnProperty.call(be,Le)&&me.indexOf(Le)<0&&(Se[Le]=be[Le]);if(null!=be&&"function"==typeof Object.getOwnPropertySymbols){var Ye=0;for(Le=Object.getOwnPropertySymbols(be);Ye<Le.length;Ye++)me.indexOf(Le[Ye])<0&&Object.prototype.propertyIsEnumerable.call(be,Le[Ye])&&(Se[Le[Ye]]=be[Le[Ye]])}return Se}function J(be,me,Se,Le){return new(Se||(Se=Promise))(function(Ze,yt){function je(tn){try{Mt(Le.next(tn))}catch(It){yt(It)}}function Vt(tn){try{Mt(Le.throw(tn))}catch(It){yt(It)}}function Mt(tn){tn.done?Ze(tn.value):function Ye(Ze){return Ze instanceof Se?Ze:new Se(function(yt){yt(Ze)})}(tn.value).then(je,Vt)}Mt((Le=Le.apply(be,me||[])).next())})}function De(be){return this instanceof De?(this.v=be,this):new De(be)}function Pe(be,me,Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,Le=Se.apply(be,me||[]),Ze=[];return Ye={},yt("next"),yt("throw"),yt("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye;function yt(Ut){Le[Ut]&&(Ye[Ut]=function(zn){return new Promise(function(An,mr){Ze.push([Ut,zn,An,mr])>1||je(Ut,zn)})})}function je(Ut,zn){try{!function Vt(Ut){Ut.value instanceof De?Promise.resolve(Ut.value.v).then(Mt,tn):It(Ze[0][2],Ut)}(Le[Ut](zn))}catch(An){It(Ze[0][3],An)}}function Mt(Ut){je("next",Ut)}function tn(Ut){je("throw",Ut)}function It(Ut,zn){Ut(zn),Ze.shift(),Ze.length&&je(Ze[0][0],Ze[0][1])}}function Je(be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,me=be[Symbol.asyncIterator];return me?me.call(be):(be=function _t(be){var me="function"==typeof Symbol&&Symbol.iterator,Se=me&&be[me],Le=0;if(Se)return Se.call(be);if(be&&"number"==typeof be.length)return{next:function(){return be&&Le>=be.length&&(be=void 0),{value:be&&be[Le++],done:!be}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(be),Se={},Le("next"),Le("throw"),Le("return"),Se[Symbol.asyncIterator]=function(){return this},Se);function Le(Ze){Se[Ze]=be[Ze]&&function(yt){return new Promise(function(je,Vt){!function Ye(Ze,yt,je,Vt){Promise.resolve(Vt).then(function(Mt){Ze({value:Mt,done:je})},yt)}(je,Vt,(yt=be[Ze](yt)).done,yt.value)})}}}F.d(ke,{FC:()=>Pe,KL:()=>Je,_T:()=>te,mG:()=>J,qq:()=>De})},4650:(Ot,ke,F)=>{F.d(ke,{$8M:()=>nl,$WT:()=>br,$Z:()=>P0,AFp:()=>kh,ALo:()=>Mh,AaK:()=>Ce,BQk:()=>Dg,CHM:()=>j,CRH:()=>Ca,CZH:()=>xh,CqO:()=>zy,D6c:()=>Pa,EJc:()=>XP,EiD:()=>W_,EpF:()=>$y,F$t:()=>G0,F4k:()=>jy,FYo:()=>iy,FiY:()=>ta,Gf:()=>ho,GfV:()=>d0,GkF:()=>Hy,Gpc:()=>q,Hsn:()=>qy,JOm:()=>vi,JVY:()=>NI,JZr:()=>_t,KtG:()=>ce,L6k:()=>j_,LAX:()=>FI,LFG:()=>zt,LSH:()=>JC,Lbi:()=>KP,Lck:()=>Kw,MAs:()=>q0,MMx:()=>nm,MR2:()=>qI,NdJ:()=>Sg,O4$:()=>h_,OlP:()=>Mn,Oqu:()=>Hi,P3R:()=>Y_,PXZ:()=>Mc,Q6J:()=>Uy,QGY:()=>Og,QbO:()=>YP,Qsj:()=>nT,R0b:()=>Jo,RDi:()=>xI,Rgc:()=>xs,SBq:()=>tc,Sil:()=>tD,Suo:()=>Rl,TTD:()=>ru,TgZ:()=>Tl,Tol:()=>pt,Udp:()=>cw,VKq:()=>Nb,WLB:()=>Tf,X6Q:()=>gr,XFs:()=>vt,Xpm:()=>et,Xts:()=>t0,Y36:()=>Qu,YKP:()=>em,YNc:()=>z0,Yjl:()=>nn,Yz7:()=>It,Z0I:()=>mr,ZZ4:()=>Ro,_Bn:()=>Ef,_UZ:()=>Tg,_Vd:()=>Wd,_c5:()=>qE,_uU:()=>sh,aQg:()=>Bl,c2e:()=>QP,cJS:()=>zn,cg1:()=>oo,d8E:()=>uh,dDg:()=>Br,dqk:()=>sn,eBb:()=>qC,eFA:()=>Ic,eJc:()=>um,ekj:()=>Lg,eoX:()=>Rs,evT:()=>ca,f3M:()=>Dn,g9A:()=>_E,h0i:()=>ba,hGG:()=>cD,hYB:()=>oh,hij:()=>gf,iGM:()=>Kb,ifc:()=>R,ip1:()=>os,jDz:()=>Yw,kL8:()=>fh,kcU:()=>vp,lG2:()=>Tt,lcZ:()=>$b,lqb:()=>aa,lri:()=>TE,mCW:()=>Kp,n5z:()=>Ed,oAB:()=>ee,oJD:()=>K_,oxw:()=>tP,pB0:()=>z_,q3G:()=>qr,q4F:()=>nc,qLn:()=>ng,qOj:()=>Xd,qZA:()=>rh,qzn:()=>$u,rWj:()=>Ea,s9C:()=>Gy,sBO:()=>iD,s_b:()=>io,soG:()=>ym,tb:()=>Rh,tp0:()=>Cs,uIk:()=>nh,vHH:()=>ye,vpe:()=>fo,wAp:()=>jt,xp6:()=>dy,ynx:()=>Pg,z2F:()=>Lh,z3N:()=>Li,zSh:()=>s0,zs3:()=>Zu});var l=F(7579),H=F(727),N=F(9751),te=F(6451),pe=F(3099);function se(i){for(let s in i)if(i[s]===se)return s;throw Error("Could not find renamed property on target object.")}function ve(i,s){for(const c in s)s.hasOwnProperty(c)&&!i.hasOwnProperty(c)&&(i[c]=s[c])}function Ce(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Ce).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const c=s.indexOf("\n");return-1===c?s:s.substring(0,c)}function we(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const G=se({__forward_ref__:se});function q(i){return i.__forward_ref__=q,i.toString=function(){return Ce(this())},i}function J(i){return Ae(i)?i():i}function Ae(i){return"function"==typeof i&&i.hasOwnProperty(G)&&i.__forward_ref__===q}function Ie(i){return i&&!!i.\u0275providers}const _t="https://g.co/ng/security#xss";class ye extends Error{constructor(s,c){super(Ne(s,c)),this.code=s}}function Ne(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}function Be(i){return"string"==typeof i?i:null==i?"":String(i)}function Je(i,s){throw new ye(-201,!1)}function yt(i,s){null==i&&function je(i,s,c,f){throw new Error(`ASSERTION ERROR: ${i}`+(null==f?"":` [Expected=> ${c} ${f} ${s} <=Actual]`))}(s,i,null,"!=")}function It(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function zn(i){return{providers:i.providers||[],imports:i.imports||[]}}function An(i){return Hn(i,ao)||Hn(i,No)}function mr(i){return null!==An(i)}function Hn(i,s){return i.hasOwnProperty(s)?i[s]:null}function Ar(i){return i&&(i.hasOwnProperty(fr)||i.hasOwnProperty(xn))?i[fr]:null}const ao=se({\u0275prov:se}),fr=se({\u0275inj:se}),No=se({ngInjectableDef:se}),xn=se({ngInjectorDef:se});var vt=(()=>((vt=vt||{})[vt.Default=0]="Default",vt[vt.Host=1]="Host",vt[vt.Self=2]="Self",vt[vt.SkipSelf=4]="SkipSelf",vt[vt.Optional=8]="Optional",vt))();let kn;function Wn(i){const s=kn;return kn=i,s}function Zn(i,s,c){const f=An(i);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:c&vt.Optional?null:void 0!==s?s:void Je(Ce(i))}const sn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),qn={},Pn="__NG_DI_FLAG__",Rn="ngTempTokenPath",_r="ngTokenPath",Nn=/\n/gm,er="\u0275",At="__source";let yr;function Yt(i){const s=yr;return yr=i,s}function $r(i,s=vt.Default){if(void 0===yr)throw new ye(-203,!1);return null===yr?Zn(i,void 0,s):yr.get(i,s&vt.Optional?null:void 0,s)}function zt(i,s=vt.Default){return(function Qr(){return kn}()||$r)(J(i),s)}function Dn(i,s=vt.Default){return zt(i,tr(s))}function tr(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Qn(i){const s=[];for(let c=0;c<i.length;c++){const f=J(i[c]);if(Array.isArray(f)){if(0===f.length)throw new ye(900,!1);let d,g=vt.Default;for(let y=0;y<f.length;y++){const w=f[y],E=xr(w);"number"==typeof E?-1===E?d=w.token:g|=E:d=w}s.push(zt(d,g))}else s.push(zt(f))}return s}function dr(i,s){return i[Pn]=s,i.prototype[Pn]=s,i}function xr(i){return i[Pn]}function $(i){return{toString:i}.toString()}var k=(()=>((k=k||{})[k.OnPush=0]="OnPush",k[k.Default=1]="Default",k))(),R=(()=>{return(i=R||(R={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",R;var i})();const S={},K=[],_e=se({\u0275cmp:se}),W=se({\u0275dir:se}),ie=se({\u0275pipe:se}),fe=se({\u0275mod:se}),xe=se({\u0275fac:se}),Oe=se({__NG_ELEMENT_ID__:se});let it=0;function et(i){return $(()=>{const s=vr(i),c={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===k.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||R.Emulated,id:"c"+it++,styles:i.styles||K,_:null,schemas:i.schemas||null,tView:null};$s(c);const f=i.dependencies;return c.directiveDefs=ni(f,!1),c.pipeDefs=ni(f,!0),c})}function Jt(i){return Et(i)||vn(i)}function ne(i){return null!==i}function ee(i){return $(()=>({type:i.type,bootstrap:i.bootstrap||K,declarations:i.declarations||K,imports:i.imports||K,exports:i.exports||K,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function bt(i,s){if(null==i)return S;const c={};for(const f in i)if(i.hasOwnProperty(f)){let d=i[f],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),c[d]=f,s&&(s[d]=g)}return c}function Tt(i){return $(()=>{const s=vr(i);return $s(s),s})}function nn(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Et(i){return i[_e]||null}function vn(i){return i[W]||null}function an(i){return i[ie]||null}function br(i){const s=Et(i)||vn(i)||an(i);return null!==s&&s.standalone}function ir(i,s){const c=i[fe]||null;if(!c&&!0===s)throw new Error(`Type ${Ce(i)} does not have '\u0275mod' property.`);return c}function vr(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||K,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bt(i.inputs,s),outputs:bt(i.outputs)}}function $s(i){i.features?.forEach(s=>s(i))}function ni(i,s){if(!i)return null;const c=s?an:Jt;return()=>("function"==typeof i?i():i).map(f=>c(f)).filter(ne)}const sr=0,ct=1,qt=2,Un=3,bn=4,Fo=5,Cr=6,Xr=7,Gn=8,zi=9,kr=10,Xt=11,Ai=12,V=13,X=14,ge=15,Xe=16,hn=17,Qt=18,cn=19,Vn=20,nr=21,ln=22,Lc=1,js=2,us=7,xi=8,mi=9,Nr=10;function co(i){return Array.isArray(i)&&"object"==typeof i[Lc]}function Eo(i){return Array.isArray(i)&&!0===i[Lc]}function zs(i){return 0!=(4&i.flags)}function qi(i){return i.componentOffset>-1}function Gi(i){return 1==(1&i.flags)}function Fr(i){return!!i.template}function _i(i){return 0!=(256&i[qt])}function oi(i,s){return i.hasOwnProperty(xe)?i[xe]:null}class mp{constructor(s,c,f){this.previousValue=s,this.currentValue=c,this.firstChange=f}isFirstChange(){return this.firstChange}}function ru(){return ou}function ou(i){return i.type.prototype.ngOnChanges&&(i.setInput=hs),ad}function ad(){const i=Gs(this),s=i?.current;if(s){const c=i.previous;if(c===S)i.previous=s;else for(let f in s)c[f]=s[f];i.current=null,this.ngOnChanges(s)}}function hs(i,s,c,f){const d=this.declaredInputs[c],g=Gs(i)||function su(i,s){return i[iu]=s}(i,{previous:S,current:null}),y=g.current||(g.current={}),w=g.previous,E=w[d];y[d]=new mp(E&&E.currentValue,s,w===S),i[f]=s}ru.ngInherit=!0;const iu="__ngSimpleChanges__";function Gs(i){return i[iu]||null}const ar=function(i,s,c){},Ws="svg";function hr(i){for(;Array.isArray(i);)i=i[sr];return i}function Ki(i,s){return hr(s[i])}function Tr(i,s){return hr(s[i.index])}function $c(i,s){return i.data[s]}function gs(i,s){return i[s]}function lo(i,s){const c=s[i];return co(c)?c:c[sr]}function ms(i){return 64==(64&i[qt])}function ii(i,s){return null==s?null:i[s]}function jc(i){i[Qt]=0}function Zs(i,s){i[Fo]+=s;let c=i,f=i[Un];for(;null!==f&&(1===s&&1===c[Fo]||-1===s&&0===c[Fo]);)f[Fo]+=s,c=f,f=f[Un]}const Lt={lFrame:fd(null),bindingsEnabled:!0};function au(){return Lt.bindingsEnabled}function I(){return Lt.lFrame.lView}function O(){return Lt.lFrame.tView}function j(i){return Lt.lFrame.contextLView=i,i[Gn]}function ce(i){return Lt.lFrame.contextLView=null,i}function Ee(){let i=We();for(;null!==i&&64===i.type;)i=i.parent;return i}function We(){return Lt.lFrame.currentTNode}function gn(i,s){const c=Lt.lFrame;c.currentTNode=i,c.isParent=s}function Cn(){return Lt.lFrame.isParent}function $n(){Lt.lFrame.isParent=!1}function cr(){const i=Lt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function qo(){return Lt.lFrame.bindingIndex++}function Lr(i){const s=Lt.lFrame,c=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,c}function wC(i,s){const c=Lt.lFrame;c.bindingIndex=c.bindingRootIndex=i,qc(s)}function qc(i){Lt.lFrame.currentDirectiveIndex=i}function lu(i){const s=Lt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function ud(){return Lt.lFrame.currentQueryIndex}function _p(i){Lt.lFrame.currentQueryIndex=i}function yp(i){const s=i[ct];return 2===s.type?s.declTNode:1===s.type?i[Cr]:null}function u_(i,s,c){if(c&vt.SkipSelf){let d=s,g=i;for(;!(d=d.parent,null!==d||c&vt.Host||(d=yp(g),null===d||(g=g[ge],10&d.type))););if(null===d)return!1;s=d,i=g}const f=Lt.lFrame=f_();return f.currentTNode=s,f.lView=i,!0}function uu(i){const s=f_(),c=i[ct];Lt.lFrame=s,s.currentTNode=c.firstChild,s.lView=i,s.tView=c,s.contextLView=i,s.bindingIndex=c.bindingStartIndex,s.inI18n=!1}function f_(){const i=Lt.lFrame,s=null===i?null:i.child;return null===s?fd(i):s}function fd(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function d_(){const i=Lt.lFrame;return Lt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const dd=d_;function bp(){const i=d_();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Mo(){return Lt.lFrame.selectedIndex}function bs(i){Lt.lFrame.selectedIndex=i}function lr(){const i=Lt.lFrame;return $c(i.tView,i.selectedIndex)}function h_(){Lt.lFrame.currentNamespace=Ws}function vp(){!function IC(){Lt.lFrame.currentNamespace=null}()}function pd(i,s){for(let c=s.directiveStart,f=s.directiveEnd;c<f;c++){const g=i.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:T,ngOnDestroy:A}=g;y&&(i.contentHooks??(i.contentHooks=[])).push(-c,y),w&&((i.contentHooks??(i.contentHooks=[])).push(c,w),(i.contentCheckHooks??(i.contentCheckHooks=[])).push(c,w)),E&&(i.viewHooks??(i.viewHooks=[])).push(-c,E),T&&((i.viewHooks??(i.viewHooks=[])).push(c,T),(i.viewCheckHooks??(i.viewCheckHooks=[])).push(c,T)),null!=A&&(i.destroyHooks??(i.destroyHooks=[])).push(c,A)}}function gd(i,s,c){fu(i,s,3,c)}function Cp(i,s,c,f){(3&i[qt])===c&&fu(i,s,c,f)}function wp(i,s){let c=i[qt];(3&c)===s&&(c&=2047,c+=1,i[qt]=c)}function fu(i,s,c,f){const g=f??-1,y=s.length-1;let w=0;for(let E=void 0!==f?65535&i[Qt]:0;E<y;E++)if("number"==typeof s[E+1]){if(w=s[E],null!=f&&w>=f)break}else s[E]<0&&(i[Qt]+=65536),(w<g||-1==g)&&(Wc(i,c,s,E),i[Qt]=(4294901760&i[Qt])+E+2),E++}function Wc(i,s,c,f){const d=c[f]<0,g=c[f+1],w=i[d?-c[f]:c[f]];if(d){if(i[qt]>>11<i[Qt]>>16&&(3&i[qt])===s){i[qt]+=2048,ar(4,w,g);try{g.call(w)}finally{ar(5,w,g)}}}else{ar(4,w,g);try{g.call(w)}finally{ar(5,w,g)}}}const Zc=-1;class Ks{constructor(s,c,f){this.factory=s,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=f}}function du(i,s,c){let f=0;for(;f<c.length;){const d=c[f];if("number"==typeof d){if(0!==d)break;f++;const g=c[f++],y=c[f++],w=c[f++];i.setAttribute(s,y,w,g)}else{const g=d,y=c[++f];Fa(g)?i.setProperty(s,g,y):i.setAttribute(s,g,y),f++}}return f}function Ip(i){return 3===i||4===i||6===i}function Fa(i){return 64===i.charCodeAt(0)}function Qs(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let c=-1;for(let f=0;f<s.length;f++){const d=s[f];"number"==typeof d?c=d:0===c||La(i,c,d,null,-1===c||2===c?s[++f]:null)}}return i}function La(i,s,c,f,d){let g=0,y=i.length;if(-1===s)y=-1;else for(;g<i.length;){const w=i[g++];if("number"==typeof w){if(w===s){y=-1;break}if(w>s){y=g-1;break}}}for(;g<i.length;){const w=i[g];if("number"==typeof w)break;if(w===c){if(null===f)return void(null!==d&&(i[g+1]=d));if(f===i[g+1])return void(i[g+2]=d)}g++,null!==f&&g++,null!==d&&g++}-1!==y&&(i.splice(y,0,s),g=y+1),i.splice(g++,0,c),null!==f&&i.splice(g++,0,f),null!==d&&i.splice(g++,0,d)}function Kc(i){return i!==Zc}function Yc(i){return 32767&i}function Qc(i,s){let c=function hu(i){return i>>16}(i),f=s;for(;c>0;)f=f[ge],c--;return f}let bd=!0;function Jc(i){const s=bd;return bd=i,s}const p_=255,pu=5;let g_=0;const Io={};function gu(i,s){const c=Cd(i,s);if(-1!==c)return c;const f=s[ct];f.firstCreatePass&&(i.injectorIndex=s.length,vs(f.data,i),vs(s,null),vs(f.blueprint,null));const d=wr(i,s),g=i.injectorIndex;if(Kc(d)){const y=Yc(d),w=Qc(d,s),E=w[ct].data;for(let T=0;T<8;T++)s[g+T]=w[y+T]|E[y+T]}return s[g+8]=d,g}function vs(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Cd(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function wr(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let c=0,f=null,d=s;for(;null!==d;){if(f=tl(d),null===f)return Zc;if(c++,d=d[ge],-1!==f.injectorIndex)return f.injectorIndex|c<<16}return Zc}function Xc(i,s,c){!function vd(i,s,c){let f;"string"==typeof c?f=c.charCodeAt(0)||0:c.hasOwnProperty(Oe)&&(f=c[Oe]),null==f&&(f=c[Oe]=g_++);const d=f&p_;s.data[i+(d>>pu)]|=1<<d}(i,s,c)}function Tp(i,s,c){if(c&vt.Optional||void 0!==i)return i;Je()}function el(i,s,c,f){if(c&vt.Optional&&void 0===f&&(f=null),!(c&(vt.Self|vt.Host))){const d=i[zi],g=Wn(void 0);try{return d?d.get(s,f,c&vt.Optional):Zn(s,f,c&vt.Optional)}finally{Wn(g)}}return Tp(f,0,c)}function Pp(i,s,c,f=vt.Default,d){if(null!==i){if(1024&s[qt]){const y=function __(i,s,c,f,d){let g=i,y=s;for(;null!==g&&null!==y&&1024&y[qt]&&!(256&y[qt]);){const w=Dp(g,y,c,f|vt.Self,Io);if(w!==Io)return w;let E=g.parent;if(!E){const T=y[nr];if(T){const A=T.get(c,Io,f);if(A!==Io)return A}E=tl(y),y=y[ge]}g=E}return d}(i,s,c,f,Io);if(y!==Io)return y}const g=Dp(i,s,c,f,Io);if(g!==Io)return g}return el(s,c,f,d)}function Dp(i,s,c,f,d){const g=function m_(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Oe)?i[Oe]:void 0;return"number"==typeof s?s>=0?s&p_:wd:s}(c);if("function"==typeof g){if(!u_(s,i,f))return f&vt.Host?Tp(d,0,f):el(s,c,f,d);try{const y=g(f);if(null!=y||f&vt.Optional)return y;Je()}finally{dd()}}else if("number"==typeof g){let y=null,w=Cd(i,s),E=Zc,T=f&vt.Host?s[Xe][Cr]:null;for((-1===w||f&vt.SkipSelf)&&(E=-1===w?wr(i,s):s[w+8],E!==Zc&&_u(f,!1)?(y=s[ct],w=Yc(E),s=Qc(E,s)):w=-1);-1!==w;){const A=s[ct];if(Js(g,w,A.data)){const U=Op(w,s,c,y,f,T);if(U!==Io)return U}E=s[w+8],E!==Zc&&_u(f,s[ct].data[w+8]===T)&&Js(g,w,s)?(y=A,w=Yc(E),s=Qc(E,s)):w=-1}}return d}function Op(i,s,c,f,d,g){const y=s[ct],w=y.data[i+8],A=Ua(w,y,c,null==f?qi(w)&&bd:f!=y&&0!=(3&w.type),d&vt.Host&&g===w);return null!==A?Qi(s,y,A,w):Io}function Ua(i,s,c,f,d){const g=i.providerIndexes,y=s.data,w=1048575&g,E=i.directiveStart,A=g>>20,Y=d?w+A:i.directiveEnd;for(let re=f?w:w+A;re<Y;re++){const Te=y[re];if(re<E&&c===Te||re>=E&&Te.type===c)return re}if(d){const re=y[E];if(re&&Fr(re)&&re.type===c)return E}return null}function Qi(i,s,c,f){let d=i[c];const g=s.data;if(function DC(i){return i instanceof Ks}(d)){const y=d;y.resolving&&function De(i,s){const c=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new ye(-200,`Circular dependency in DI detected for ${i}${c}`)}(function Ge(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Be(i)}(g[c]));const w=Jc(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?Wn(y.injectImpl):null;u_(i,f,vt.Default);try{d=i[c]=y.factory(void 0,g,i,f),s.firstCreatePass&&c>=f.directiveStart&&function PC(i,s,c){const{ngOnChanges:f,ngOnInit:d,ngDoCheck:g}=s.type.prototype;if(f){const y=ou(s);(c.preOrderHooks??(c.preOrderHooks=[])).push(i,y),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(i,y)}d&&(c.preOrderHooks??(c.preOrderHooks=[])).push(0-i,d),g&&((c.preOrderHooks??(c.preOrderHooks=[])).push(i,g),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(i,g))}(c,g[c],s)}finally{null!==E&&Wn(E),Jc(w),y.resolving=!1,dd()}}return d}function Js(i,s,c){return!!(c[s+(i>>pu)]&1<<i)}function _u(i,s){return!(i&vt.Self||i&vt.Host&&s)}class Va{constructor(s,c){this._tNode=s,this._lView=c}get(s,c,f){return Pp(this._tNode,this._lView,s,tr(f),c)}}function wd(){return new Va(Ee(),I())}function Ed(i){return $(()=>{const s=i.prototype.constructor,c=s[xe]||Ba(s),f=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==f;){const g=d[xe]||Ba(d);if(g&&g!==c)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function Ba(i){return Ae(i)?()=>{const s=Ba(J(i));return s&&s()}:oi(i)}function tl(i){const s=i[ct],c=s.type;return 2===c?s.declTNode:1===c?i[Cr]:null}function nl(i){return function mu(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const c=i.attrs;if(c){const f=c.length;let d=0;for(;d<f;){const g=c[d];if(Ip(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<f&&"string"==typeof c[d];)d++;else{if(g===s)return c[d+1];d+=2}}}return null}(Ee(),i)}const ea="__parameters__";function Ha(i,s,c){return $(()=>{const f=function Sp(i){return function(...c){if(i){const f=i(...c);for(const d in f)this[d]=f[d]}}}(s);function d(...g){if(this instanceof d)return f.apply(this,g),this;const y=new d(...g);return w.annotation=y,w;function w(E,T,A){const U=E.hasOwnProperty(ea)?E[ea]:Object.defineProperty(E,ea,{value:[]})[ea];for(;U.length<=A;)U.push(null);return(U[A]=U[A]||[]).push(y),E}}return c&&(d.prototype=Object.create(c.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class Mn{constructor(s,c){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=It({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $a(i,s){i.forEach(c=>Array.isArray(c)?$a(c,s):s(c))}function Td(i,s,c){s>=i.length?i.push(c):i.splice(s,0,c)}function Pd(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function ja(i,s){const c=[];for(let f=0;f<i;f++)c.push(s);return c}function ai(i,s,c){let f=_o(i,s);return f>=0?i[1|f]=c:(f=~f,function Cu(i,s,c,f){let d=i.length;if(d==s)i.push(c,f);else if(1===d)i.push(f,i[0]),i[0]=c;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=c,i[s+1]=f}}(i,f,s,c)),f}function In(i,s){const c=_o(i,s);if(c>=0)return i[1|c]}function _o(i,s){return function wu(i,s,c){let f=0,d=i.length>>c;for(;d!==f;){const g=f+(d-f>>1),y=i[g<<c];if(s===y)return g<<c;y>s?d=g:f=g+1}return~(d<<c)}(i,s,1)}const ta=dr(Ha("Optional"),8),Cs=dr(Ha("SkipSelf"),4);var vi=(()=>((vi=vi||{})[vi.Important=1]="Important",vi[vi.DashCase=2]="DashCase",vi))();const Pu=new Map;let kC=0;const $p="__ngContext__";function yo(i,s){co(s)?(i[$p]=s[Vn],function Ka(i){Pu.set(i[Vn],i)}(s)):i[$p]=s}let ra;function Is(i,s){return ra(i,s)}function Ts(i){const s=i[Un];return Eo(s)?s[Un]:s}function Ps(i){return Ja(i[V])}function xu(i){return Ja(i[bn])}function Ja(i){for(;null!==i&&!Eo(i);)i=i[bn];return i}function oa(i,s,c,f,d){if(null!=f){let g,y=!1;Eo(f)?g=f:co(f)&&(y=!0,f=f[sr]);const w=hr(f);0===i&&null!==c?null==d?So(s,c,w):un(s,c,w,d||null,!0):1===i&&null!==c?un(s,c,w,d||null,!0):2===i?function bl(i,s,c){const f=Xa(i,s);f&&function Ru(i,s,c,f){i.removeChild(s,c,f)}(i,f,s,c)}(s,w,y):3===i&&s.destroyNode(w),null!=g&&function N1(i,s,c,f,d){const g=c[us];g!==hr(c)&&oa(s,i,f,g,d);for(let w=Nr;w<c.length;w++){const E=c[w];Uu(E[ct],E,i,s,f,g)}}(s,i,g,c,d)}}function zp(i,s,c){return i.createElement(s,c)}function C(i,s){const c=i[mi],f=c.indexOf(s),d=s[Un];512&s[qt]&&(s[qt]&=-513,Zs(d,-1)),c.splice(f,1)}function P(i,s){if(i.length<=Nr)return;const c=Nr+s,f=i[c];if(f){const d=f[hn];null!==d&&d!==i&&C(d,f),s>0&&(i[c-1][bn]=f[bn]);const g=Pd(i,Nr+s);!function F_(i,s){Uu(i,s,s[Xt],2,null,null),s[sr]=null,s[Cr]=null}(f[ct],f);const y=g[cn];null!==y&&y.detachView(g[ct]),f[Un]=null,f[bn]=null,f[qt]&=-65}return f}function x(i,s){if(!(128&s[qt])){const c=s[Xt];c.destroyNode&&Uu(i,s,c,3,null,null),function b(i){let s=i[V];if(!s)return Q(i[ct],i);for(;s;){let c=null;if(co(s))c=s[V];else{const f=s[Nr];f&&(c=f)}if(!c){for(;s&&!s[bn]&&s!==i;)co(s)&&Q(s[ct],s),s=s[Un];null===s&&(s=i),co(s)&&Q(s[ct],s),c=s&&s[bn]}s=c}}(s)}}function Q(i,s){if(!(128&s[qt])){s[qt]&=-65,s[qt]|=128,function Ke(i,s){let c;if(null!=i&&null!=(c=i.destroyHooks))for(let f=0;f<c.length;f+=2){const d=s[c[f]];if(!(d instanceof Ks)){const g=c[f+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const w=d[g[y]],E=g[y+1];ar(4,w,E);try{E.call(w)}finally{ar(5,w,E)}}else{ar(4,d,g);try{g.call(d)}finally{ar(5,d,g)}}}}}(i,s),function de(i,s){const c=i.cleanup,f=s[Xr];let d=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const y=c[g+3];y>=0?f[d=y]():f[d=-y].unsubscribe(),g+=2}else{const y=f[d=c[g+1]];c[g].call(y)}if(null!==f){for(let g=d+1;g<f.length;g++)(0,f[g])();s[Xr]=null}}(i,s),1===s[ct].type&&s[Xt].destroy();const c=s[hn];if(null!==c&&Eo(s[Un])){c!==s[Un]&&C(c,s);const f=s[cn];null!==f&&f.detachView(i)}!function fl(i){Pu.delete(i[Vn])}(s)}}function lt(i,s,c){return function St(i,s,c){let f=s;for(;null!==f&&40&f.type;)f=(s=f).parent;if(null===f)return c[sr];{const{componentOffset:d}=f;if(d>-1){const{encapsulation:g}=i.data[f.directiveStart+d];if(g===R.None||g===R.Emulated)return null}return Tr(f,c)}}(i,s.parent,c)}function un(i,s,c,f,d){i.insertBefore(s,c,f,d)}function So(i,s,c){i.appendChild(s,c)}function Fi(i,s,c,f,d){null!==f?un(i,s,c,f,d):So(i,s,c)}function Xa(i,s){return i.parentNode(s)}function Gp(i,s,c){return _l(i,s,c)}let Fu,L_,vl,Wp,_l=function Hd(i,s,c){return 40&i.type?Tr(i,c):null};function ia(i,s,c,f){const d=lt(i,f,s),g=s[Xt],w=Gp(f.parent||s[Cr],f,s);if(null!=d)if(Array.isArray(c))for(let E=0;E<c.length;E++)Fi(g,d,c[E],w,!1);else Fi(g,d,c,w,!1);void 0!==Fu&&Fu(g,f,s,c,d)}function Lu(i,s){if(null!==s){const c=s.type;if(3&c)return Tr(s,i);if(4&c)return jd(-1,i[s.index]);if(8&c){const f=s.child;if(null!==f)return Lu(i,f);{const d=i[s.index];return Eo(d)?jd(-1,d):hr(d)}}if(32&c)return Is(s,i)()||hr(i[s.index]);{const f=$d(i,s);return null!==f?Array.isArray(f)?f[0]:Lu(Ts(i[Xe]),f):Lu(i,s.next)}}return null}function $d(i,s){return null!==s?i[Xe][Cr].projection[s.projection]:null}function jd(i,s){const c=Nr+i+1;if(c<s.length){const f=s[c],d=f[ct].firstChild;if(null!==d)return Lu(f,d)}return s[us]}function ec(i,s,c,f,d,g,y){for(;null!=c;){const w=f[c.index],E=c.type;if(y&&0===s&&(w&&yo(hr(w),f),c.flags|=2),32!=(32&c.flags))if(8&E)ec(i,s,c.child,f,d,g,!1),oa(s,i,d,w,g);else if(32&E){const T=Is(c,f);let A;for(;A=T();)oa(s,i,d,A,g);oa(s,i,d,w,g)}else 16&E?Vu(i,s,f,c,d,g):oa(s,i,d,w,g);c=y?c.projectionNext:c.next}}function Uu(i,s,c,f,d,g){ec(c,f,i.firstChild,s,d,g,!1)}function Vu(i,s,c,f,d,g){const y=c[Xe],E=y[Cr].projection[f.projection];if(Array.isArray(E))for(let T=0;T<E.length;T++)oa(s,i,d,E[T],g);else ec(i,s,E,y[Un],d,g,!0)}function DI(i,s,c){""===c?i.removeAttribute(s,"class"):i.setAttribute(s,"class",c)}function OI(i,s,c){const{mergedAttrs:f,classes:d,styles:g}=c;null!==f&&du(i,s,f),null!==d&&DI(i,s,d),null!==g&&function UC(i,s,c){i.setAttribute(s,"style",c)}(i,s,g)}function Bu(i){return function VC(){if(void 0===L_&&(L_=null,sn.trustedTypes))try{L_=sn.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return L_}()?.createHTML(i)||i}function xI(i){vl=i}function HC(){if(void 0===Wp&&(Wp=null,sn.trustedTypes))try{Wp=sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Wp}function V_(i){return HC()?.createHTML(i)||i}function B_(i){return HC()?.createScriptURL(i)||i}class Cl{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_t})`}}class jC extends Cl{getTypeName(){return"HTML"}}class H_ extends Cl{getTypeName(){return"Style"}}class kI extends Cl{getTypeName(){return"Script"}}class zC extends Cl{getTypeName(){return"URL"}}class RI extends Cl{getTypeName(){return"ResourceURL"}}function Li(i){return i instanceof Cl?i.changingThisBreaksApplicationSecurity:i}function $u(i,s){const c=function $_(i){return i instanceof Cl&&i.getTypeName()||null}(i);if(null!=c&&c!==s){if("ResourceURL"===c&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${c} (see ${_t})`)}return c===s}function NI(i){return new jC(i)}function j_(i){return new H_(i)}function qC(i){return new kI(i)}function FI(i){return new zC(i)}function z_(i){return new RI(i)}class WC{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const c=(new window.DOMParser).parseFromString(Bu(s),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(s):(c.removeChild(c.firstChild),c)}catch{return null}}}class LI{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const c=this.inertDocument.createElement("template");return c.innerHTML=Bu(s),c}}const ZC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Kp(i){return(i=String(i)).match(ZC)?i:"unsafe:"+i}function Ds(i){const s={};for(const c of i.split(","))s[c]=!0;return s}function zd(...i){const s={};for(const c of i)for(const f in c)c.hasOwnProperty(f)&&(s[f]=!0);return s}const UI=Ds("area,br,col,hr,img,wbr"),Yp=Ds("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),q_=Ds("rp,rt"),G_=zd(UI,zd(Yp,Ds("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zd(q_,Ds("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zd(q_,Yp)),Qp=Ds("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),KC=zd(Qp,Ds("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ds("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$I=Ds("script,style,template");class qd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let c=s.firstChild,f=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?f=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,f&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let d=this.checkClobberedElement(c,c.nextSibling);if(d){c=d;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(s){const c=s.nodeName.toLowerCase();if(!G_.hasOwnProperty(c))return this.sanitizedSomething=!0,!$I.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const f=s.attributes;for(let d=0;d<f.length;d++){const g=f.item(d),y=g.name,w=y.toLowerCase();if(!KC.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let E=g.value;Qp[w]&&(E=Kp(E)),this.buf.push(" ",y,'="',Jp(E),'"')}return this.buf.push(">"),!0}endElement(s){const c=s.nodeName.toLowerCase();G_.hasOwnProperty(c)&&!UI.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(s){this.buf.push(Jp(s))}checkClobberedElement(s,c){if(c&&(s.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return c}}const YC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jI=/([^\#-~ |!])/g;function Jp(i){return i.replace(/&/g,"&amp;").replace(YC,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(jI,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xp;function W_(i,s){let c=null;try{Xp=Xp||function GC(i){const s=new LI(i);return function Zp(){try{return!!(new window.DOMParser).parseFromString(Bu(""),"text/html")}catch{return!1}}()?new WC(s):s}(i);let f=s?String(s):"";c=Xp.getInertBodyElement(f);let d=5,g=f;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,f=g,g=c.innerHTML,c=Xp.getInertBodyElement(f)}while(f!==g);return Bu((new qd).sanitizeChildren(Z_(c)||c))}finally{if(c){const f=Z_(c)||c;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function Z_(i){return"content"in i&&function QC(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var qr=(()=>((qr=qr||{})[qr.NONE=0]="NONE",qr[qr.HTML=1]="HTML",qr[qr.STYLE=2]="STYLE",qr[qr.SCRIPT=3]="SCRIPT",qr[qr.URL=4]="URL",qr[qr.RESOURCE_URL=5]="RESOURCE_URL",qr))();function K_(i){const s=eg();return s?V_(s.sanitize(qr.HTML,i)||""):$u(i,"HTML")?V_(Li(i)):W_(function U_(){return void 0!==vl?vl:typeof document<"u"?document:void 0}(),Be(i))}function JC(i){const s=eg();return s?s.sanitize(qr.URL,i)||"":$u(i,"URL")?Li(i):Kp(Be(i))}function zI(i){const s=eg();if(s)return B_(s.sanitize(qr.RESOURCE_URL,i)||"");if($u(i,"ResourceURL"))return B_(Li(i));throw new ye(904,!1)}function Y_(i,s,c){return function V1(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?zI:JC}(s,c)(i)}function eg(){const i=I();return i&&i[Ai]}const t0=new Mn("ENVIRONMENT_INITIALIZER"),Q_=new Mn("INJECTOR",-1),J_=new Mn("INJECTOR_DEF_TYPES");class X_{get(s,c=qn){if(c===qn){const f=new Error(`NullInjectorError: No provider for ${Ce(s)}!`);throw f.name="NullInjectorError",f}return c}}function qI(i){return{\u0275providers:i}}function sa(...i){return{\u0275providers:n0(0,i),\u0275fromNgModule:!0}}function n0(i,...s){const c=[],f=new Set;let d;return $a(s,g=>{const y=g;r0(y,c,[],f)&&(d||(d=[]),d.push(y))}),void 0!==d&&ey(d,c),c}function ey(i,s){for(let c=0;c<i.length;c++){const{providers:d}=i[c];wl(d,g=>{s.push(g)})}}function r0(i,s,c,f){if(!(i=J(i)))return!1;let d=null,g=Ar(i);const y=!g&&Et(i);if(g||y){if(y&&!y.standalone)return!1;d=i}else{const E=i.ngModule;if(g=Ar(E),!g)return!1;d=E}const w=f.has(d);if(y){if(w)return!1;if(f.add(d),y.dependencies){const E="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of E)r0(T,s,c,f)}}else{if(!g)return!1;{if(null!=g.imports&&!w){let T;f.add(d);try{$a(g.imports,A=>{r0(A,s,c,f)&&(T||(T=[]),T.push(A))})}finally{}void 0!==T&&ey(T,s)}if(!w){const T=oi(d)||(()=>new d);s.push({provide:d,useFactory:T,deps:K},{provide:J_,useValue:d,multi:!0},{provide:t0,useValue:()=>zt(d),multi:!0})}const E=g.providers;null==E||w||wl(E,A=>{s.push(A)})}}return d!==i&&void 0!==i.providers}function wl(i,s){for(let c of i)Ie(c)&&(c=c.\u0275providers),Array.isArray(c)?wl(c,s):s(c)}const ty=se({provide:String,useValue:se});function o0(i){return null!==i&&"object"==typeof i&&ty in i}function zu(i){return"function"==typeof i}const s0=new Mn("Set Injector scope."),ry={},a0={};let El;function Gd(){return void 0===El&&(El=new X_),El}class aa{}class Uo extends aa{get destroyed(){return this._destroyed}constructor(s,c,f,d){super(),this.parent=c,this.source=f,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,oy(s,y=>this.processProvider(y)),this.records.set(Q_,qu(void 0,this)),d.has("environment")&&this.records.set(aa,qu(void 0,this));const g=this.records.get(s0);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(J_.multi,K,vt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const c=Yt(this),f=Wn(void 0);try{return s()}finally{Yt(c),Wn(f)}}get(s,c=qn,f=vt.Default){this.assertNotDestroyed(),f=tr(f);const d=Yt(this),g=Wn(void 0);try{if(!(f&vt.SkipSelf)){let w=this.records.get(s);if(void 0===w){const E=function JI(i){return"function"==typeof i||"object"==typeof i&&i instanceof Mn}(s)&&An(s);w=E&&this.injectableDefInScope(E)?qu(tg(s),ry):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(f&vt.Self?Gd():this.parent).get(s,c=f&vt.Optional&&c===qn?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[Rn]=y[Rn]||[]).unshift(Ce(s)),d)throw y;return function Jr(i,s,c,f){const d=i[Rn];throw s[At]&&d.unshift(s[At]),i.message=function z(i,s,c,f=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==er?i.slice(2):i;let d=Ce(s);if(Array.isArray(s))d=s.map(Ce).join(" -> ");else if("object"==typeof s){let g=[];for(let y in s)if(s.hasOwnProperty(y)){let w=s[y];g.push(y+":"+("string"==typeof w?JSON.stringify(w):Ce(w)))}d=`{${g.join(", ")}}`}return`${c}${f?"("+f+")":""}[${d}]: ${i.replace(Nn,"\n  ")}`}("\n"+i.message,d,c,f),i[_r]=d,i[Rn]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{Wn(g),Yt(d)}}resolveInjectorInitializers(){const s=Yt(this),c=Wn(void 0);try{const f=this.get(t0.multi,K,vt.Self);for(const d of f)d()}finally{Yt(s),Wn(c)}}toString(){const s=[],c=this.records;for(const f of c.keys())s.push(Ce(f));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ye(205,!1)}processProvider(s){let c=zu(s=J(s))?s:J(s&&s.provide);const f=function KI(i){return o0(i)?qu(void 0,i.useValue):qu(c0(i),ry)}(s);if(zu(s)||!0!==s.multi)this.records.get(c);else{let d=this.records.get(c);d||(d=qu(void 0,ry,!0),d.factory=()=>Qn(d.multi),this.records.set(c,d)),c=s,d.multi.push(s)}this.records.set(c,f)}hydrate(s,c){return c.value===ry&&(c.value=a0,c.value=c.factory()),"object"==typeof c.value&&c.value&&function QI(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(s){if(!s.providedIn)return!1;const c=J(s.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function tg(i){const s=An(i),c=null!==s?s.factory:oi(i);if(null!==c)return c;if(i instanceof Mn)throw new ye(204,!1);if(i instanceof Function)return function ZI(i){const s=i.length;if(s>0)throw ja(s,"?"),new ye(204,!1);const c=function Hr(i){return i&&(i[ao]||i[No])||null}(i);return null!==c?()=>c.factory(i):()=>new i}(i);throw new ye(204,!1)}function c0(i,s,c){let f;if(zu(i)){const d=J(i);return oi(d)||tg(d)}if(o0(i))f=()=>J(i.useValue);else if(function WI(i){return!(!i||!i.useFactory)}(i))f=()=>i.useFactory(...Qn(i.deps||[]));else if(function ny(i){return!(!i||!i.useExisting)}(i))f=()=>zt(J(i.useExisting));else{const d=J(i&&(i.useClass||i.provide));if(!function YI(i){return!!i.deps}(i))return oi(d)||tg(d);f=()=>new d(...Qn(i.deps))}return f}function qu(i,s,c=!1){return{factory:i,value:s,multi:c?[]:void 0}}function oy(i,s){for(const c of i)Array.isArray(c)?oy(c,s):c&&Ie(c)?oy(c.\u0275providers,s):s(c)}class XI{}class l0{}class $1{resolveComponentFactory(s){throw function eT(i){const s=Error(`No component factory found for ${Ce(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Wd=(()=>{class i{}return i.NULL=new $1,i})();function tT(){return Gu(Ee(),I())}function Gu(i,s){return new tc(Tr(i,s))}let tc=(()=>{class i{constructor(c){this.nativeElement=c}}return i.__NG_ELEMENT_ID__=tT,i})();function f0(i){return i instanceof tc?i.nativeElement:i}class iy{}let nT=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function rT(){const i=I(),c=lo(Ee().index,i);return(co(c)?c:i)[Xt]}(),i})(),oT=(()=>{class i{}return i.\u0275prov=It({token:i,providedIn:"root",factory:()=>null}),i})();class d0{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const nc=new d0("15.2.8"),h0={},sy="ngOriginalError";function p0(i){return i[sy]}class ng{constructor(){this._console=console}handleError(s){const c=this._findOriginalError(s);this._console.error("ERROR",s),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(s){let c=s&&p0(s);for(;c&&p0(c);)c=p0(c);return c||null}}function ca(i){return i.ownerDocument}function Ui(i){return i instanceof Function?i():i}function m0(i,s,c){let f=i.length;for(;;){const d=i.indexOf(s,c);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const g=s.length;if(d+g===f||i.charCodeAt(d+g)<=32)return d}c=d+1}}const ly="ng-template";function rg(i,s,c){let f=0,d=!0;for(;f<i.length;){let g=i[f++];if("string"==typeof g&&d){const y=i[f++];if(c&&"class"===g&&-1!==m0(y.toLowerCase(),s,0))return!0}else{if(1===g){for(;f<i.length&&"string"==typeof(g=i[f++]);)if(g.toLowerCase()===s)return!0;return!1}"number"==typeof g&&(d=!1)}}return!1}function ua(i){return 4===i.type&&i.value!==ly}function W1(i,s,c){return s===(4!==i.type||c?i.value:ly)}function sT(i,s,c){let f=4;const d=i.attrs||[],g=function aT(i){for(let s=0;s<i.length;s++)if(Ip(i[s]))return s;return i.length}(d);let y=!1;for(let w=0;w<s.length;w++){const E=s[w];if("number"!=typeof E){if(!y)if(4&f){if(f=2|1&f,""!==E&&!W1(i,E,c)||""===E&&1===s.length){if(Xi(f))return!1;y=!0}}else{const T=8&f?E:s[++w];if(8&f&&null!==i.attrs){if(!rg(i.attrs,T,c)){if(Xi(f))return!1;y=!0}continue}const U=_0(8&f?"class":E,d,ua(i),c);if(-1===U){if(Xi(f))return!1;y=!0;continue}if(""!==T){let Y;Y=U>g?"":d[U+1].toLowerCase();const re=8&f?Y:null;if(re&&-1!==m0(re,T,0)||2&f&&T!==Y){if(Xi(f))return!1;y=!0}}}}else{if(!y&&!Xi(f)&&!Xi(E))return!1;if(y&&Xi(E))continue;y=!1,f=E|1&f}}return Xi(f)||y}function Xi(i){return 0==(1&i)}function _0(i,s,c,f){if(null===s)return-1;let d=0;if(f||!c){let g=!1;for(;d<s.length;){const y=s[d];if(y===i)return d;if(3===y||6===y)g=!0;else{if(1===y||2===y){let w=s[++d];for(;"string"==typeof w;)w=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=g?1:2}return-1}return function Zd(i,s){let c=i.indexOf(4);if(c>-1)for(c++;c<i.length;){const f=i[c];if("number"==typeof f)return-1;if(f===s)return c;c++}return-1}(s,i)}function uy(i,s,c=!1){for(let f=0;f<s.length;f++)if(sT(i,s[f],c))return!0;return!1}function to(i,s){e:for(let c=0;c<s.length;c++){const f=s[c];if(i.length===f.length){for(let d=0;d<i.length;d++)if(i[d]!==f[d])continue e;return!0}}return!1}function og(i,s){return i?":not("+s.trim()+")":s}function fy(i){let s=i[0],c=1,f=2,d="",g=!1;for(;c<i.length;){let y=i[c];if("string"==typeof y)if(2&f){const w=i[++c];d+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&f?d+="."+y:4&f&&(d+=" "+y);else""!==d&&!Xi(y)&&(s+=og(g,d),d=""),f=y,g=g||!Xi(f);c++}return""!==d&&(s+=og(g,d)),s}const fn={};function dy(i){hy(O(),I(),Mo()+i,!1)}function hy(i,s,c,f){if(!f)if(3==(3&s[qt])){const g=i.preOrderCheckHooks;null!==g&&gd(s,g,c)}else{const g=i.preOrderHooks;null!==g&&Cp(s,g,0,c)}bs(c)}function fT(i,s=null,c=null,f){const d=dT(i,s,c,f);return d.resolveInjectorInitializers(),d}function dT(i,s=null,c=null,f,d=new Set){const g=[c||K,sa(i)];return f=f||("object"==typeof i?void 0:Ce(i)),new Uo(g,s||Gd(),f||null,d)}let Zu=(()=>{class i{static create(c,f){if(Array.isArray(c))return fT({name:""},f,c,"");{const d=c.name??"";return fT({name:d},c.parent,c.providers,d)}}}return i.THROW_IF_NOT_FOUND=qn,i.NULL=new X_,i.\u0275prov=It({token:i,providedIn:"any",factory:()=>zt(Q_)}),i.__NG_ELEMENT_ID__=-1,i})();function Qu(i,s=vt.Default){const c=I();return null===c?zt(i,s):Pp(Ee(),c,J(i),s)}function P0(){throw new Error("invalid")}function D0(i,s){const c=i.contentQueries;if(null!==c)for(let f=0;f<c.length;f+=2){const g=c[f+1];if(-1!==g){const y=i.data[g];_p(c[f]),y.contentQueries(2,s[g],g)}}}function lg(i,s,c,f,d,g,y,w,E,T,A){const U=s.blueprint.slice();return U[sr]=d,U[qt]=76|f,(null!==A||i&&1024&i[qt])&&(U[qt]|=1024),jc(U),U[Un]=U[ge]=i,U[Gn]=c,U[kr]=y||i&&i[kr],U[Xt]=w||i&&i[Xt],U[Ai]=E||i&&i[Ai]||null,U[zi]=T||i&&i[zi]||null,U[Cr]=g,U[Vn]=function RC(){return kC++}(),U[nr]=A,U[Xe]=2==s.type?i[Xe]:U,U}function Ju(i,s,c,f,d){let g=i.data[s];if(null===g)g=function yy(i,s,c,f,d){const g=We(),y=Cn(),E=i.data[s]=function MT(i,s,c,f,d,g){return{type:c,index:f,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,c,s,f,d);return null===i.firstChild&&(i.firstChild=E),null!==g&&(y?null==g.child&&null!==E.parent&&(g.child=E):null===g.next&&(g.next=E,E.prev=g)),E}(i,s,c,f,d),function bi(){return Lt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=c,g.value=f,g.attrs=d;const y=function ht(){const i=Lt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return gn(g,!0),g}function Kd(i,s,c,f){if(0===c)return-1;const d=s.length;for(let g=0;g<c;g++)s.push(f),i.blueprint.push(f),i.data.push(null);return d}function by(i,s,c){uu(s);try{const f=i.viewQuery;null!==f&&Oy(1,f,c);const d=i.template;null!==d&&O0(i,s,d,1,c),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&D0(i,s),i.staticViewQueries&&Oy(2,i.viewQuery,c);const g=i.components;null!==g&&function wT(i,s){for(let c=0;c<s.length;c++)kT(i,s[c])}(s,g)}catch(f){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),f}finally{s[qt]&=-5,bp()}}function ug(i,s,c,f){const d=s[qt];if(128!=(128&d)){uu(s);try{jc(s),function ki(i){return Lt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==c&&O0(i,s,c,2,f);const y=3==(3&d);if(y){const T=i.preOrderCheckHooks;null!==T&&gd(s,T,null)}else{const T=i.preOrderHooks;null!==T&&Cp(s,T,0,null),wp(s,0)}if(function Iy(i){for(let s=Ps(i);null!==s;s=xu(s)){if(!s[js])continue;const c=s[mi];for(let f=0;f<c.length;f++){const d=c[f];512&d[qt]||Zs(d[Un],1),d[qt]|=512}}}(s),function AT(i){for(let s=Ps(i);null!==s;s=xu(s))for(let c=Nr;c<s.length;c++){const f=s[c],d=f[ct];ms(f)&&ug(d,f,d.template,f[Gn])}}(s),null!==i.contentQueries&&D0(i,s),y){const T=i.contentCheckHooks;null!==T&&gd(s,T)}else{const T=i.contentHooks;null!==T&&Cp(s,T,1),wp(s,1)}!function vT(i,s){const c=i.hostBindingOpCodes;if(null!==c)try{for(let f=0;f<c.length;f++){const d=c[f];if(d<0)bs(~d);else{const g=d,y=c[++f],w=c[++f];wC(y,g),w(2,s[g])}}}finally{bs(-1)}}(i,s);const w=i.components;null!==w&&function CT(i,s){for(let c=0;c<s.length;c++)xT(i,s[c])}(s,w);const E=i.viewQuery;if(null!==E&&Oy(2,E,f),y){const T=i.viewCheckHooks;null!==T&&gd(s,T)}else{const T=i.viewHooks;null!==T&&Cp(s,T,2),wp(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[qt]&=-41,512&s[qt]&&(s[qt]&=-513,Zs(s[Un],-1))}finally{bp()}}}function O0(i,s,c,f,d){const g=Mo(),y=2&f;try{bs(-1),y&&s.length>ln&&hy(i,s,ln,!1),ar(y?2:0,d),c(f,d)}finally{bs(g),ar(y?3:1,d)}}function vy(i,s,c){if(zs(s)){const d=s.directiveEnd;for(let g=s.directiveStart;g<d;g++){const y=i.data[g];y.contentQueries&&y.contentQueries(1,c[g],g)}}}function Cy(i,s,c){au()&&(function hg(i,s,c,f){const d=c.directiveStart,g=c.directiveEnd;qi(c)&&function My(i,s,c){const f=Tr(s,i),d=fg(c),g=i[kr],y=mg(i,lg(i,d,null,c.onPush?32:16,f,s,g,g.createRenderer(f,c),null,null,null));i[s.index]=y}(s,c,i.data[d+c.componentOffset]),i.firstCreatePass||gu(c,s),yo(f,s);const y=c.initialInputs;for(let w=d;w<g;w++){const E=i.data[w],T=Qi(s,i,w,c);yo(T,s),null!==y&&ef(0,w-d,T,E,0,y),Fr(E)&&(lo(c.index,s)[Gn]=Qi(s,i,w,c))}}(i,s,c,Tr(c,s)),64==(64&c.flags)&&fa(i,s,c))}function wy(i,s,c=Tr){const f=s.localNames;if(null!==f){let d=s.index+1;for(let g=0;g<f.length;g+=2){const y=f[g+1],w=-1===y?c(s,i):i[y];i[d++]=w}}}function fg(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Yd(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Yd(i,s,c,f,d,g,y,w,E,T){const A=ln+f,U=A+d,Y=function S0(i,s){const c=[];for(let f=0;f<s;f++)c.push(f<i?null:fn);return c}(A,U),re="function"==typeof T?T():T;return Y[ct]={type:i,blueprint:Y,template:c,queries:null,viewQuery:w,declTNode:s,data:Y.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:re,incompleteFirstPass:!1}}function A0(i,s,c,f){const d=NT(s);null===c?d.push(f):(d.push(c),i.firstCreatePass&&FT(i).push(f,d.length-1))}function IT(i,s,c,f){for(let d in i)if(i.hasOwnProperty(d)){c=null===c?{}:c;const g=i[d];null===f?TT(c,s,d,g):f.hasOwnProperty(d)&&TT(c,s,f[d],g)}return c}function TT(i,s,c,f){i.hasOwnProperty(c)?i[c].push(s,f):i[c]=[s,f]}function Ci(i,s,c,f,d,g,y,w){const E=Tr(s,c);let A,T=s.inputs;!w&&null!=T&&(A=T[f])?(rc(i,c,A,f,d),qi(s)&&function dg(i,s){const c=lo(s,i);16&c[qt]||(c[qt]|=32)}(c,s.index)):3&s.type&&(f=function Zo(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(f),d=null!=y?y(d,s.value||"",f):d,g.setProperty(E,f,d))}function Ey(i,s,c,f){if(au()){const d=null===f?null:{"":-1},g=function pg(i,s){const c=i.directiveRegistry;let f=null,d=null;if(c)for(let g=0;g<c.length;g++){const y=c[g];if(uy(s,y.selectors,!1))if(f||(f=[]),Fr(y))if(null!==y.findHostDirectiveDefs){const w=[];d=d||new Map,y.findHostDirectiveDefs(y,w,d),f.unshift(...w,y),gg(i,s,w.length)}else f.unshift(y),gg(i,s,0);else d=d||new Map,y.findHostDirectiveDefs?.(y,f,d),f.push(y)}return null===f?null:[f,d]}(i,c);let y,w;null===g?y=w=null:[y,w]=g,null!==y&&x0(i,s,c,y,d,w),d&&function OT(i,s,c){if(s){const f=i.localNames=[];for(let d=0;d<s.length;d+=2){const g=c[s[d+1]];if(null==g)throw new ye(-301,!1);f.push(s[d],g)}}}(c,f,d)}c.mergedAttrs=Qs(c.mergedAttrs,c.attrs)}function x0(i,s,c,f,d,g){for(let T=0;T<f.length;T++)Xc(gu(c,s),i,f[T].type);!function da(i,s,c){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+c,i.providerIndexes=s}(c,i.data.length,f.length);for(let T=0;T<f.length;T++){const A=f[T];A.providersResolver&&A.providersResolver(A)}let y=!1,w=!1,E=Kd(i,s,f.length,null);for(let T=0;T<f.length;T++){const A=f[T];c.mergedAttrs=Qs(c.mergedAttrs,A.hostAttrs),R0(i,c,s,E,A),Qd(E,A,d),null!==A.contentQueries&&(c.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(c.flags|=64);const U=A.type.prototype;!y&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((i.preOrderHooks??(i.preOrderHooks=[])).push(c.index),y=!0),!w&&(U.ngOnChanges||U.ngDoCheck)&&((i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(c.index),w=!0),E++}!function PT(i,s,c){const d=s.directiveEnd,g=i.data,y=s.attrs,w=[];let E=null,T=null;for(let A=s.directiveStart;A<d;A++){const U=g[A],Y=c?c.get(U):null,Te=Y?Y.outputs:null;E=IT(U.inputs,A,E,Y?Y.inputs:null),T=IT(U.outputs,A,T,Te);const Qe=null===E||null===y||ua(s)?null:N0(E,A,y);w.push(Qe)}null!==E&&(E.hasOwnProperty("class")&&(s.flags|=8),E.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=w,s.inputs=E,s.outputs=T}(i,c,g)}function fa(i,s,c){const f=c.directiveStart,d=c.directiveEnd,g=c.index,y=function EC(){return Lt.lFrame.currentDirectiveIndex}();try{bs(g);for(let w=f;w<d;w++){const E=i.data[w],T=s[w];qc(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Xu(E,T)}}finally{bs(-1),qc(y)}}function Xu(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function gg(i,s,c){s.componentOffset=c,(i.components??(i.components=[])).push(s.index)}function Qd(i,s,c){if(c){if(s.exportAs)for(let f=0;f<s.exportAs.length;f++)c[s.exportAs[f]]=i;Fr(s)&&(c[""]=i)}}function R0(i,s,c,f,d){i.data[f]=d;const g=d.factory||(d.factory=oi(d.type)),y=new Ks(g,Fr(d),Qu);i.blueprint[f]=y,c[f]=y,function k0(i,s,c,f,d){const g=d.hostBindings;if(g){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const w=~s.index;(function DT(i){let s=i.length;for(;s>0;){const c=i[--s];if("number"==typeof c&&c<0)return c}return 0})(y)!=w&&y.push(w),y.push(c,f,g)}}(i,s,f,Kd(i,c,d.hostVars,fn),d)}function pn(i,s,c,f,d,g){const y=Tr(i,s);!function Os(i,s,c,f,d,g,y){if(null==g)i.removeAttribute(s,d,c);else{const w=null==y?Be(g):y(g,f||"",d);i.setAttribute(s,d,w,c)}}(s[Xt],y,g,i.value,c,f,d)}function ef(i,s,c,f,d,g){const y=g[s];if(null!==y){const w=f.setInput;for(let E=0;E<y.length;){const T=y[E++],A=y[E++],U=y[E++];null!==w?f.setInput(c,U,T,A):c[A]=U}}}function N0(i,s,c){let f=null,d=0;for(;d<c.length;){const g=c[d];if(0!==g)if(5!==g){if("number"==typeof g)break;if(i.hasOwnProperty(g)){null===f&&(f=[]);const y=i[g];for(let w=0;w<y.length;w+=2)if(y[w]===s){f.push(g,y[w+1],c[d+1]);break}}d+=2}else d+=2;else d+=4}return f}function ST(i,s,c,f){return[i,!0,!1,s,null,0,f,c,null,null]}function xT(i,s){const c=lo(s,i);if(ms(c)){const f=c[ct];48&c[qt]?ug(f,c,f.template,c[Gn]):c[Fo]>0&&Ty(c)}}function Ty(i){for(let f=Ps(i);null!==f;f=xu(f))for(let d=Nr;d<f.length;d++){const g=f[d];if(ms(g))if(512&g[qt]){const y=g[ct];ug(y,g,y.template,g[Gn])}else g[Fo]>0&&Ty(g)}const c=i[ct].components;if(null!==c)for(let f=0;f<c.length;f++){const d=lo(c[f],i);ms(d)&&d[Fo]>0&&Ty(d)}}function kT(i,s){const c=lo(s,i),f=c[ct];(function RT(i,s){for(let c=s.length;c<i.blueprint.length;c++)s.push(i.blueprint[c])})(f,c),by(f,c,c[Gn])}function mg(i,s){return i[V]?i[X][bn]=s:i[V]=s,i[X]=s,s}function Py(i){for(;i;){i[qt]|=32;const s=Ts(i);if(_i(i)&&!s)return i;i=s}return null}function Dy(i,s,c,f=!0){const d=s[kr];d.begin&&d.begin();try{ug(i,s,i.template,c)}catch(y){throw f&&ci(s,y),y}finally{d.end&&d.end()}}function Oy(i,s,c){_p(0),s(i,c)}function NT(i){return i[Xr]||(i[Xr]=[])}function FT(i){return i.cleanup||(i.cleanup=[])}function ci(i,s){const c=i[zi],f=c?c.get(ng,null):null;f&&f.handleError(s)}function rc(i,s,c,f,d){for(let g=0;g<c.length;){const y=c[g++],w=c[g++],E=s[y],T=i.data[y];null!==T.setInput?T.setInput(E,d,f,w):E[w]=d}}function es(i,s,c){let f=c?i.styles:null,d=c?i.classes:null,g=0;if(null!==s)for(let y=0;y<s.length;y++){const w=s[y];"number"==typeof w?g=w:1==g?d=we(d,w):2==g&&(f=we(f,w+": "+s[++y]+";"))}c?i.styles=f:i.stylesWithoutHost=f,c?i.classes=d:i.classesWithoutHost=d}function tf(i,s,c,f,d=!1){for(;null!==c;){const g=s[c.index];if(null!==g&&f.push(hr(g)),Eo(g))for(let w=Nr;w<g.length;w++){const E=g[w],T=E[ct].firstChild;null!==T&&tf(E[ct],E,T,f)}const y=c.type;if(8&y)tf(i,s,c.child,f);else if(32&y){const w=Is(c,s);let E;for(;E=w();)f.push(E)}else if(16&y){const w=$d(s,c);if(Array.isArray(w))f.push(...w);else{const E=Ts(s[Xe]);tf(E[ct],E,w,f,!0)}}c=d?c.projectionNext:c.next}return f}class nf{get rootNodes(){const s=this._lView,c=s[ct];return tf(c,s,c.firstChild,[])}constructor(s,c){this._lView=s,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gn]}set context(s){this._lView[Gn]=s}get destroyed(){return 128==(128&this._lView[qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Un];if(Eo(s)){const c=s[xi],f=c?c.indexOf(this):-1;f>-1&&(P(s,f),Pd(c,f))}this._attachedToViewContainer=!1}x(this._lView[ct],this._lView)}onDestroy(s){A0(this._lView[ct],this._lView,null,s)}markForCheck(){Py(this._cdRefInjectingView||this._lView)}detach(){this._lView[qt]&=-65}reattach(){this._lView[qt]|=64}detectChanges(){Dy(this._lView[ct],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function TI(i,s){Uu(i,s,s[Xt],2,null,null)}(this._lView[ct],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ye(902,!1);this._appRef=s}}class LT extends nf{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Dy(s[ct],s,s[Gn],!1)}checkNoChanges(){}get context(){return null}}class Pr extends Wd{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const c=Et(s);return new Jd(c,this.ngModule)}}function F0(i){const s=[];for(let c in i)i.hasOwnProperty(c)&&s.push({propName:i[c],templateName:c});return s}class Sy{constructor(s,c){this.injector=s,this.parentInjector=c}get(s,c,f){f=tr(f);const d=this.injector.get(s,h0,f);return d!==h0||c===h0?d:this.parentInjector.get(s,c,f)}}class Jd extends l0{get inputs(){return F0(this.componentDef.inputs)}get outputs(){return F0(this.componentDef.outputs)}constructor(s,c){super(),this.componentDef=s,this.ngModule=c,this.componentType=s.type,this.selector=function ig(i){return i.map(fy).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!c}create(s,c,f,d){let g=(d=d||this.ngModule)instanceof aa?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const y=g?new Sy(s,g):s,w=y.get(iy,null);if(null===w)throw new ye(407,!1);const E=y.get(oT,null),T=w.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",U=f?function ET(i,s,c){return i.selectRootElement(s,c===R.ShadowDom)}(T,f,this.componentDef.encapsulation):zp(T,A,function _g(i){const s=i.toLowerCase();return"svg"===s?Ws:"math"===s?"math":null}(A)),Y=this.componentDef.onPush?288:272,re=Yd(0,null,null,1,0,null,null,null,null,null),Te=lg(null,re,null,Y,null,null,w,T,E,y,null);let Qe,ut;uu(Te);try{const Ct=this.componentDef;let Gt,He=null;Ct.findHostDirectiveDefs?(Gt=[],He=new Map,Ct.findHostDirectiveDefs(Ct,Gt,He),Gt.push(Ct)):Gt=[Ct];const wt=function L0(i,s){const c=i[ct],f=ln;return i[f]=s,Ju(c,f,2,"#host",null)}(Te,U),or=function VT(i,s,c,f,d,g,y,w){const E=d[ct];!function BT(i,s,c,f){for(const d of i)s.mergedAttrs=Qs(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(es(s,s.mergedAttrs,!0),null!==c&&OI(f,c,s))}(f,i,s,y);const T=g.createRenderer(s,c),A=lg(d,fg(c),null,c.onPush?32:16,d[i.index],i,g,T,w||null,null,null);return E.firstCreatePass&&gg(E,i,f.length-1),mg(d,A),d[i.index]=A}(wt,U,Ct,Gt,Te,w,T);ut=$c(re,ln),U&&function $T(i,s,c,f){if(f)du(i,c,["ng-version",nc.full]);else{const{attrs:d,classes:g}=function b0(i){const s=[],c=[];let f=1,d=2;for(;f<i.length;){let g=i[f];if("string"==typeof g)2===d?""!==g&&s.push(g,i[++f]):8===d&&c.push(g);else{if(!Xi(d))break;d=g}f++}return{attrs:s,classes:c}}(s.selectors[0]);d&&du(i,c,d),g&&g.length>0&&DI(i,c,g.join(" "))}}(T,Ct,U,f),void 0!==c&&function xo(i,s,c){const f=i.projection=[];for(let d=0;d<s.length;d++){const g=c[d];f.push(null!=g?Array.from(g):null)}}(ut,this.ngContentSelectors,c),Qe=function HT(i,s,c,f,d,g){const y=Ee(),w=d[ct],E=Tr(y,d);x0(w,d,y,c,null,f);for(let A=0;A<c.length;A++)yo(Qi(d,w,y.directiveStart+A,y),d);fa(w,d,y),E&&yo(E,d);const T=Qi(d,w,y.directiveStart+y.componentOffset,y);if(i[Gn]=d[Gn]=T,null!==g)for(const A of g)A(T,s);return vy(w,y,i),T}(or,Ct,Gt,He,Te,[yg]),by(re,Te,null)}finally{bp()}return new UT(this.componentType,Qe,Gu(ut,Te),Te,ut)}}class UT extends XI{constructor(s,c,f,d,g){super(),this.location=f,this._rootLView=d,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new LT(d),this.componentType=s}setInput(s,c){const f=this._tNode.inputs;let d;if(null!==f&&(d=f[s])){const g=this._rootLView;rc(g[ct],g,d,s,c),Py(lo(this._tNode.index,g))}}get injector(){return new Va(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function yg(){const i=Ee();pd(I()[ct],i)}function Xd(i){let s=function bg(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),c=!0;const f=[i];for(;s;){let d;if(Fr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ye(903,!1);d=s.\u0275dir}if(d){if(c){f.push(d);const y=i;y.inputs=rf(i.inputs),y.declaredInputs=rf(i.declaredInputs),y.outputs=rf(i.outputs);const w=d.hostBindings;w&&zT(i,w);const E=d.viewQuery,T=d.contentQueries;if(E&&Ay(i,E),T&&jT(i,T),ve(i.inputs,d.inputs),ve(i.declaredInputs,d.declaredInputs),ve(i.outputs,d.outputs),Fr(d)&&d.data.animation){const A=i.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let y=0;y<g.length;y++){const w=g[y];w&&w.ngInherit&&w(i),w===Xd&&(c=!1)}}s=Object.getPrototypeOf(s)}!function vg(i){let s=0,c=null;for(let f=i.length-1;f>=0;f--){const d=i[f];d.hostVars=s+=d.hostVars,d.hostAttrs=Qs(d.hostAttrs,c=Qs(c,d.hostAttrs))}}(f)}function rf(i){return i===S?{}:i===K?[]:i}function Ay(i,s){const c=i.viewQuery;i.viewQuery=c?(f,d)=>{s(f,d),c(f,d)}:s}function jT(i,s){const c=i.contentQueries;i.contentQueries=c?(f,d,g)=>{s(f,d,g),c(f,d,g)}:s}function zT(i,s){const c=i.hostBindings;i.hostBindings=c?(f,d)=>{s(f,d),c(f,d)}:s}function Cg(i){return!!wg(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function wg(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ts(i,s,c){return i[s]=c}function Bo(i,s,c){return!Object.is(i[s],c)&&(i[s]=c,!0)}function pa(i,s,c,f){const d=Bo(i,s,c);return Bo(i,s+1,f)||d}function nh(i,s,c,f){const d=I();return Bo(d,qo(),s)&&(O(),pn(lr(),d,i,s,c,f)),nh}function ic(i,s,c,f){return Bo(i,qo(),c)?s+Be(c)+f:fn}function sc(i,s,c,f,d,g){const w=pa(i,function eo(){return Lt.lFrame.bindingIndex}(),c,d);return Lr(2),w?s+Be(c)+f+Be(d)+g:fn}function z0(i,s,c,f,d,g,y,w){const E=I(),T=O(),A=i+ln,U=T.firstCreatePass?function ZT(i,s,c,f,d,g,y,w,E){const T=s.consts,A=Ju(s,i,4,y||null,ii(T,w));Ey(s,c,A,ii(T,E)),pd(s,A);const U=A.tView=Yd(2,A,f,d,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,A),U.queries=s.queries.embeddedTView(A)),A}(A,T,E,s,c,f,d,g,y):T.data[A];gn(U,!1);const Y=E[Xt].createComment("");ia(T,E,Y,U),yo(Y,E),mg(E,E[A]=ST(Y,E,Y,U)),Gi(U)&&Cy(T,E,U),null!=y&&wy(E,U,w)}function q0(i){return gs(function Fn(){return Lt.lFrame.contextLView}(),ln+i)}function Uy(i,s,c){const f=I();return Bo(f,qo(),s)&&Ci(O(),lr(),f,i,s,f[Xt],c,!1),Uy}function Vy(i,s,c,f,d){const y=d?"class":"style";rc(i,c,s.inputs[y],y,f)}function Tl(i,s,c,f){const d=I(),g=O(),y=ln+i,w=d[Xt],E=g.firstCreatePass?function YT(i,s,c,f,d,g){const y=s.consts,E=Ju(s,i,2,f,ii(y,d));return Ey(s,c,E,ii(y,g)),null!==E.attrs&&es(E,E.attrs,!1),null!==E.mergedAttrs&&es(E,E.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,E),E}(y,g,d,s,c,f):g.data[y],T=d[y]=zp(w,s,function TC(){return Lt.lFrame.currentNamespace}()),A=Gi(E);return gn(E,!0),OI(w,T,E),32!=(32&E.flags)&&ia(g,d,T,E),0===function zc(){return Lt.lFrame.elementDepthCount}()&&yo(T,d),function cd(){Lt.lFrame.elementDepthCount++}(),A&&(Cy(g,d,E),vy(g,E,d)),null!==f&&wy(d,E),Tl}function rh(){let i=Ee();Cn()?$n():(i=i.parent,gn(i,!1));const s=i;!function Na(){Lt.lFrame.elementDepthCount--}();const c=O();return c.firstCreatePass&&(pd(c,i),zs(i)&&c.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Ys(i){return 0!=(8&i.flags)}(s)&&Vy(c,s,I(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function md(i){return 0!=(16&i.flags)}(s)&&Vy(c,s,I(),s.stylesWithoutHost,!1),rh}function Tg(i,s,c,f){return Tl(i,s,c,f),rh(),Tg}function Pg(i,s,c){const f=I(),d=O(),g=i+ln,y=d.firstCreatePass?function By(i,s,c,f,d){const g=s.consts,y=ii(g,f),w=Ju(s,i,8,"ng-container",y);return null!==y&&es(w,y,!0),Ey(s,c,w,ii(g,d)),null!==s.queries&&s.queries.elementStart(s,w),w}(g,d,f,s,c):d.data[g];gn(y,!0);const w=f[g]=f[Xt].createComment("");return ia(d,f,w,y),yo(w,f),Gi(y)&&(Cy(d,f,y),vy(d,y,f)),null!=c&&wy(f,y),Pg}function Dg(){let i=Ee();const s=O();return Cn()?$n():(i=i.parent,gn(i,!1)),s.firstCreatePass&&(pd(s,i),zs(i)&&s.queries.elementEnd(i)),Dg}function Hy(i,s,c){return Pg(i,s,c),Dg(),Hy}function $y(){return I()}function Og(i){return!!i&&"function"==typeof i.then}function jy(i){return!!i&&"function"==typeof i.subscribe}const zy=jy;function Sg(i,s,c,f){const d=I(),g=O(),y=Ee();return function XT(i,s,c,f,d,g,y){const w=Gi(f),T=i.firstCreatePass&&FT(i),A=s[Gn],U=NT(s);let Y=!0;if(3&f.type||y){const Qe=Tr(f,s),ut=y?y(Qe):Qe,Ct=U.length,Gt=y?wt=>y(hr(wt[f.index])):f.index;let He=null;if(!y&&w&&(He=function JT(i,s,c,f){const d=i.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const y=d[g];if(y===c&&d[g+1]===f){const w=s[Xr],E=d[g+2];return w.length>E?w[E]:null}"string"==typeof y&&(g+=2)}return null}(i,s,d,f.index)),null!==He)(He.__ngLastListenerFn__||He).__ngNextListenerFn__=g,He.__ngLastListenerFn__=g,Y=!1;else{g=Ag(f,s,A,g,!1);const wt=c.listen(ut,d,g);U.push(g,wt),T&&T.push(d,Gt,Ct,Ct+1)}}else g=Ag(f,s,A,g,!1);const re=f.outputs;let Te;if(Y&&null!==re&&(Te=re[d])){const Qe=Te.length;if(Qe)for(let ut=0;ut<Qe;ut+=2){const or=s[Te[ut]][Te[ut+1]].subscribe(g),Mr=U.length;U.push(g,or),T&&T.push(d,f.index,Mr,-(Mr+1))}}}(g,d,d[Xt],y,i,s,f),Sg}function eP(i,s,c,f){try{return ar(6,s,c),!1!==c(f)}catch(d){return ci(i,d),!1}finally{ar(7,s,c)}}function Ag(i,s,c,f,d){return function g(y){if(y===Function)return f;Py(i.componentOffset>-1?lo(i.index,s):s);let E=eP(s,c,f,y),T=g.__ngNextListenerFn__;for(;T;)E=eP(s,c,T,y)&&E,T=T.__ngNextListenerFn__;return d&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function tP(i=1){return function hd(i){return(Lt.lFrame.contextLView=function MC(i,s){for(;i>0;)s=s[ge],i--;return s}(i,Lt.lFrame.contextLView))[Gn]}(i)}function sA(i,s){let c=null;const f=function y0(i){const s=i.attrs;if(null!=s){const c=s.indexOf(5);if(!(1&c))return s[c+1]}return null}(i);for(let d=0;d<s.length;d++){const g=s[d];if("*"!==g){if(null===f?uy(i,g,!0):to(f,g))return d}else c=d}return c}function G0(i){const s=I()[Xe][Cr];if(!s.projection){const f=s.projection=ja(i?i.length:1,null),d=f.slice();let g=s.child;for(;null!==g;){const y=i?sA(g,i):0;null!==y&&(d[y]?d[y].projectionNext=g:f[y]=g,d[y]=g),g=g.next}}}function qy(i,s=0,c){const f=I(),d=O(),g=Ju(d,ln+i,16,null,c||null);null===g.projection&&(g.projection=s),$n(),32!=(32&g.flags)&&function LC(i,s,c){Vu(s[Xt],0,s,c,lt(i,c,s),Gp(c.parent||s[Cr],c,s))}(d,f,g)}function Gy(i,s,c){return xg(i,"",s,"",c),Gy}function xg(i,s,c,f,d){const g=I(),y=ic(g,s,c,f);return y!==fn&&Ci(O(),lr(),g,i,y,g[Xt],d,!1),xg}function oh(i,s,c,f,d,g,y){const w=I(),E=sc(w,s,c,f,d,g);return E!==fn&&Ci(O(),lr(),w,i,E,w[Xt],y,!1),oh}function Rg(i,s){return i<<17|s<<2}function Pl(i){return i>>17&32767}function K0(i){return 2|i}function ff(i){return(131068&i)>>2}function Y0(i,s){return-131069&i|s<<2}function Q0(i){return 1|i}function Wy(i,s,c,f,d){const g=i[c+1],y=null===s;let w=f?Pl(g):ff(g),E=!1;for(;0!==w&&(!1===E||y);){const A=i[w+1];tw(i[w],s)&&(E=!0,i[w+1]=f?Q0(A):K0(A)),w=f?Pl(A):ff(A)}E&&(i[c+1]=f?K0(g):Q0(g))}function tw(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&_o(i,s)>=0}const ro={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Zy(i){return i.substring(ro.key,ro.keyEnd)}function rw(i,s){const c=ro.textEnd;return c===s?-1:(s=ro.keyEnd=function Fg(i,s,c){for(;s<c&&i.charCodeAt(s)>32;)s++;return s}(i,ro.key=s,c),cc(i,s,c))}function cc(i,s,c){for(;s<c&&i.charCodeAt(s)<=32;)s++;return s}function cw(i,s,c){return Bt(i,s,c,!1),cw}function Lg(i,s){return Bt(i,s,null,!0),Lg}function pt(i){!function li(i,s,c,f){const d=O(),g=Lr(2);d.firstUpdatePass&&lw(d,null,g,f);const y=I();if(c!==fn&&Bo(y,g,c)){const w=d.data[Mo()];if(pf(w,f)&&!hf(d,g)){let E=f?w.classesWithoutHost:w.stylesWithoutHost;null!==E&&(c=we(E,c||"")),Vy(d,w,y,c,f)}else!function uw(i,s,c,f,d,g,y,w){d===fn&&(d=K);let E=0,T=0,A=0<d.length?d[0]:null,U=0<g.length?g[0]:null;for(;null!==A||null!==U;){const Y=E<d.length?d[E+1]:void 0,re=T<g.length?g[T+1]:void 0;let Qe,Te=null;A===U?(E+=2,T+=2,Y!==re&&(Te=U,Qe=re)):null===U||null!==A&&A<U?(E+=2,Te=A):(T+=2,Te=U,Qe=re),null!==Te&&Ug(i,s,c,f,Te,Qe,y,w),A=E<d.length?d[E]:null,U=T<g.length?g[T]:null}}(d,w,y,y[Xt],y[g+1],y[g+1]=function vo(i,s,c){if(null==c||""===c)return K;const f=[],d=Li(c);if(Array.isArray(d))for(let g=0;g<d.length;g++)i(f,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&i(f,g,d[g]);else"string"==typeof d&&s(f,d);return f}(i,s,c),f,g)}}(lP,Bi,i,!0)}function Bi(i,s){for(let c=function Ng(i){return function iw(i){ro.key=0,ro.keyEnd=0,ro.value=0,ro.valueEnd=0,ro.textEnd=i.length}(i),rw(i,cc(i,0,ro.textEnd))}(s);c>=0;c=rw(s,c))ai(i,Zy(s),!0)}function Bt(i,s,c,f){const d=I(),g=O(),y=Lr(2);g.firstUpdatePass&&lw(g,i,y,f),s!==fn&&Bo(d,y,s)&&Ug(g,g.data[Mo()],d,d[Xt],i,d[y+1]=function uP(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Ce(Li(i)))),i}(s,c),f,y)}function hf(i,s){return s>=i.expandoStartIndex}function lw(i,s,c,f){const d=i.data;if(null===d[c+1]){const g=d[Mo()],y=hf(i,c);pf(g,f)&&null===s&&!y&&(s=!1),s=function Yy(i,s,c,f){const d=lu(i);let g=f?s.residualClasses:s.residualStyles;if(null===d)0===(f?s.classBindings:s.styleBindings)&&(c=lc(c=bo(null,i,s,c,f),s.attrs,f),g=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==d)if(c=bo(d,i,s,c,f),null===g){let E=function sP(i,s,c){const f=c?s.classBindings:s.styleBindings;if(0!==ff(f))return i[Pl(f)]}(i,s,f);void 0!==E&&Array.isArray(E)&&(E=bo(null,i,s,E[1],f),E=lc(E,s.attrs,f),function aP(i,s,c,f){i[Pl(c?s.classBindings:s.styleBindings)]=f}(i,s,f,E))}else g=function cP(i,s,c){let f;const d=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<d;g++)f=lc(f,i[g].hostAttrs,c);return lc(f,s.attrs,c)}(i,s,f)}return void 0!==g&&(f?s.residualClasses=g:s.residualStyles=g),c}(d,g,s,f),function X0(i,s,c,f,d,g){let y=g?s.classBindings:s.styleBindings,w=Pl(y),E=ff(y);i[f]=c;let A,T=!1;if(Array.isArray(c)?(A=c[1],(null===A||_o(c,A)>0)&&(T=!0)):A=c,d)if(0!==E){const Y=Pl(i[w+1]);i[f+1]=Rg(Y,w),0!==Y&&(i[Y+1]=Y0(i[Y+1],f)),i[w+1]=function iP(i,s){return 131071&i|s<<17}(i[w+1],f)}else i[f+1]=Rg(w,0),0!==w&&(i[w+1]=Y0(i[w+1],f)),w=f;else i[f+1]=Rg(E,0),0===w?w=f:i[E+1]=Y0(i[E+1],f),E=f;T&&(i[f+1]=K0(i[f+1])),Wy(i,A,f,!0),Wy(i,A,f,!1),function ew(i,s,c,f,d){const g=d?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof s&&_o(g,s)>=0&&(c[f+1]=Q0(c[f+1]))}(s,A,i,f,g),y=Rg(w,E),g?s.classBindings=y:s.styleBindings=y}(d,g,s,c,y,f)}}function bo(i,s,c,f,d){let g=null;const y=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<y&&(g=s[w],f=lc(f,g.hostAttrs,d),g!==i);)w++;return null!==i&&(c.directiveStylingLast=w),f}function lc(i,s,c){const f=c?1:2;let d=-1;if(null!==s)for(let g=0;g<s.length;g++){const y=s[g];"number"==typeof y?d=y:d===f&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ai(i,y,!!c||s[++g]))}return void 0===i?null:i}function lP(i,s,c){const f=String(s);""!==f&&!f.includes(" ")&&ai(i,f,c)}function Ug(i,s,c,f,d,g,y,w){if(!(3&s.type))return;const E=i.data,T=E[w+1],A=function cA(i){return 1==(1&i)}(T)?Qy(E,s,c,d,ff(T),y):void 0;uo(A)||(uo(g)||function aA(i){return 2==(2&i)}(T)&&(g=Qy(E,null,c,d,w,y)),function PI(i,s,c,f,d){if(s)d?i.addClass(c,f):i.removeClass(c,f);else{let g=-1===f.indexOf("-")?void 0:vi.DashCase;null==d?i.removeStyle(c,f,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=vi.Important),i.setStyle(c,f,d,g))}}(f,y,Ki(Mo(),c),d,g))}function Qy(i,s,c,f,d,g){const y=null===s;let w;for(;d>0;){const E=i[d],T=Array.isArray(E),A=T?E[1]:E,U=null===A;let Y=c[d+1];Y===fn&&(Y=U?K:void 0);let re=U?In(Y,f):A===f?Y:void 0;if(T&&!uo(re)&&(re=In(E,f)),uo(re)&&(w=re,y))return w;const Te=i[d+1];d=y?Pl(Te):ff(Te)}if(null!==s){let E=g?s.residualClasses:s.residualStyles;null!=E&&(w=In(E,f))}return w}function uo(i){return void 0!==i}function pf(i,s){return 0!=(i.flags&(s?8:16))}function sh(i,s=""){const c=I(),f=O(),d=i+ln,g=f.firstCreatePass?Ju(f,d,1,s,null):f.data[d],y=c[d]=function ku(i,s){return i.createText(s)}(c[Xt],s);ia(f,c,y,g),gn(g,!1)}function Hi(i){return gf("",i,""),Hi}function gf(i,s,c){const f=I(),d=ic(f,i,s,c);return d!==fn&&function $t(i,s,c){const f=Ki(s,i);!function gl(i,s,c){i.setValue(s,c)}(i[Xt],f,c)}(f,Mo(),d),gf}function uh(i,s,c){const f=I();if(Bo(f,qo(),s)){const g=O(),y=lr();Ci(g,y,f,i,s,function Me(i,s,c){return(null===i||Fr(i))&&(c=function yi(i){for(;Array.isArray(i);){if("object"==typeof i[Lc])return i;i=i[sr]}return null}(c[s.index])),c[Xt]}(lu(g.data),y,f),c,!0)}return uh}const uc=void 0;var fb=["en",[["a","p"],["AM","PM"],uc],[["AM","PM"],uc,uc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],uc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],uc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",uc,"{1} 'at' {0}",uc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mP(i){const c=Math.floor(Math.abs(i)),f=i.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===f?1:5}];let fc={};function oo(i){const s=function _P(i){return i.toLowerCase().replace(/_/g,"-")}(i);let c=qg(s);if(c)return c;const f=s.split("-")[0];if(c=qg(f),c)return c;if("en"===f)return fb;throw new ye(701,!1)}function fh(i){return oo(i)[jt.PluralCase]}function qg(i){return i in fc||(fc[i]=sn.ng&&sn.ng.common&&sn.ng.common.locales&&sn.ng.common.locales[i]),fc[i]}var jt=(()=>((jt=jt||{})[jt.LocaleId=0]="LocaleId",jt[jt.DayPeriodsFormat=1]="DayPeriodsFormat",jt[jt.DayPeriodsStandalone=2]="DayPeriodsStandalone",jt[jt.DaysFormat=3]="DaysFormat",jt[jt.DaysStandalone=4]="DaysStandalone",jt[jt.MonthsFormat=5]="MonthsFormat",jt[jt.MonthsStandalone=6]="MonthsStandalone",jt[jt.Eras=7]="Eras",jt[jt.FirstDayOfWeek=8]="FirstDayOfWeek",jt[jt.WeekendRange=9]="WeekendRange",jt[jt.DateFormat=10]="DateFormat",jt[jt.TimeFormat=11]="TimeFormat",jt[jt.DateTimeFormat=12]="DateTimeFormat",jt[jt.NumberSymbols=13]="NumberSymbols",jt[jt.NumberFormats=14]="NumberFormats",jt[jt.CurrencyCode=15]="CurrencyCode",jt[jt.CurrencySymbol=16]="CurrencySymbol",jt[jt.CurrencyName=17]="CurrencyName",jt[jt.Currencies=18]="Currencies",jt[jt.Directionality=19]="Directionality",jt[jt.PluralCase=20]="PluralCase",jt[jt.ExtraData=21]="ExtraData",jt))();const mf="en-US";let Cw=mf;function wh(i,s,c,f,d){if(i=J(i),Array.isArray(i))for(let g=0;g<i.length;g++)wh(i[g],s,c,f,d);else{const g=O(),y=I();let w=zu(i)?i:J(i.provide),E=c0(i);const T=Ee(),A=1048575&T.providerIndexes,U=T.directiveStart,Y=T.providerIndexes>>20;if(zu(i)||!i.multi){const re=new Ks(E,d,Qu),Te=Ib(w,s,d?A:A+Y,U);-1===Te?(Xc(gu(T,y),g,w),Jg(g,i,s.length),s.push(w),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),c.push(re),y.push(re)):(c[Te]=re,y[Te]=re)}else{const re=Ib(w,s,A+Y,U),Te=Ib(w,s,A,A+Y),ut=Te>=0&&c[Te];if(d&&!ut||!d&&!(re>=0&&c[re])){Xc(gu(T,y),g,w);const Ct=function Xg(i,s,c,f,d){const g=new Ks(i,c,Qu);return g.multi=[],g.index=s,g.componentProviders=0,Mb(g,d,f&&!c),g}(d?xP:AP,c.length,d,f,E);!d&&ut&&(c[Te].providerFactory=Ct),Jg(g,i,s.length,0),s.push(w),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),c.push(Ct),y.push(Ct)}else Jg(g,i,re>-1?re:Te,Mb(c[d?Te:re],E,!d&&f));!d&&f&&ut&&c[Te].componentProviders++}}}function Jg(i,s,c,f){const d=zu(s),g=function H1(i){return!!i.useClass}(s);if(d||g){const E=(g?J(s.useClass):s).prototype.ngOnDestroy;if(E){const T=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const A=T.indexOf(c);-1===A?T.push(c,[f,E]):T[A+1].push(f,E)}else T.push(c,E)}}}function Mb(i,s,c){return c&&i.componentProviders++,i.multi.push(s)-1}function Ib(i,s,c,f){for(let d=c;d<f;d++)if(s[d]===i)return d;return-1}function AP(i,s,c,f){return Tb(this.multi,[])}function xP(i,s,c,f){const d=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Qi(c,c[ct],this.providerFactory.index,f);g=w.slice(0,y),Tb(d,g);for(let E=y;E<w.length;E++)g.push(w[E])}else g=[],Tb(d,g);return g}function Tb(i,s){for(let c=0;c<i.length;c++)s.push((0,i[c])());return s}function Ef(i,s=[]){return c=>{c.providersResolver=(f,d)=>function Eb(i,s,c){const f=O();if(f.firstCreatePass){const d=Fr(i);wh(c,f.data,f.blueprint,d,!0),wh(s,f.data,f.blueprint,d,!1)}}(f,d?d(i):i,s)}}class ba{}class em{}function Kw(i,s){return new Mf(i,s??null)}class Mf extends ba{constructor(s,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Pr(this);const f=ir(s);this._bootstrapComponents=Ui(f.bootstrap),this._r3Injector=dT(s,c,[{provide:ba,useValue:this},{provide:Wd,useValue:this.componentFactoryResolver}],Ce(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Pb extends em{constructor(s){super(),this.moduleType=s}create(s){return new Mf(this.moduleType,s)}}class Ur extends ba{constructor(s,c,f){super(),this.componentFactoryResolver=new Pr(this),this.instance=null;const d=new Uo([...s,{provide:ba,useValue:this},{provide:Wd,useValue:this.componentFactoryResolver}],c||Gd(),f,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function nm(i,s,c=null){return new Ur(i,s,c).injector}let kP=(()=>{class i{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const f=n0(0,c.type),d=f.length>0?nm([f],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,d)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=It({token:i,providedIn:"environment",factory:()=>new i(zt(aa))}),i})();function Yw(i){i.getStandaloneInjector=s=>s.get(kP).getOrCreateStandaloneInjector(i)}function Nb(i,s,c,f){return yc(I(),cr(),i,s,c,f)}function Tf(i,s,c,f,d){return function Ub(i,s,c,f,d,g,y){const w=s+c;return pa(i,w,d,g)?ts(i,w+2,y?f.call(y,d,g):f(d,g)):Pf(i,w+2)}(I(),cr(),i,s,c,f,d)}function Pf(i,s){const c=i[s];return c===fn?void 0:c}function yc(i,s,c,f,d,g){const y=s+c;return Bo(i,y,d)?ts(i,y+1,g?f.call(g,d):f(d)):Pf(i,y+1)}function Mh(i,s){const c=O();let f;const d=i+ln;c.firstCreatePass?(f=function wi(i,s){if(s)for(let c=s.length-1;c>=0;c--){const f=s[c];if(i===f.name)return f}}(s,c.pipeRegistry),c.data[d]=f,f.onDestroy&&(c.destroyHooks??(c.destroyHooks=[])).push(d,f.onDestroy)):f=c.data[d];const g=f.factory||(f.factory=oi(f.type)),y=Wn(Qu);try{const w=Jc(!1),E=g();return Jc(w),function KT(i,s,c,f){c>=i.data.length&&(i.data[c]=null,i.blueprint[c]=null),s[c]=f}(c,I(),d,E),E}finally{Wn(y)}}function $b(i,s,c){const f=i+ln,d=I(),g=gs(d,f);return function Ln(i,s){return i[ct].data[s].pure}(d,f)?yc(d,cr(),s,g.transform,c,g):g.transform(c)}function Ih(i){return s=>{setTimeout(i,void 0,s)}}const fo=class UP extends l.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,c,f){let d=s,g=c||(()=>null),y=f;if(s&&"object"==typeof s){const E=s;d=E.next?.bind(E),g=E.error?.bind(E),y=E.complete?.bind(E)}this.__isAsync&&(g=Ih(g),d&&(d=Ih(d)),y&&(y=Ih(y)));const w=super.subscribe({next:d,error:g,complete:y});return s instanceof H.w0&&s.add(w),w}};function sE(){return this._results[Symbol.iterator]()}class Th{get changes(){return this._changes||(this._changes=new fo)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Th.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=sE)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,c){return this._results.reduce(s,c)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,c){const f=this;f.dirty=!1;const d=function Go(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function C_(i,s,c){if(i.length!==s.length)return!1;for(let f=0;f<i.length;f++){let d=i[f],g=s[f];if(c&&(d=c(d),g=c(g)),g!==d)return!1}return!0}(f._results,d,c))&&(f._results=d,f.length=d.length,f.last=d[this.length-1],f.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let xs=(()=>{class i{}return i.__NG_ELEMENT_ID__=va,i})();const zb=xs,aE=class extends zb{constructor(s,c,f){super(),this._declarationLView=s,this._declarationTContainer=c,this.elementRef=f}createEmbeddedView(s,c){const f=this._declarationTContainer.tView,d=lg(this._declarationLView,f,s,16,null,f.declTNode,null,null,null,null,c||null);d[hn]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[cn];return null!==y&&(d[cn]=y.createEmbeddedView(f)),by(f,d,s),new nf(d)}};function va(){return Yo(Ee(),I())}function Yo(i,s){return 4&i.type?new aE(s,i,Gu(i,s)):null}let io=(()=>{class i{}return i.__NG_ELEMENT_ID__=im,i})();function im(){return kl(Ee(),I())}const sm=io,Of=class extends sm{constructor(s,c,f){super(),this._lContainer=s,this._hostTNode=c,this._hostLView=f}get element(){return Gu(this._hostTNode,this._hostLView)}get injector(){return new Va(this._hostTNode,this._hostLView)}get parentInjector(){const s=wr(this._hostTNode,this._hostLView);if(Kc(s)){const c=Qc(s,this._hostLView),f=Yc(s);return new Va(c[ct].data[f+8],c)}return new Va(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const c=Ph(this._lContainer);return null!==c&&c[s]||null}get length(){return this._lContainer.length-Nr}createEmbeddedView(s,c,f){let d,g;"number"==typeof f?d=f:null!=f&&(d=f.index,g=f.injector);const y=s.createEmbeddedView(c||{},g);return this.insert(y,d),y}createComponent(s,c,f,d,g){const y=s&&!function bu(i){return"function"==typeof i}(s);let w;if(y)w=c;else{const U=c||{};w=U.index,f=U.injector,d=U.projectableNodes,g=U.environmentInjector||U.ngModuleRef}const E=y?s:new Jd(Et(s)),T=f||this.parentInjector;if(!g&&null==E.ngModule){const Y=(y?T:this.parentInjector).get(aa,null);Y&&(g=Y)}const A=E.create(T,d,void 0,g);return this.insert(A.hostView,w),A}insert(s,c){const f=s._lView,d=f[ct];if(function Yi(i){return Eo(i[Un])}(f)){const A=this.indexOf(s);if(-1!==A)this.detach(A);else{const U=f[Un],Y=new Of(U,U[Cr],U[Un]);Y.detach(Y.indexOf(s))}}const g=this._adjustIndex(c),y=this._lContainer;!function p(i,s,c,f){const d=Nr+f,g=c.length;f>0&&(c[d-1][bn]=s),f<g-Nr?(s[bn]=c[d],Td(c,Nr+f,s)):(c.push(s),s[bn]=null),s[Un]=c;const y=s[hn];null!==y&&c!==y&&function m(i,s){const c=i[mi];s[Xe]!==s[Un][Un][Xe]&&(i[js]=!0),null===c?i[mi]=[s]:c.push(s)}(y,s);const w=s[cn];null!==w&&w.insertView(i),s[qt]|=64}(d,f,y,g);const w=jd(g,y),E=f[Xt],T=Xa(E,y[us]);return null!==T&&function qp(i,s,c,f,d,g){f[sr]=d,f[Cr]=s,Uu(i,f,c,1,d,g)}(d,y[Cr],E,f,T,w),s.attachToViewContainerRef(),Td(am(y),g,s),s}move(s,c){return this.insert(s,c)}indexOf(s){const c=Ph(this._lContainer);return null!==c?c.indexOf(s):-1}remove(s){const c=this._adjustIndex(s,-1),f=P(this._lContainer,c);f&&(Pd(am(this._lContainer),c),x(f[ct],f))}detach(s){const c=this._adjustIndex(s,-1),f=P(this._lContainer,c);return f&&null!=Pd(am(this._lContainer),c)?new nf(f):null}_adjustIndex(s,c=0){return s??this.length+c}};function Ph(i){return i[xi]}function am(i){return i[xi]||(i[xi]=[])}function kl(i,s){let c;const f=s[i.index];if(Eo(f))c=f;else{let d;if(8&i.type)d=hr(f);else{const g=s[Xt];d=g.createComment("");const y=Tr(i,s);un(g,Xa(g,y),d,function Nu(i,s){return i.nextSibling(s)}(g,y),!1)}s[i.index]=c=ST(f,s,d,i),mg(s,c)}return new Of(c,i,s)}class qb{constructor(s){this.queryList=s,this.matches=null}clone(){return new qb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gb{constructor(s=[]){this.queries=s}createEmbeddedView(s){const c=s.queries;if(null!==c){const f=null!==s.contentQueries?s.contentQueries[0]:c.length,d=[];for(let g=0;g<f;g++){const y=c.getByIndex(g);d.push(this.queries[y.indexInDeclarationView].clone())}return new Gb(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let c=0;c<this.queries.length;c++)null!==Ei(s,c).matches&&this.queries[c].setDirty()}}class cm{constructor(s,c,f=null){this.predicate=s,this.flags=c,this.read=f}}class Wb{constructor(s=[]){this.queries=s}elementStart(s,c){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(s,c)}elementEnd(s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(s)}embeddedTView(s){let c=null;for(let f=0;f<this.length;f++){const d=null!==c?c.length:0,g=this.getByIndex(f).embeddedTView(s,d);g&&(g.indexInDeclarationView=f,null!==c?c.push(g):c=[g])}return null!==c?new Wb(c):null}template(s,c){for(let f=0;f<this.queries.length;f++)this.queries[f].template(s,c)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Zb{constructor(s,c=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(s,c){this.isApplyingToNode(c)&&this.matchTNode(s,c)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,c){this.elementStart(s,c)}embeddedTView(s,c){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,c),new Zb(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let f=s.parent;for(;null!==f&&8&f.type&&f.index!==c;)f=f.parent;return c===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(s,c){const f=this.metadata.predicate;if(Array.isArray(f))for(let d=0;d<f.length;d++){const g=f[d];this.matchTNodeWithReadOption(s,c,cE(c,g)),this.matchTNodeWithReadOption(s,c,Ua(c,s,g,!1,!1))}else f===xs?4&c.type&&this.matchTNodeWithReadOption(s,c,-1):this.matchTNodeWithReadOption(s,c,Ua(c,s,f,!1,!1))}matchTNodeWithReadOption(s,c,f){if(null!==f){const d=this.metadata.read;if(null!==d)if(d===tc||d===io||d===xs&&4&c.type)this.addMatch(c.index,-2);else{const g=Ua(c,s,d,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,f)}}addMatch(s,c){null===this.matches?this.matches=[s,c]:this.matches.push(s,c)}}function cE(i,s){const c=i.localNames;if(null!==c)for(let f=0;f<c.length;f+=2)if(c[f]===s)return c[f+1];return null}function lm(i,s,c,f){return-1===c?function VP(i,s){return 11&i.type?Gu(i,s):4&i.type?Yo(i,s):null}(s,i):-2===c?function BP(i,s,c){return c===tc?Gu(s,i):c===xs?Yo(s,i):c===io?kl(s,i):void 0}(i,s,f):Qi(i,i[ct],c,s)}function lE(i,s,c,f){const d=s[cn].queries[f];if(null===d.matches){const g=i.data,y=c.matches,w=[];for(let E=0;E<y.length;E+=2){const T=y[E];w.push(T<0?null:lm(s,g[T],y[E+1],c.metadata.read))}d.matches=w}return d.matches}function bc(i,s,c,f){const d=i.queries.getByIndex(c),g=d.matches;if(null!==g){const y=lE(i,s,d,c);for(let w=0;w<g.length;w+=2){const E=g[w];if(E>0)f.push(y[w/2]);else{const T=g[w+1],A=s[-E];for(let U=Nr;U<A.length;U++){const Y=A[U];Y[hn]===Y[Un]&&bc(Y[ct],Y,T,f)}if(null!==A[mi]){const U=A[mi];for(let Y=0;Y<U.length;Y++){const re=U[Y];bc(re[ct],re,T,f)}}}}}return f}function Kb(i){const s=I(),c=O(),f=ud();_p(f+1);const d=Ei(c,f);if(i.dirty&&function ka(i){return 4==(4&i[qt])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const g=d.crossesNgTemplate?bc(c,s,f,[]):lE(c,s,d,f);i.reset(g,f0),i.notifyOnChanges()}return!0}return!1}function ho(i,s,c){const f=O();f.firstCreatePass&&(ze(f,new cm(i,s,c),-1),2==(2&s)&&(f.staticViewQueries=!0)),uE(f,I(),s)}function Rl(i,s,c,f){const d=O();if(d.firstCreatePass){const g=Ee();ze(d,new cm(s,c,f),g.index),function Wr(i,s){const c=i.contentQueries||(i.contentQueries=[]);s!==(c.length?c[c.length-1]:-1)&&c.push(i.queries.length-1,s)}(d,i),2==(2&c)&&(d.staticContentQueries=!0)}uE(d,I(),c)}function Ca(){return function Yb(i,s){return i[cn].queries[s].queryList}(I(),ud())}function uE(i,s,c){const f=new Th(4==(4&c));A0(i,s,f,f.destroy),null===s[cn]&&(s[cn]=new Gb),s[cn].queries.push(new qb(f))}function ze(i,s,c){null===i.queries&&(i.queries=new Wb),i.queries.track(new Zb(s,c))}function Ei(i,s){return i.queries.getByIndex(s)}function um(i){return!!ir(i)}function _m(...i){}const os=new Mn("Application Initializer");let xh=(()=>{class i{constructor(c){this.appInits=c,this.resolve=_m,this.reject=_m,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,d)=>{this.resolve=f,this.reject=d})}runInitializers(){if(this.initialized)return;const c=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(Og(g))c.push(g);else if(zy(g)){const y=new Promise((w,E)=>{g.subscribe({complete:w,error:E})});c.push(y)}}Promise.all(c).then(()=>{f()}).catch(d=>{this.reject(d)}),0===c.length&&f(),this.initialized=!0}}return i.\u0275fac=function(c){return new(c||i)(zt(os,8))},i.\u0275prov=It({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const kh=new Mn("AppId",{providedIn:"root",factory:function iv(){return`${sv()}${sv()}${sv()}`}});function sv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _E=new Mn("Platform Initializer"),KP=new Mn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),YP=new Mn("AnimationModuleType");let QP=(()=>{class i{log(c){console.log(c)}warn(c){console.warn(c)}}return i.\u0275fac=function(c){return new(c||i)},i.\u0275prov=It({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const ym=new Mn("LocaleId",{providedIn:"root",factory:()=>Dn(ym,vt.Optional|vt.SkipSelf)||function JP(){return typeof $localize<"u"&&$localize.locale||mf}()}),XP=new Mn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class eD{constructor(s,c){this.ngModuleFactory=s,this.componentFactories=c}}let tD=(()=>{class i{compileModuleSync(c){return new Pb(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const f=this.compileModuleSync(c),g=Ui(ir(c).declarations).reduce((y,w)=>{const E=Et(w);return E&&y.push(new Jd(E)),y},[]);return new eD(f,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return i.\u0275fac=function(c){return new(c||i)},i.\u0275prov=It({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const wE=(()=>Promise.resolve(0))();function ks(i){typeof Zone>"u"?wE.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Jo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fo(!1),this.onMicrotaskEmpty=new fo(!1),this.onStable=new fo(!1),this.onError=new fo(!1),typeof Zone>"u")throw new ye(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!f&&c,d.shouldCoalesceRunChangeDetection=f,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function EE(){let i=sn.requestAnimationFrame,s=sn.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c);const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Rf(i){const s=()=>{!function ME(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(sn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,$o(i),i.isCheckStableRunning=!0,rr(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),$o(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,f,d,g,y,w)=>{try{return cv(i),c.invokeTask(d,g,y,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&s(),IE(i)}},onInvoke:(c,f,d,g,y,w,E)=>{try{return cv(i),c.invoke(d,g,y,w,E)}finally{i.shouldCoalesceRunChangeDetection&&s(),IE(i)}},onHasTask:(c,f,d,g)=>{c.hasTask(d,g),f===d&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,$o(i),rr(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,f,d,g)=>(c.handleError(d,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Jo.isInAngularZone())throw new ye(909,!1)}static assertNotInAngularZone(){if(Jo.isInAngularZone())throw new ye(909,!1)}run(s,c,f){return this._inner.run(s,c,f)}runTask(s,c,f,d){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+d,s,ko,_m,_m);try{return g.runTask(y,c,f)}finally{g.cancelTask(y)}}runGuarded(s,c,f){return this._inner.runGuarded(s,c,f)}runOutsideAngular(s){return this._outer.run(s)}}const ko={};function rr(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function $o(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function cv(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function IE(i){i._nesting--,rr(i)}class po{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fo,this.onMicrotaskEmpty=new fo,this.onStable=new fo,this.onError=new fo}run(s,c,f){return s.apply(c,f)}runGuarded(s,c,f){return s.apply(c,f)}runOutsideAngular(s){return s()}runTask(s,c,f,d){return s.apply(c,f)}}const TE=new Mn(""),Ea=new Mn("");let Nf,Br=(()=>{class i{constructor(c,f,d){this._ngZone=c,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Nf||(function bm(i){Nf=i}(d),d.addToWindow(f)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Jo.assertNotInAngularZone(),ks(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ks(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(c)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,f,d){let g=-1;f&&f>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),c(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:d})}whenStable(c,f,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,f,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,f,d){return[]}}return i.\u0275fac=function(c){return new(c||i)(zt(Jo),zt(Rs),zt(Ea))},i.\u0275prov=It({token:i,factory:i.\u0275fac}),i})(),Rs=(()=>{class i{constructor(){this._applications=new Map}registerApplication(c,f){this._applications.set(c,f)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,f=!0){return Nf?.findTestabilityInTree(this,c,f)??null}}return i.\u0275fac=function(c){return new(c||i)},i.\u0275prov=It({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Ii=!1;let wc=null;const Ma=new Mn("AllowMultipleToken"),Ns=new Mn("PlatformDestroyListeners"),Rh=new Mn("appBootstrapListener");class Mc{constructor(s,c){this.name=s,this.token=c}}function Ic(i,s,c=[]){const f=`Platform: ${s}`,d=new Mn(f);return(g=[])=>{let y=Cm();if(!y||y.injector.get(Ma,!1)){const w=[...c,...g,{provide:d,useValue:!0}];i?i(w):function PE(i){if(wc&&!wc.get(Ma,!1))throw new ye(400,!1);wc=i;const s=i.get(Fh);(function vm(i){const s=i.get(_E,null);s&&s.forEach(c=>c())})(i)}(function Lf(i=[],s){return Zu.create({name:s,providers:[{provide:s0,useValue:"platform"},{provide:Ns,useValue:new Set([()=>wc=null])},...i]})}(w,f))}return function uv(i){const s=Cm();if(!s)throw new ye(401,!1);return s}()}}function Cm(){return wc?.get(Fh)??null}let Fh=(()=>{class i{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,f){const d=function fv(i,s){let c;return c="noop"===i?new po:("zone.js"===i?void 0:i)||new Jo(s),c}(f?.ngZone,function Uf(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(f)),g=[{provide:Jo,useValue:d}];return d.run(()=>{const y=Zu.create({providers:g,parent:this.injector,name:c.moduleType.name}),w=c.create(y),E=w.injector.get(ng,null);if(!E)throw new ye(402,!1);return d.runOutsideAngular(()=>{const T=d.onError.subscribe({next:A=>{E.handleError(A)}});w.onDestroy(()=>{Uh(this._modules,w),T.unsubscribe()})}),function DE(i,s,c){try{const f=c();return Og(f)?f.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):f}catch(f){throw s.runOutsideAngular(()=>i.handleError(f)),f}}(E,d,()=>{const T=w.injector.get(xh);return T.runInitializers(),T.donePromise.then(()=>(function dh(i){yt(i,"Expected localeId to be defined"),"string"==typeof i&&(Cw=i.toLowerCase().replace(/_/g,"-"))}(w.injector.get(ym,mf)||mf),this._moduleDoBootstrap(w),w))})})}bootstrapModule(c,f=[]){const d=OE({},f);return function Ec(i,s,c){const f=new Pb(c);return Promise.resolve(f)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(c){const f=c.injector.get(Lh);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(d=>f.bootstrap(d));else{if(!c.instance.ngDoBootstrap)throw new ye(-403,!1);c.instance.ngDoBootstrap(f)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ye(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const c=this._injector.get(Ns,null);c&&(c.forEach(f=>f()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(c){return new(c||i)(zt(Zu))},i.\u0275prov=It({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function OE(i,s){return Array.isArray(s)?s.reduce(OE,i):{...i,...s}}let Lh=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,f,d){this._zone=c,this._injector=f,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new N.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new N.y(w=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Jo.assertNotInAngularZone(),ks(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Jo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{E.unsubscribe(),T.unsubscribe()}});this.isStable=(0,te.T)(g,y.pipe((0,pe.B)()))}bootstrap(c,f){const d=c instanceof l0;if(!this._injector.get(xh).done){!d&&br(c);throw new ye(405,Ii)}let y;y=d?c:this._injector.get(Wd).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const w=function Nh(i){return i.isBoundToModule}(y)?void 0:this._injector.get(ba),T=y.create(Zu.NULL,[],f||y.selector,w),A=T.location.nativeElement,U=T.injector.get(TE,null);return U?.registerApplication(A),T.onDestroy(()=>{this.detachView(T.hostView),Uh(this.components,T),U?.unregisterApplication(A)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new ye(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const f=c;this._views.push(f),f.attachToAppRef(this)}detachView(c){const f=c;Uh(this._views,f),f.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const f=this._injector.get(Rh,[]);f.push(...this._bootstrapListeners),f.forEach(d=>d(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Uh(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new ye(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(c){return new(c||i)(zt(Jo),zt(aa),zt(ng))},i.\u0275prov=It({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Uh(i,s){const c=i.indexOf(s);c>-1&&i.splice(c,1)}function gr(){return!1}let iD=(()=>{class i{}return i.__NG_ELEMENT_ID__=AE,i})();function AE(i){return function En(i,s,c){if(qi(i)&&!c){const f=lo(i.index,s);return new nf(f,f)}return 47&i.type?new nf(s[Xe],s):null}(Ee(),I(),16==(16&i))}class Hh{constructor(){}supports(s){return Cg(s)}create(s){return new HE(s)}}const BE=(i,s)=>s;class HE{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||BE}forEachItem(s){let c;for(c=this._itHead;null!==c;c=c._next)s(c)}forEachOperation(s){let c=this._itHead,f=this._removalsHead,d=0,g=null;for(;c||f;){const y=!f||c&&c.currentIndex<_v(f,d,g)?c:f,w=_v(y,d,g),E=y.currentIndex;if(y===f)d--,f=f._nextRemoved;else if(c=c._next,null==y.previousIndex)d++;else{g||(g=[]);const T=w-d,A=E-d;if(T!=A){for(let Y=0;Y<T;Y++){const re=Y<g.length?g[Y]:g[Y]=0,Te=re+Y;A<=Te&&Te<T&&(g[Y]=re+1)}g[y.previousIndex]=A-T}}w!==E&&s(y,w,E)}}forEachPreviousItem(s){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachMovedItem(s){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}forEachIdentityChange(s){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)s(c)}diff(s){if(null==s&&(s=[]),!Cg(s))throw new ye(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,g,y,c=this._itHead,f=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)g=s[w],y=this._trackByFn(w,g),null!==c&&Object.is(c.trackById,y)?(f&&(c=this._verifyReinsertion(c,g,y,w)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,y,w),f=!0),c=c._next}else d=0,function ky(i,s){if(Array.isArray(i))for(let c=0;c<i.length;c++)s(i[c]);else{const c=i[Symbol.iterator]();let f;for(;!(f=c.next()).done;)s(f.value)}}(s,w=>{y=this._trackByFn(d,w),null!==c&&Object.is(c.trackById,y)?(f&&(c=this._verifyReinsertion(c,w,y,d)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,y,d),f=!0),c=c._next,d++}),this.length=d;return this._truncate(c),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,c,f,d){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._reinsertAfter(s,g,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(f,d))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._moveAfter(s,g,d)):s=this._addAfter(new Ta(c,f),g,d),s}_verifyReinsertion(s,c,f,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==g?s=this._reinsertAfter(g,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const c=s._next;this._addToRemovals(this._unlink(s)),s=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,c,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,g=s._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(s,c,f),this._addToMoves(s,f),s}_moveAfter(s,c,f){return this._unlink(s),this._insertAfter(s,c,f),this._addToMoves(s,f),s}_addAfter(s,c,f){return this._insertAfter(s,c,f),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,c,f){const d=null===c?this._itHead:c._next;return s._next=d,s._prev=c,null===d?this._itTail=s:d._prev=s,null===c?this._itHead=s:c._next=s,null===this._linkedRecords&&(this._linkedRecords=new Vl),this._linkedRecords.put(s),s.currentIndex=f,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const c=s._prev,f=s._next;return null===c?this._itHead=f:c._next=f,null===f?this._itTail=c:f._prev=c,s}_addToMoves(s,c){return s.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Vl),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,c){return s.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Ta{constructor(s,c){this.item=s,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $E{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,c){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===c||c<=f.currentIndex)&&Object.is(f.trackById,s))return f;return null}remove(s){const c=s._prevDup,f=s._nextDup;return null===c?this._head=f:c._nextDup=f,null===f?this._tail=c:f._prevDup=c,null===this._head}}class Vl{constructor(){this.map=new Map}put(s){const c=s.trackById;let f=this.map.get(c);f||(f=new $E,this.map.set(c,f)),f.add(s)}get(s,c){const d=this.map.get(s);return d?d.get(s,c):null}remove(s){const c=s.trackById;return this.map.get(c).remove(s)&&this.map.delete(c),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _v(i,s,c){const f=i.previousIndex;if(null===f)return f;let d=0;return c&&f<c.length&&(d=c[f]),f+s+d}class Im{constructor(){}supports(s){return s instanceof Map||wg(s)}create(){return new Tm}}class Tm{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let c;for(c=this._mapHead;null!==c;c=c._next)s(c)}forEachPreviousItem(s){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)s(c)}forEachChangedItem(s){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}diff(s){if(s){if(!(s instanceof Map||wg(s)))throw new ye(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(s,(f,d)=>{if(c&&c.key===d)this._maybeAddToChanges(c,f),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(d,f);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let f=c;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,c){if(s){const f=s._prev;return c._next=s,c._prev=f,s._prev=c,f&&(f._next=c),s===this._mapHead&&(this._mapHead=c),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(s,c){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,c);const g=d._prev,y=d._next;return g&&(g._next=y),y&&(y._prev=g),d._next=null,d._prev=null,d}const f=new yv(s);return this._records.set(s,f),f.currentValue=c,this._addToAdditions(f),f}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,c){Object.is(c,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=c,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,c){s instanceof Map?s.forEach(c):Object.keys(s).forEach(f=>c(s[f],f))}}class yv{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Tc(){return new Ro([new Hh])}let Ro=(()=>{class i{constructor(c){this.factories=c}static create(c,f){if(null!=f){const d=f.factories.slice();c=c.concat(d)}return new i(c)}static extend(c){return{provide:i,useFactory:f=>i.create(c,f||Tc()),deps:[[i,new Cs,new ta]]}}find(c){const f=this.factories.find(d=>d.supports(c));if(null!=f)return f;throw new ye(901,!1)}}return i.\u0275prov=It({token:i,providedIn:"root",factory:Tc}),i})();function $h(){return new Bl([new Im])}let Bl=(()=>{class i{constructor(c){this.factories=c}static create(c,f){if(f){const d=f.factories.slice();c=c.concat(d)}return new i(c)}static extend(c){return{provide:i,useFactory:f=>i.create(c,f||$h()),deps:[[i,new Cs,new ta]]}}find(c){const f=this.factories.find(d=>d.supports(c));if(f)return f;throw new ye(901,!1)}}return i.\u0275prov=It({token:i,providedIn:"root",factory:$h}),i})();const qE=Ic(null,"core",[]);let cD=(()=>{class i{constructor(c){}}return i.\u0275fac=function(c){return new(c||i)(zt(Lh))},i.\u0275mod=ee({type:i}),i.\u0275inj=zn({}),i})();function Pa(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(Ot,ke,F)=>{F.d(ke,{Z:()=>qe});var l=F(2090),H=F(4859),N=F(6881),te=F(1877);class pe{constructor(ye,Ne){this._delegate=ye,this.firebase=Ne,(0,N._addComponent)(ye,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(ye,Ne=N._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(ye);return!Ge.isInitialized()&&"EXPLICIT"===(null===(Be=Ge.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:Ne})}_removeServiceInstance(ye,Ne=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(Ne)}_addComponent(ye){(0,N._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,N._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function we(){const _t=function Ce(_t){const ye={},Ne={__esModule:!0,initializeApp:function De($e,ae={}){const st=N.initializeApp($e,ae);if((0,l.r3)(ye,st.name))return ye[st.name];const Nt=new _t(st,Ne);return ye[st.name]=Nt,Nt},app:Ge,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Fe($e){const ae=$e.name,st=ae.replace("-compat","");if(N._registerComponent($e)&&"PUBLIC"===$e.type){const Nt=(gt=Ge())=>{if("function"!=typeof gt[st])throw ve.create("invalid-app-argument",{appName:ae});return gt[st]()};void 0!==$e.serviceProps&&(0,l.ZB)(Nt,$e.serviceProps),Ne[st]=Nt,_t.prototype[st]=function(...gt){return this._getService.bind(this,ae).apply(this,$e.multipleInstances?gt:[])}}return"PUBLIC"===$e.type?Ne[st]:null},removeApp:function Be($e){delete ye[$e]},useAsService:function Je($e,ae){return"serverAuth"===ae?null:ae},modularAPIs:N}};function Ge($e){if(!(0,l.r3)(ye,$e=$e||N._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:$e});return ye[$e]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function Pe(){return Object.keys(ye).map($e=>ye[$e])}}),Ge.App=_t,Ne}(pe);return _t.INTERNAL=Object.assign(Object.assign({},_t.INTERNAL),{createFirebaseNamespace:we,extendNamespace:function ye(Ne){(0,l.ZB)(_t,Ne)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),_t}(),q=new te.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _t=self.firebase.SDK_VERSION;_t&&_t.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=G;!function Ie(_t){(0,N.registerVersion)("@firebase/app-compat","0.2.13",_t)}()},6881:(Ot,ke,F)=>{F.r(ke),F.d(ke,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>yr,_DEFAULT_ENTRY_NAME:()=>Zn,_addComponent:()=>ft,_addOrOverwriteComponent:()=>Ft,_apps:()=>sn,_clearComponents:()=>_r,_components:()=>dn,_getProvider:()=>Pn,_registerComponent:()=>qn,_removeServiceInstance:()=>Rn,deleteApp:()=>Yn,getApp:()=>$r,getApps:()=>zt,initializeApp:()=>Yt,onLog:()=>Qn,registerVersion:()=>tr,setLogLevel:()=>dr});var l=F(5861),H=F(4859),N=F(1877),te=F(2090);const pe=(ne,ee)=>ee.some(Re=>ne instanceof Re);let se,ve;const G=new WeakMap,q=new WeakMap,J=new WeakMap,Ae=new WeakMap,Ie=new WeakMap;let ye={get(ne,ee,Re){if(ne instanceof IDBTransaction){if("done"===ee)return q.get(ne);if("objectStoreNames"===ee)return ne.objectStoreNames||J.get(ne);if("store"===ee)return Re.objectStoreNames[1]?void 0:Re.objectStore(Re.objectStoreNames[0])}return De(ne[ee])},set:(ne,ee,Re)=>(ne[ee]=Re,!0),has:(ne,ee)=>ne instanceof IDBTransaction&&("done"===ee||"store"===ee)||ee in ne};function Ge(ne){return"function"==typeof ne?function Be(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...ee){return ne.apply(Pe(this),ee),De(G.get(this))}:function(...ee){return De(ne.apply(Pe(this),ee))}:function(ee,...Re){const bt=ne.call(Pe(this),ee,...Re);return J.set(bt,ee.sort?ee.sort():[ee]),De(bt)}}(ne):(ne instanceof IDBTransaction&&function _t(ne){if(q.has(ne))return;const ee=new Promise((Re,bt)=>{const Tt=()=>{ne.removeEventListener("complete",nn),ne.removeEventListener("error",Et),ne.removeEventListener("abort",Et)},nn=()=>{Re(),Tt()},Et=()=>{bt(ne.error||new DOMException("AbortError","AbortError")),Tt()};ne.addEventListener("complete",nn),ne.addEventListener("error",Et),ne.addEventListener("abort",Et)});q.set(ne,ee)}(ne),pe(ne,function Ce(){return se||(se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,ye):ne)}function De(ne){if(ne instanceof IDBRequest)return function qe(ne){const ee=new Promise((Re,bt)=>{const Tt=()=>{ne.removeEventListener("success",nn),ne.removeEventListener("error",Et)},nn=()=>{Re(De(ne.result)),Tt()},Et=()=>{bt(ne.error),Tt()};ne.addEventListener("success",nn),ne.addEventListener("error",Et)});return ee.then(Re=>{Re instanceof IDBCursor&&G.set(Re,ne)}).catch(()=>{}),Ie.set(ee,ne),ee}(ne);if(Ae.has(ne))return Ae.get(ne);const ee=Ge(ne);return ee!==ne&&(Ae.set(ne,ee),Ie.set(ee,ne)),ee}const Pe=ne=>Ie.get(ne),$e=["get","getKey","getAll","getAllKeys","count"],ae=["put","add","delete","clear"],st=new Map;function Nt(ne,ee){if(!(ne instanceof IDBDatabase)||ee in ne||"string"!=typeof ee)return;if(st.get(ee))return st.get(ee);const Re=ee.replace(/FromIndex$/,""),bt=ee!==Re,Tt=ae.includes(Re);if(!(Re in(bt?IDBIndex:IDBObjectStore).prototype)||!Tt&&!$e.includes(Re))return;const nn=function(){var Et=(0,l.Z)(function*(vn,...an){const br=this.transaction(vn,Tt?"readwrite":"readonly");let ir=br.store;return bt&&(ir=ir.index(an.shift())),(yield Promise.all([ir[Re](...an),Tt&&br.done]))[0]});return function(an){return Et.apply(this,arguments)}}();return st.set(ee,nn),nn}!function Ne(ne){ye=ne(ye)}(ne=>({...ne,get:(ee,Re,bt)=>Nt(ee,Re)||ne.get(ee,Re,bt),has:(ee,Re)=>!!Nt(ee,Re)||ne.has(ee,Re)}));class gt{constructor(ee){this.container=ee}getPlatformInfoString(){return this.container.getProviders().map(Re=>{if(function en(ne){return"VERSION"===ne.getComponent()?.type}(Re)){const bt=Re.getImmediate();return`${bt.library}/${bt.version}`}return null}).filter(Re=>Re).join(" ")}}const mt="@firebase/app",me=new N.Yd("@firebase/app"),Zn="[DEFAULT]",Kn={[mt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},sn=new Map,dn=new Map;function ft(ne,ee){try{ne.container.addComponent(ee)}catch(Re){me.debug(`Component ${ee.name} failed to register with FirebaseApp ${ne.name}`,Re)}}function Ft(ne,ee){ne.container.addOrOverwriteComponent(ee)}function qn(ne){const ee=ne.name;if(dn.has(ee))return me.debug(`There were multiple attempts to register component ${ee}.`),!1;dn.set(ee,ne);for(const Re of sn.values())ft(Re,ne);return!0}function Pn(ne,ee){const Re=ne.container.getProvider("heartbeat").getImmediate({optional:!0});return Re&&Re.triggerHeartbeat(),ne.container.getProvider(ee)}function Rn(ne,ee,Re=Zn){Pn(ne,ee).clearInstance(Re)}function _r(){dn.clear()}const er=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class At{constructor(ee,Re,bt){this._isDeleted=!1,this._options=Object.assign({},ee),this._config=Object.assign({},Re),this._name=Re.name,this._automaticDataCollectionEnabled=Re.automaticDataCollectionEnabled,this._container=bt,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ee){this._isDeleted=ee}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}const yr="9.23.0";function Yt(ne,ee={}){let Re=ne;"object"!=typeof ee&&(ee={name:ee});const bt=Object.assign({name:Zn,automaticDataCollectionEnabled:!1},ee),Tt=bt.name;if("string"!=typeof Tt||!Tt)throw er.create("bad-app-name",{appName:String(Tt)});if(Re||(Re=(0,te.aH)()),!Re)throw er.create("no-options");const nn=sn.get(Tt);if(nn){if((0,te.vZ)(Re,nn.options)&&(0,te.vZ)(bt,nn.config))return nn;throw er.create("duplicate-app",{appName:Tt})}const Et=new H.H0(Tt);for(const an of dn.values())Et.addComponent(an);const vn=new At(Re,bt,Et);return sn.set(Tt,vn),vn}function $r(ne=Zn){const ee=sn.get(ne);if(!ee&&ne===Zn&&(0,te.aH)())return Yt();if(!ee)throw er.create("no-app",{appName:ne});return ee}function zt(){return Array.from(sn.values())}function Yn(ne){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(ne){const ee=ne.name;sn.has(ee)&&(sn.delete(ee),yield Promise.all(ne.container.getProviders().map(Re=>Re.delete())),ne.isDeleted=!0)})).apply(this,arguments)}function tr(ne,ee,Re){var bt;let Tt=null!==(bt=Kn[ne])&&void 0!==bt?bt:ne;Re&&(Tt+=`-${Re}`);const nn=Tt.match(/\s|\//),Et=ee.match(/\s|\//);if(nn||Et){const vn=[`Unable to register library "${Tt}" with version "${ee}":`];return nn&&vn.push(`library name "${Tt}" contains illegal characters (whitespace or "/")`),nn&&Et&&vn.push("and"),Et&&vn.push(`version name "${ee}" contains illegal characters (whitespace or "/")`),void me.warn(vn.join(" "))}qn(new H.wA(`${Tt}-version`,()=>({library:Tt,version:ee}),"VERSION"))}function Qn(ne,ee){if(null!==ne&&"function"!=typeof ne)throw er.create("invalid-log-argument");(0,N.Am)(ne,ee)}function dr(ne){(0,N.Ub)(ne)}const xr="firebase-heartbeat-database",Jr=1,z="firebase-heartbeat-store";let $=null;function k(){return $||($=function Fe(ne,ee,{blocked:Re,upgrade:bt,blocking:Tt,terminated:nn}={}){const Et=indexedDB.open(ne,ee),vn=De(Et);return bt&&Et.addEventListener("upgradeneeded",an=>{bt(De(Et.result),an.oldVersion,an.newVersion,De(Et.transaction),an)}),Re&&Et.addEventListener("blocked",an=>Re(an.oldVersion,an.newVersion,an)),vn.then(an=>{nn&&an.addEventListener("close",()=>nn()),Tt&&an.addEventListener("versionchange",br=>Tt(br.oldVersion,br.newVersion,br))}).catch(()=>{}),vn}(xr,Jr,{upgrade:(ne,ee)=>{0===ee&&ne.createObjectStore(z)}}).catch(ne=>{throw er.create("idb-open",{originalErrorMessage:ne.message})})),$}function S(){return(S=(0,l.Z)(function*(ne){try{return yield(yield k()).transaction(z).objectStore(z).get(W(ne))}catch(ee){if(ee instanceof te.ZR)me.warn(ee.message);else{const Re=er.create("idb-get",{originalErrorMessage:ee?.message});me.warn(Re.message)}}})).apply(this,arguments)}function K(ne,ee){return _e.apply(this,arguments)}function _e(){return(_e=(0,l.Z)(function*(ne,ee){try{const bt=(yield k()).transaction(z,"readwrite");yield bt.objectStore(z).put(ee,W(ne)),yield bt.done}catch(Re){if(Re instanceof te.ZR)me.warn(Re.message);else{const bt=er.create("idb-set",{originalErrorMessage:Re?.message});me.warn(bt.message)}}})).apply(this,arguments)}function W(ne){return`${ne.name}!${ne.options.appId}`}class xe{constructor(ee){this.container=ee,this._heartbeatsCache=null;const Re=this.container.getProvider("app").getImmediate();this._storage=new et(Re),this._heartbeatsCachePromise=this._storage.read().then(bt=>(this._heartbeatsCache=bt,bt))}triggerHeartbeat(){var ee=this;return(0,l.Z)(function*(){const bt=ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Tt=Oe();if(null===ee._heartbeatsCache&&(ee._heartbeatsCache=yield ee._heartbeatsCachePromise),ee._heartbeatsCache.lastSentHeartbeatDate!==Tt&&!ee._heartbeatsCache.heartbeats.some(nn=>nn.date===Tt))return ee._heartbeatsCache.heartbeats.push({date:Tt,agent:bt}),ee._heartbeatsCache.heartbeats=ee._heartbeatsCache.heartbeats.filter(nn=>{const Et=new Date(nn.date).valueOf();return Date.now()-Et<=2592e6}),ee._storage.overwrite(ee._heartbeatsCache)})()}getHeartbeatsHeader(){var ee=this;return(0,l.Z)(function*(){if(null===ee._heartbeatsCache&&(yield ee._heartbeatsCachePromise),null===ee._heartbeatsCache||0===ee._heartbeatsCache.heartbeats.length)return"";const Re=Oe(),{heartbeatsToSend:bt,unsentEntries:Tt}=function it(ne,ee=1024){const Re=[];let bt=ne.slice();for(const Tt of ne){const nn=Re.find(Et=>Et.agent===Tt.agent);if(nn){if(nn.dates.push(Tt.date),Ht(Re)>ee){nn.dates.pop();break}}else if(Re.push({agent:Tt.agent,dates:[Tt.date]}),Ht(Re)>ee){Re.pop();break}bt=bt.slice(1)}return{heartbeatsToSend:Re,unsentEntries:bt}}(ee._heartbeatsCache.heartbeats),nn=(0,te.L)(JSON.stringify({version:2,heartbeats:bt}));return ee._heartbeatsCache.lastSentHeartbeatDate=Re,Tt.length>0?(ee._heartbeatsCache.heartbeats=Tt,yield ee._storage.overwrite(ee._heartbeatsCache)):(ee._heartbeatsCache.heartbeats=[],ee._storage.overwrite(ee._heartbeatsCache)),nn})()}}function Oe(){return(new Date).toISOString().substring(0,10)}class et{constructor(ee){this.app=ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ee=this;return(0,l.Z)(function*(){return(yield ee._canUseIndexedDBPromise)&&(yield function R(ne){return S.apply(this,arguments)}(ee.app))||{heartbeats:[]}})()}overwrite(ee){var Re=this;return(0,l.Z)(function*(){var bt;if(yield Re._canUseIndexedDBPromise){const nn=yield Re.read();return K(Re.app,{lastSentHeartbeatDate:null!==(bt=ee.lastSentHeartbeatDate)&&void 0!==bt?bt:nn.lastSentHeartbeatDate,heartbeats:ee.heartbeats})}})()}add(ee){var Re=this;return(0,l.Z)(function*(){var bt;if(yield Re._canUseIndexedDBPromise){const nn=yield Re.read();return K(Re.app,{lastSentHeartbeatDate:null!==(bt=ee.lastSentHeartbeatDate)&&void 0!==bt?bt:nn.lastSentHeartbeatDate,heartbeats:[...nn.heartbeats,...ee.heartbeats]})}})()}}function Ht(ne){return(0,te.L)(JSON.stringify({version:2,heartbeats:ne})).length}!function Jt(ne){qn(new H.wA("platform-logger",ee=>new gt(ee),"PRIVATE")),qn(new H.wA("heartbeat",ee=>new xe(ee),"PRIVATE")),tr(mt,"0.9.13",ne),tr(mt,"0.9.13","esm2017"),tr("fire-js","")}("")},4859:(Ot,ke,F)=>{F.d(ke,{H0:()=>Ce,wA:()=>N});var l=F(5861),H=F(2090);class N{constructor(G,q,J){this.name=G,this.instanceFactory=q,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const te="[DEFAULT]";class pe{constructor(G,q){this.name=G,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const q=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(q)){const J=new H.BH;if(this.instancesDeferred.set(q,J),this.isInitialized(q)||this.shouldAutoInitialize())try{const Ae=this.getOrInitializeService({instanceIdentifier:q});Ae&&J.resolve(Ae)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(G){var q;const J=this.normalizeInstanceIdentifier(G?.identifier),Ae=null!==(q=G?.optional)&&void 0!==q&&q;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Ae)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Ie){if(Ae)return null;throw Ie}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ve(we){return"EAGER"===we.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[q,J]of this.instancesDeferred.entries()){const Ae=this.normalizeInstanceIdentifier(q);try{const Ie=this.getOrInitializeService({instanceIdentifier:Ae});J.resolve(Ie)}catch{}}}}clearInstance(G=te){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,l.Z)(function*(){const q=Array.from(G.instances.values());yield Promise.all([...q.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...q.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=te){return this.instances.has(G)}getOptions(G=te){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:q={}}=G,J=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ae=this.getOrInitializeService({instanceIdentifier:J,options:q});for(const[Ie,qe]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Ie)&&qe.resolve(Ae);return Ae}onInit(G,q){var J;const Ae=this.normalizeInstanceIdentifier(q),Ie=null!==(J=this.onInitCallbacks.get(Ae))&&void 0!==J?J:new Set;Ie.add(G),this.onInitCallbacks.set(Ae,Ie);const qe=this.instances.get(Ae);return qe&&G(qe,Ae),()=>{Ie.delete(G)}}invokeOnInitCallbacks(G,q){const J=this.onInitCallbacks.get(q);if(J)for(const Ae of J)try{Ae(G,q)}catch{}}getOrInitializeService({instanceIdentifier:G,options:q={}}){let J=this.instances.get(G);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(we=G,we===te?void 0:we),options:q}),this.instances.set(G,J),this.instancesOptions.set(G,q),this.invokeOnInitCallbacks(J,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,J)}catch{}var we;return J||null}normalizeInstanceIdentifier(G=te){return this.component?this.component.multipleInstances?G:te:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const q=this.getProvider(G.name);if(q.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);q.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const q=new pe(G,this);return this.providers.set(G,q),q}getProviders(){return Array.from(this.providers.values())}}},4727:(Ot,ke,F)=>{var l=F(5861),H=F(6881),N=F(4859),te=F(2090);const pe=(V,X)=>X.some(ge=>V instanceof ge);let se,ve;const G=new WeakMap,q=new WeakMap,J=new WeakMap,Ae=new WeakMap,Ie=new WeakMap;let ye={get(V,X,ge){if(V instanceof IDBTransaction){if("done"===X)return q.get(V);if("objectStoreNames"===X)return V.objectStoreNames||J.get(V);if("store"===X)return ge.objectStoreNames[1]?void 0:ge.objectStore(ge.objectStoreNames[0])}return De(V[X])},set:(V,X,ge)=>(V[X]=ge,!0),has:(V,X)=>V instanceof IDBTransaction&&("done"===X||"store"===X)||X in V};function Ge(V){return"function"==typeof V?function Be(V){return V!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(V)?function(...X){return V.apply(Pe(this),X),De(G.get(this))}:function(...X){return De(V.apply(Pe(this),X))}:function(X,...ge){const Xe=V.call(Pe(this),X,...ge);return J.set(Xe,X.sort?X.sort():[X]),De(Xe)}}(V):(V instanceof IDBTransaction&&function _t(V){if(q.has(V))return;const X=new Promise((ge,Xe)=>{const hn=()=>{V.removeEventListener("complete",Qt),V.removeEventListener("error",cn),V.removeEventListener("abort",cn)},Qt=()=>{ge(),hn()},cn=()=>{Xe(V.error||new DOMException("AbortError","AbortError")),hn()};V.addEventListener("complete",Qt),V.addEventListener("error",cn),V.addEventListener("abort",cn)});q.set(V,X)}(V),pe(V,function Ce(){return se||(se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(V,ye):V)}function De(V){if(V instanceof IDBRequest)return function qe(V){const X=new Promise((ge,Xe)=>{const hn=()=>{V.removeEventListener("success",Qt),V.removeEventListener("error",cn)},Qt=()=>{ge(De(V.result)),hn()},cn=()=>{Xe(V.error),hn()};V.addEventListener("success",Qt),V.addEventListener("error",cn)});return X.then(ge=>{ge instanceof IDBCursor&&G.set(ge,V)}).catch(()=>{}),Ie.set(X,V),X}(V);if(Ae.has(V))return Ae.get(V);const X=Ge(V);return X!==V&&(Ae.set(V,X),Ie.set(X,V)),X}const Pe=V=>Ie.get(V),$e=["get","getKey","getAll","getAllKeys","count"],ae=["put","add","delete","clear"],st=new Map;function Nt(V,X){if(!(V instanceof IDBDatabase)||X in V||"string"!=typeof X)return;if(st.get(X))return st.get(X);const ge=X.replace(/FromIndex$/,""),Xe=X!==ge,hn=ae.includes(ge);if(!(ge in(Xe?IDBIndex:IDBObjectStore).prototype)||!hn&&!$e.includes(ge))return;const Qt=function(){var cn=(0,l.Z)(function*(Vn,...nr){const ln=this.transaction(Vn,hn?"readwrite":"readonly");let Rr=ln.store;return Xe&&(Rr=Rr.index(nr.shift())),(yield Promise.all([Rr[ge](...nr),hn&&ln.done]))[0]});return function(nr){return cn.apply(this,arguments)}}();return st.set(X,Qt),Qt}!function Ne(V){ye=V(ye)}(V=>({...V,get:(X,ge,Xe)=>Nt(X,ge)||V.get(X,ge,Xe),has:(X,ge)=>!!Nt(X,ge)||V.has(X,ge)}));const gt="@firebase/installations",en="0.6.4",mt=1e4,be=`w:${en}`,me="FIS_v2",Se="https://firebaseinstallations.googleapis.com/v1",Le=36e5,je=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Vt(V){return V instanceof te.ZR&&V.code.includes("request-failed")}function Mt({projectId:V}){return`${Se}/projects/${V}/installations`}function tn(V){return{token:V.token,requestStatus:2,expiresIn:Hr(V.expiresIn),creationTime:Date.now()}}function It(V,X){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,l.Z)(function*(V,X){const Xe=(yield X.json()).error;return je.create("request-failed",{requestName:V,serverCode:Xe.code,serverMessage:Xe.message,serverStatus:Xe.status})})).apply(this,arguments)}function zn({apiKey:V}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V})}function mr(V){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,l.Z)(function*(V){const X=yield V();return X.status>=500&&X.status<600?V():X})).apply(this,arguments)}function Hr(V){return Number(V.replace("s","000"))}function fr(){return(fr=(0,l.Z)(function*({appConfig:V,heartbeatServiceProvider:X},{fid:ge}){const Xe=Mt(V),hn=zn(V),Qt=X.getImmediate({optional:!0});if(Qt){const ln=yield Qt.getHeartbeatsHeader();ln&&hn.append("x-firebase-client",ln)}const Vn={method:"POST",headers:hn,body:JSON.stringify({fid:ge,authVersion:me,appId:V.appId,sdkVersion:be})},nr=yield mr(()=>fetch(Xe,Vn));if(nr.ok){const ln=yield nr.json();return{fid:ln.fid||ge,registrationStatus:2,refreshToken:ln.refreshToken,authToken:tn(ln.authToken)}}throw yield It("Create Installation",nr)})).apply(this,arguments)}function No(V){return new Promise(X=>{setTimeout(X,V)})}const vt=/^[cdef][\w-]{21}$/,kn="";function Qr(){try{const V=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(V),V[0]=112+V[0]%16;const ge=function Wn(V){return function xn(V){return btoa(String.fromCharCode(...V)).replace(/\+/g,"-").replace(/\//g,"_")}(V).substr(0,22)}(V);return vt.test(ge)?ge:kn}catch{return kn}}function Zn(V){return`${V.appName}!${V.appId}`}const Kn=new Map;function sn(V,X){const ge=Zn(V);Ft(ge,X),function qn(V,X){const ge=function Rn(){return!Pn&&"BroadcastChannel"in self&&(Pn=new BroadcastChannel("[Firebase] FID Change"),Pn.onmessage=V=>{Ft(V.data.key,V.data.fid)}),Pn}();ge&&ge.postMessage({key:V,fid:X}),function _r(){0===Kn.size&&Pn&&(Pn.close(),Pn=null)}()}(ge,X)}function Ft(V,X){const ge=Kn.get(V);if(ge)for(const Xe of ge)Xe(X)}let Pn=null;const Nn="firebase-installations-database",er=1,At="firebase-installations-store";let yr=null;function Yt(){return yr||(yr=function Fe(V,X,{blocked:ge,upgrade:Xe,blocking:hn,terminated:Qt}={}){const cn=indexedDB.open(V,X),Vn=De(cn);return Xe&&cn.addEventListener("upgradeneeded",nr=>{Xe(De(cn.result),nr.oldVersion,nr.newVersion,De(cn.transaction))}),ge&&cn.addEventListener("blocked",()=>ge()),Vn.then(nr=>{Qt&&nr.addEventListener("close",()=>Qt()),hn&&nr.addEventListener("versionchange",()=>hn())}).catch(()=>{}),Vn}(Nn,er,{upgrade:(V,X)=>{0===X&&V.createObjectStore(At)}})),yr}function $r(V,X){return zt.apply(this,arguments)}function zt(){return(zt=(0,l.Z)(function*(V,X){const ge=Zn(V),hn=(yield Yt()).transaction(At,"readwrite"),Qt=hn.objectStore(At),cn=yield Qt.get(ge);return yield Qt.put(X,ge),yield hn.done,(!cn||cn.fid!==X.fid)&&sn(V,X.fid),X})).apply(this,arguments)}function Yn(V){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(V){const X=Zn(V),Xe=(yield Yt()).transaction(At,"readwrite");yield Xe.objectStore(At).delete(X),yield Xe.done})).apply(this,arguments)}function tr(V,X){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,l.Z)(function*(V,X){const ge=Zn(V),hn=(yield Yt()).transaction(At,"readwrite"),Qt=hn.objectStore(At),cn=yield Qt.get(ge),Vn=X(cn);return void 0===Vn?yield Qt.delete(ge):yield Qt.put(Vn,ge),yield hn.done,Vn&&(!cn||cn.fid!==Vn.fid)&&sn(V,Vn.fid),Vn})).apply(this,arguments)}function dr(V){return xr.apply(this,arguments)}function xr(){return xr=(0,l.Z)(function*(V){let X;const ge=yield tr(V.appConfig,Xe=>{const hn=function Jr(V){return _e(V||{fid:Qr(),registrationStatus:0})}(Xe),Qt=function z(V,X){if(0===X.registrationStatus){if(!navigator.onLine)return{installationEntry:X,registrationPromise:Promise.reject(je.create("app-offline"))};const ge={fid:X.fid,registrationStatus:1,registrationTime:Date.now()},Xe=function $(V,X){return k.apply(this,arguments)}(V,ge);return{installationEntry:ge,registrationPromise:Xe}}return 1===X.registrationStatus?{installationEntry:X,registrationPromise:R(V)}:{installationEntry:X}}(V,hn);return X=Qt.registrationPromise,Qt.installationEntry});return ge.fid===kn?{installationEntry:yield X}:{installationEntry:ge,registrationPromise:X}}),xr.apply(this,arguments)}function k(){return k=(0,l.Z)(function*(V,X){try{const ge=yield function ao(V,X){return fr.apply(this,arguments)}(V,X);return $r(V.appConfig,ge)}catch(ge){throw Vt(ge)&&409===ge.customData.serverCode?yield Yn(V.appConfig):yield $r(V.appConfig,{fid:X.fid,registrationStatus:0}),ge}}),k.apply(this,arguments)}function R(V){return S.apply(this,arguments)}function S(){return(S=(0,l.Z)(function*(V){let X=yield K(V.appConfig);for(;1===X.registrationStatus;)yield No(100),X=yield K(V.appConfig);if(0===X.registrationStatus){const{installationEntry:ge,registrationPromise:Xe}=yield dr(V);return Xe||ge}return X})).apply(this,arguments)}function K(V){return tr(V,X=>{if(!X)throw je.create("installation-not-found");return _e(X)})}function _e(V){return function W(V){return 1===V.registrationStatus&&V.registrationTime+mt<Date.now()}(V)?{fid:V.fid,registrationStatus:0}:V}function fe(){return(fe=(0,l.Z)(function*({appConfig:V,heartbeatServiceProvider:X},ge){const Xe=function xe(V,{fid:X}){return`${Mt(V)}/${X}/authTokens:generate`}(V,ge),hn=function An(V,{refreshToken:X}){const ge=zn(V);return ge.append("Authorization",function Ar(V){return`${me} ${V}`}(X)),ge}(V,ge),Qt=X.getImmediate({optional:!0});if(Qt){const ln=yield Qt.getHeartbeatsHeader();ln&&hn.append("x-firebase-client",ln)}const Vn={method:"POST",headers:hn,body:JSON.stringify({installation:{sdkVersion:be,appId:V.appId}})},nr=yield mr(()=>fetch(Xe,Vn));if(nr.ok)return tn(yield nr.json());throw yield It("Generate Auth Token",nr)})).apply(this,arguments)}function Oe(V){return it.apply(this,arguments)}function it(){return it=(0,l.Z)(function*(V,X=!1){let ge;const Xe=yield tr(V.appConfig,Qt=>{if(!Re(Qt))throw je.create("not-registered");const cn=Qt.authToken;if(!X&&function bt(V){return 2===V.requestStatus&&!function Tt(V){const X=Date.now();return X<V.creationTime||V.creationTime+V.expiresIn<X+Le}(V)}(cn))return Qt;if(1===cn.requestStatus)return ge=function et(V,X){return Ht.apply(this,arguments)}(V,X),Qt;{if(!navigator.onLine)throw je.create("app-offline");const Vn=function nn(V){const X={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},V),{authToken:X})}(Qt);return ge=function ne(V,X){return ee.apply(this,arguments)}(V,Vn),Vn}});return ge?yield ge:Xe.authToken}),it.apply(this,arguments)}function Ht(){return(Ht=(0,l.Z)(function*(V,X){let ge=yield Jt(V.appConfig);for(;1===ge.authToken.requestStatus;)yield No(100),ge=yield Jt(V.appConfig);const Xe=ge.authToken;return 0===Xe.requestStatus?Oe(V,X):Xe})).apply(this,arguments)}function Jt(V){return tr(V,X=>{if(!Re(X))throw je.create("not-registered");return function Et(V){return 1===V.requestStatus&&V.requestTime+mt<Date.now()}(X.authToken)?Object.assign(Object.assign({},X),{authToken:{requestStatus:0}}):X})}function ee(){return ee=(0,l.Z)(function*(V,X){try{const ge=yield function ie(V,X){return fe.apply(this,arguments)}(V,X),Xe=Object.assign(Object.assign({},X),{authToken:ge});return yield $r(V.appConfig,Xe),ge}catch(ge){if(!Vt(ge)||401!==ge.customData.serverCode&&404!==ge.customData.serverCode){const Xe=Object.assign(Object.assign({},X),{authToken:{requestStatus:0}});yield $r(V.appConfig,Xe)}else yield Yn(V.appConfig);throw ge}}),ee.apply(this,arguments)}function Re(V){return void 0!==V&&2===V.registrationStatus}function an(){return(an=(0,l.Z)(function*(V){const X=V,{installationEntry:ge,registrationPromise:Xe}=yield dr(X);return Xe?Xe.catch(console.error):Oe(X).catch(console.error),ge.fid})).apply(this,arguments)}function ir(){return ir=(0,l.Z)(function*(V,X=!1){const ge=V;return yield function vr(V){return $s.apply(this,arguments)}(ge),(yield Oe(ge,X)).token}),ir.apply(this,arguments)}function $s(){return($s=(0,l.Z)(function*(V){const{registrationPromise:X}=yield dr(V);X&&(yield X)})).apply(this,arguments)}function Xr(V){return je.create("missing-app-config-values",{valueName:V})}const Gn="installations",kr=V=>{const X=V.getProvider("app").getImmediate(),ge=function Cr(V){if(!V||!V.options)throw Xr("App Configuration");if(!V.name)throw Xr("App Name");const X=["projectId","apiKey","appId"];for(const ge of X)if(!V.options[ge])throw Xr(ge);return{appName:V.name,projectId:V.options.projectId,apiKey:V.options.apiKey,appId:V.options.appId}}(X);return{app:X,appConfig:ge,heartbeatServiceProvider:(0,H._getProvider)(X,"heartbeat"),_delete:()=>Promise.resolve()}},Xt=V=>{const X=V.getProvider("app").getImmediate(),ge=(0,H._getProvider)(X,Gn).getImmediate();return{getId:()=>function vn(V){return an.apply(this,arguments)}(ge),getToken:hn=>function br(V){return ir.apply(this,arguments)}(ge,hn)}};(function Ai(){(0,H._registerComponent)(new N.wA(Gn,kr,"PUBLIC")),(0,H._registerComponent)(new N.wA("installations-internal",Xt,"PRIVATE"))})(),(0,H.registerVersion)(gt,en),(0,H.registerVersion)(gt,en,"esm2017")},1877:(Ot,ke,F)=>{F.d(ke,{Am:()=>we,Ub:()=>Ce,Yd:()=>ve,in:()=>H});const l=[];var H=(()=>{return(G=H||(H={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",H;var G})();const N={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},te=H.INFO,pe={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},se=(G,q,...J)=>{if(q<G.logLevel)return;const Ae=(new Date).toISOString(),Ie=pe[q];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Ie](`[${Ae}]  ${G.name}:`,...J)};class ve{constructor(q){this.name=q,this._logLevel=te,this._logHandler=se,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in H))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?N[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...q),this._logHandler(this,H.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...q),this._logHandler(this,H.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,H.INFO,...q),this._logHandler(this,H.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,H.WARN,...q),this._logHandler(this,H.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...q),this._logHandler(this,H.ERROR,...q)}}function Ce(G){l.forEach(q=>{q.setLogLevel(G)})}function we(G,q){for(const J of l){let Ae=null;q&&q.level&&(Ae=N[q.level]),J.userLogHandler=null===G?null:(Ie,qe,..._t)=>{const ye=_t.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");qe>=(Ae??Ie.logLevel)&&G({level:H[qe].toLowerCase(),message:ye,args:_t,type:Ie.name})}}}},3008:(Ot,ke,F)=>{F.d(ke,{IH:()=>$r,Gb:()=>Yn});var l=F(5861),H=F(6881),N=F(1877),te=F(2090),pe=F(4859);F(4727);const ve="analytics",Ce="firebase_id",we="origin",G=6e4,q="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",J="https://www.googletagmanager.com/gtag/js",Ae=new N.Yd("@firebase/analytics"),qe=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function _t(W){if(!W.startsWith(J)){const ie=qe.create("invalid-gtag-resource",{gtagURL:W});return Ae.warn(ie.message),""}return W}function ye(W){return Promise.all(W.map(ie=>ie.catch(fe=>fe)))}function Pe(){return(Pe=(0,l.Z)(function*(W,ie,fe,xe,Oe,it){const et=xe[Oe];try{if(et)yield ie[et];else{const Jt=(yield ye(fe)).find(ne=>ne.measurementId===Oe);Jt&&(yield ie[Jt.appId])}}catch(Ht){Ae.error(Ht)}W("config",Oe,it)})).apply(this,arguments)}function Je(){return(Je=(0,l.Z)(function*(W,ie,fe,xe,Oe){try{let it=[];if(Oe&&Oe.send_to){let et=Oe.send_to;Array.isArray(et)||(et=[et]);const Ht=yield ye(fe);for(const Jt of et){const ne=Ht.find(Re=>Re.measurementId===Jt),ee=ne&&ie[ne.appId];if(!ee){it=[];break}it.push(ee)}}0===it.length&&(it=Object.values(ie)),yield Promise.all(it),W("event",xe,Oe||{})}catch(it){Ae.error(it)}})).apply(this,arguments)}const Nt=30,mt=new class en{constructor(ie={},fe=1e3){this.throttleMetadata=ie,this.intervalMillis=fe}getThrottleMetadata(ie){return this.throttleMetadata[ie]}setThrottleMetadata(ie,fe){this.throttleMetadata[ie]=fe}deleteThrottleMetadata(ie){delete this.throttleMetadata[ie]}};function be(W){return new Headers({Accept:"application/json","x-goog-api-key":W})}function Se(){return(Se=(0,l.Z)(function*(W){var ie;const{appId:fe,apiKey:xe}=W,Oe={method:"GET",headers:be(xe)},it=q.replace("{app-id}",fe),et=yield fetch(it,Oe);if(200!==et.status&&304!==et.status){let Ht="";try{const Jt=yield et.json();null!==(ie=Jt.error)&&void 0!==ie&&ie.message&&(Ht=Jt.error.message)}catch{}throw qe.create("config-fetch-failed",{httpStatus:et.status,responseMessage:Ht})}return et.json()})).apply(this,arguments)}function Ye(){return(Ye=(0,l.Z)(function*(W,ie=mt,fe){const{appId:xe,apiKey:Oe,measurementId:it}=W.options;if(!xe)throw qe.create("no-app-id");if(!Oe){if(it)return{measurementId:it,appId:xe};throw qe.create("no-api-key")}const et=ie.getThrottleMetadata(xe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ht=new Mt;return setTimeout((0,l.Z)(function*(){Ht.abort()}),void 0!==fe?fe:G),Ze({appId:xe,apiKey:Oe,measurementId:it},et,Ht,ie)})).apply(this,arguments)}function Ze(W,ie,fe){return yt.apply(this,arguments)}function yt(){return yt=(0,l.Z)(function*(W,{throttleEndTimeMillis:ie,backoffCount:fe},xe,Oe=mt){var it;const{appId:et,measurementId:Ht}=W;try{yield function je(W,ie){return new Promise((fe,xe)=>{const Oe=Math.max(ie-Date.now(),0),it=setTimeout(fe,Oe);W.addEventListener(()=>{clearTimeout(it),xe(qe.create("fetch-throttle",{throttleEndTimeMillis:ie}))})})}(xe,ie)}catch(Jt){if(Ht)return Ae.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${Jt?.message}]`),{appId:et,measurementId:Ht};throw Jt}try{const Jt=yield function me(W){return Se.apply(this,arguments)}(W);return Oe.deleteThrottleMetadata(et),Jt}catch(Jt){const ne=Jt;if(!function Vt(W){if(!(W instanceof te.ZR&&W.customData))return!1;const ie=Number(W.customData.httpStatus);return 429===ie||500===ie||503===ie||504===ie}(ne)){if(Oe.deleteThrottleMetadata(et),Ht)return Ae.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${ne?.message}]`),{appId:et,measurementId:Ht};throw Jt}const ee=503===Number(null===(it=ne?.customData)||void 0===it?void 0:it.httpStatus)?(0,te.$s)(fe,Oe.intervalMillis,Nt):(0,te.$s)(fe,Oe.intervalMillis),Re={throttleEndTimeMillis:Date.now()+ee,backoffCount:fe+1};return Oe.setThrottleMetadata(et,Re),Ae.debug(`Calling attemptFetch again in ${ee} millis`),Ze(W,Re,xe,Oe)}}),yt.apply(this,arguments)}class Mt{constructor(){this.listeners=[]}addEventListener(ie){this.listeners.push(ie)}abort(){this.listeners.forEach(ie=>ie())}}let tn,vt;function Ut(){return(Ut=(0,l.Z)(function*(W,ie,fe,xe,Oe){if(Oe&&Oe.global)W("event",fe,xe);else{const it=yield ie;W("event",fe,Object.assign(Object.assign({},xe),{send_to:it}))}})).apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(){if(!(0,te.hl)())return Ae.warn(qe.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(W){return Ae.warn(qe.create("indexeddb-unavailable",{errorInfo:W?.toString()}).message),!1}return!0})).apply(this,arguments)}function sn(){return sn=(0,l.Z)(function*(W,ie,fe,xe,Oe,it,et){var Ht;const Jt=function Le(W){return Ye.apply(this,arguments)}(W);Jt.then(Tt=>{fe[Tt.measurementId]=Tt.appId,W.options.measurementId&&Tt.measurementId!==W.options.measurementId&&Ae.warn(`The measurement ID in the local Firebase config (${W.options.measurementId}) does not match the measurement ID fetched from the server (${Tt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Tt=>Ae.error(Tt)),ie.push(Jt);const ne=function Wn(){return Zn.apply(this,arguments)}().then(Tt=>{if(Tt)return xe.getId()}),[ee,Re]=yield Promise.all([Jt,ne]);(function st(W){const ie=window.document.getElementsByTagName("script");for(const fe of Object.values(ie))if(fe.src&&fe.src.includes(J)&&fe.src.includes(W))return fe;return null})(it)||function Be(W,ie){const fe=function Ne(W,ie){let fe;return window.trustedTypes&&(fe=window.trustedTypes.createPolicy(W,ie)),fe}("firebase-js-sdk-policy",{createScriptURL:_t}),xe=document.createElement("script"),Oe=`${J}?l=${W}&id=${ie}`;xe.src=fe?fe?.createScriptURL(Oe):Oe,xe.async=!0,document.head.appendChild(xe)}(it,ee.measurementId),vt&&(Oe("consent","default",vt),function kn(W){vt=W}(void 0)),Oe("js",new Date);const bt=null!==(Ht=et?.config)&&void 0!==Ht?Ht:{};return bt[we]="firebase",bt.update=!0,null!=Re&&(bt[Ce]=Re),Oe("config",ee.measurementId,bt),tn&&(Oe("set",tn),function Qr(W){tn=W}(void 0)),ee.measurementId}),sn.apply(this,arguments)}class dn{constructor(ie){this.app=ie}_delete(){return delete ft[this.app.options.appId],Promise.resolve()}}let ft={},Ft=[];const qn={};let _r,Nn,Pn="dataLayer",Rn="gtag",er=!1;function Yt(W,ie,fe){!function yr(){const W=[];if((0,te.ru)()&&W.push("This is a browser extension environment."),(0,te.zI)()||W.push("Cookies are not available."),W.length>0){const ie=W.map((xe,Oe)=>`(${Oe+1}) ${xe}`).join(" "),fe=qe.create("invalid-analytics-context",{errorInfo:ie});Ae.warn(fe.message)}}();const xe=W.options.appId;if(!xe)throw qe.create("no-app-id");if(!W.options.apiKey){if(!W.options.measurementId)throw qe.create("no-api-key");Ae.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${W.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ft[xe])throw qe.create("already-exists",{id:xe});if(!er){!function Ge(W){let ie=[];Array.isArray(window[W])?ie=window[W]:window[W]=ie}(Pn);const{wrappedGtag:it,gtagCore:et}=function ae(W,ie,fe,xe,Oe){let it=function(...et){window[xe].push(arguments)};return window[Oe]&&"function"==typeof window[Oe]&&(it=window[Oe]),window[Oe]=function $e(W,ie,fe,xe){function it(){return it=(0,l.Z)(function*(et,...Ht){try{if("event"===et){const[Jt,ne]=Ht;yield function Fe(W,ie,fe,xe,Oe){return Je.apply(this,arguments)}(W,ie,fe,Jt,ne)}else if("config"===et){const[Jt,ne]=Ht;yield function De(W,ie,fe,xe,Oe,it){return Pe.apply(this,arguments)}(W,ie,fe,xe,Jt,ne)}else if("consent"===et){const[Jt]=Ht;W("consent","update",Jt)}else if("get"===et){const[Jt,ne,ee]=Ht;W("get",Jt,ne,ee)}else if("set"===et){const[Jt]=Ht;W("set",Jt)}else W(et,...Ht)}catch(Jt){Ae.error(Jt)}}),it.apply(this,arguments)}return function Oe(et){return it.apply(this,arguments)}}(it,W,ie,fe),{gtagCore:it,wrappedGtag:window[Oe]}}(ft,Ft,qn,Pn,Rn);Nn=it,_r=et,er=!0}return ft[xe]=function Kn(W,ie,fe,xe,Oe,it,et){return sn.apply(this,arguments)}(W,Ft,qn,ie,_r,Pn,fe),new dn(W)}function $r(W=(0,H.getApp)()){W=(0,te.m9)(W);const ie=(0,H._getProvider)(W,ve);return ie.isInitialized()?ie.getImmediate():function zt(W,ie={}){const fe=(0,H._getProvider)(W,ve);if(fe.isInitialized()){const Oe=fe.getImmediate();if((0,te.vZ)(ie,fe.getOptions()))return Oe;throw qe.create("already-initialized")}return fe.initialize({options:ie})}(W)}function Yn(){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch{return!1}})).apply(this,arguments)}const S="@firebase/analytics",K="0.10.0";!function _e(){(0,H._registerComponent)(new pe.wA(ve,(ie,{options:fe})=>Yt(ie.getProvider("app").getImmediate(),ie.getProvider("installations-internal").getImmediate(),fe),"PUBLIC")),(0,H._registerComponent)(new pe.wA("analytics-internal",function W(ie){try{const fe=ie.getProvider(ve).getImmediate();return{logEvent:(xe,Oe,it)=>function k(W,ie,fe,xe){W=(0,te.m9)(W),function It(W,ie,fe,xe,Oe){return Ut.apply(this,arguments)}(Nn,ft[W.app.options.appId],ie,fe,xe).catch(Oe=>Ae.error(Oe))}(fe,xe,Oe,it)}}catch(fe){throw qe.create("interop-component-reg-failed",{reason:fe})}},"PRIVATE")),(0,H.registerVersion)(S,K),(0,H.registerVersion)(S,K,"esm2017")}()},259:(Ot,ke,F)=>{F.d(ke,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=F(6881);(0,l.registerVersion)("firebase","9.23.0","app")},9260:(Ot,ke,F)=>{F.d(ke,{Z:()=>l.Z});var l=F(3942);l.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(Ot,ke,F)=>{F.r(ke);var l=F(5861),H=F(3942),N=F(1389),te=F(2090),ve=(F(6881),F(1877),F(4859));function Ce(){return window}const we=2e3;function q(){return q=(0,l.Z)(function*(k,R,S){var K;const{BuildInfo:_e}=Ce();(0,N.as)(R.sessionId,"AuthEvent did not contain a session ID");const W=yield function Ne(k){return Be.apply(this,arguments)}(R.sessionId),ie={};return(0,N.at)()?ie.ibi=_e.packageName:(0,N.au)()?ie.apn=_e.packageName:(0,N.av)(k,"operation-not-supported-in-this-environment"),_e.displayName&&(ie.appDisplayName=_e.displayName),ie.sessionId=W,(0,N.aw)(k,S,R.type,void 0,null!==(K=R.eventId)&&void 0!==K?K:void 0,ie)}),q.apply(this,arguments)}function Ae(){return(Ae=(0,l.Z)(function*(k){const{BuildInfo:R}=Ce(),S={};(0,N.at)()?S.iosBundleId=R.packageName:(0,N.au)()?S.androidPackageName=R.packageName:(0,N.av)(k,"operation-not-supported-in-this-environment"),yield(0,N.ax)(k,S)})).apply(this,arguments)}function _t(){return(_t=(0,l.Z)(function*(k,R,S){const{cordova:K}=Ce();let _e=()=>{};try{yield new Promise((W,ie)=>{let fe=null;function xe(){var et;W();const Ht=null===(et=K.plugins.browsertab)||void 0===et?void 0:et.close;"function"==typeof Ht&&Ht(),"function"==typeof S?.close&&S.close()}function Oe(){fe||(fe=window.setTimeout(()=>{ie((0,N.az)(k,"redirect-cancelled-by-user"))},we))}function it(){"visible"===document?.visibilityState&&Oe()}R.addPassiveListener(xe),document.addEventListener("resume",Oe,!1),(0,N.au)()&&document.addEventListener("visibilitychange",it,!1),_e=()=>{R.removePassiveListener(xe),document.removeEventListener("resume",Oe,!1),document.removeEventListener("visibilitychange",it,!1),fe&&window.clearTimeout(fe)}})}finally{_e()}})).apply(this,arguments)}function Be(){return(Be=(0,l.Z)(function*(k){const R=function Ge(k){if((0,N.as)(/[0-9a-zA-Z]+/.test(k),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(k);const R=new ArrayBuffer(k.length),S=new Uint8Array(R);for(let K=0;K<k.length;K++)S[K]=k.charCodeAt(K);return S}(k),S=yield crypto.subtle.digest("SHA-256",R);return Array.from(new Uint8Array(S)).map(_e=>_e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const De=20;class Pe extends N.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(R=>{this.resolveInialized=R})}addPassiveListener(R){this.passiveListeners.add(R)}removePassiveListener(R){this.passiveListeners.delete(R)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(R){return this.resolveInialized(),this.passiveListeners.forEach(S=>S(R)),super.onEvent(R)}initialized(){var R=this;return(0,l.Z)(function*(){yield R.initPromise})()}}function $e(k){return ae.apply(this,arguments)}function ae(){return(ae=(0,l.Z)(function*(k){const R=yield gt()._get(en(k));return R&&(yield gt()._remove(en(k))),R})).apply(this,arguments)}function Nt(){const k=[],R="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<De;S++){const K=Math.floor(Math.random()*R.length);k.push(R.charAt(K))}return k.join("")}function gt(){return(0,N.aC)(N.b)}function en(k){return(0,N.aD)("authEvent",k.config.apiKey,k.name)}function me(k){if(!k?.includes("?"))return{};const[R,...S]=k.split("?");return(0,te.zd)(S.join("?"))}const Ye=class Le{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(R){var S=this;return(0,l.Z)(function*(){const K=R._key();let _e=S.eventManagers.get(K);return _e||(_e=new Pe(R),S.eventManagers.set(K,_e),S.attachCallbackListeners(R,_e)),_e})()}_openPopup(R){(0,N.av)(R,"operation-not-supported-in-this-environment")}_openRedirect(R,S,K,_e){var W=this;return(0,l.Z)(function*(){!function ye(k){var R,S,K,_e,W,ie,fe,xe,Oe,it;const et=Ce();(0,N.aA)("function"==typeof(null===(R=et?.universalLinks)||void 0===R?void 0:R.subscribe),k,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.aA)(typeof(null===(S=et?.BuildInfo)||void 0===S?void 0:S.packageName)<"u",k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.aA)("function"==typeof(null===(W=null===(_e=null===(K=et?.cordova)||void 0===K?void 0:K.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===W?void 0:W.openUrl),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(xe=null===(fe=null===(ie=et?.cordova)||void 0===ie?void 0:ie.plugins)||void 0===fe?void 0:fe.browsertab)||void 0===xe?void 0:xe.isAvailable),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(it=null===(Oe=et?.cordova)||void 0===Oe?void 0:Oe.InAppBrowser)||void 0===it?void 0:it.open),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(R);const ie=yield W._initialize(R);yield ie.initialized(),ie.resetRedirect(),(0,N.aG)(),yield W._originValidation(R);const fe=function Fe(k,R,S=null){return{type:R,eventId:S,urlResponse:null,sessionId:Nt(),postBody:null,tenantId:k.tenantId,error:(0,N.az)(k,"no-auth-event")}}(R,K,_e);yield function Je(k,R){return gt()._set(en(k),R)}(R,fe);const xe=yield function G(k,R,S){return q.apply(this,arguments)}(R,fe,S),Oe=yield function Ie(k){const{cordova:R}=Ce();return new Promise(S=>{R.plugins.browsertab.isAvailable(K=>{let _e=null;K?R.plugins.browsertab.openUrl(k):_e=R.InAppBrowser.open(k,(0,N.ay)()?"_blank":"_system","location=yes"),S(_e)})})}(xe);return function qe(k,R,S){return _t.apply(this,arguments)}(R,ie,Oe)})()}_isIframeWebStorageSupported(R,S){throw new Error("Method not implemented.")}_originValidation(R){const S=R._key();return this.originValidationPromises[S]||(this.originValidationPromises[S]=function J(k){return Ae.apply(this,arguments)}(R)),this.originValidationPromises[S]}attachCallbackListeners(R,S){const{universalLinks:K,handleOpenURL:_e,BuildInfo:W}=Ce(),ie=setTimeout((0,l.Z)(function*(){yield $e(R),S.onEvent(Ze())}),500),fe=function(){var it=(0,l.Z)(function*(et){clearTimeout(ie);const Ht=yield $e(R);let Jt=null;Ht&&et?.url&&(Jt=function st(k,R){var S,K;const _e=function be(k){const R=me(k),S=R.link?decodeURIComponent(R.link):void 0,K=me(S).link,_e=R.deep_link_id?decodeURIComponent(R.deep_link_id):void 0;return me(_e).link||_e||K||S||k}(R);if(_e.includes("/__/auth/callback")){const W=me(_e),ie=W.firebaseError?function mt(k){try{return JSON.parse(k)}catch{return null}}(decodeURIComponent(W.firebaseError)):null,fe=null===(K=null===(S=ie?.code)||void 0===S?void 0:S.split("auth/"))||void 0===K?void 0:K[1],xe=fe?(0,N.az)(fe):null;return xe?{type:k.type,eventId:k.eventId,tenantId:k.tenantId,error:xe,urlResponse:null,sessionId:null,postBody:null}:{type:k.type,eventId:k.eventId,tenantId:k.tenantId,sessionId:k.sessionId,urlResponse:_e,postBody:null}}return null}(Ht,et.url)),S.onEvent(Jt||Ze())});return function(Ht){return it.apply(this,arguments)}}();typeof K<"u"&&"function"==typeof K.subscribe&&K.subscribe(null,fe);const xe=_e,Oe=`${W.packageName.toLowerCase()}://`;Ce().handleOpenURL=function(){var it=(0,l.Z)(function*(et){if(et.toLowerCase().startsWith(Oe)&&fe({url:et}),"function"==typeof xe)try{xe(et)}catch(Ht){console.error(Ht)}});return function(et){return it.apply(this,arguments)}}()}};function Ze(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.az)("no-auth-event")}}const Mt=1e3;function tn(){var k;return(null===(k=self?.location)||void 0===k?void 0:k.protocol)||null}function Ut(k=(0,te.z$)()){return!("file:"!==tn()&&"ionic:"!==tn()&&"capacitor:"!==tn()||!k.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hr(){try{const k=self.localStorage,R=N.aL();if(k)return k.setItem(R,"1"),k.removeItem(R),!function Hn(k=(0,te.z$)()){return function An(){return(0,te.w1)()&&11===document?.documentMode}()||function mr(k=(0,te.z$)()){return/Edge\/\d+/.test(k)}(k)}()||(0,te.hl)()}catch{return Ar()&&(0,te.hl)()}return!1}function Ar(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ao(){return(function It(){return"http:"===tn()||"https:"===tn()}()||(0,te.ru)()||Ut())&&!function zn(){return(0,te.b$)()||(0,te.UG)()}()&&Hr()&&!Ar()}function fr(){return Ut()&&typeof document<"u"}function xn(){return(xn=(0,l.Z)(function*(){return!!fr()&&new Promise(k=>{const R=setTimeout(()=>{k(!1)},Mt);document.addEventListener("deviceready",()=>{clearTimeout(R),k(!0)})})})).apply(this,arguments)}const kn={LOCAL:"local",NONE:"none",SESSION:"session"},Qr=N.aA,Wn="persistence";function Kn(k){return sn.apply(this,arguments)}function sn(){return(sn=(0,l.Z)(function*(k){yield k._initializationPromise;const R=ft(),S=N.aD(Wn,k.config.apiKey,k.name);R&&R.setItem(S,k._getPersistence())})).apply(this,arguments)}function ft(){var k;try{return(null===(k=function vt(){return typeof window<"u"?window:null}())||void 0===k?void 0:k.sessionStorage)||null}catch{return null}}const Ft=N.aA;class qn{constructor(){this.browserResolver=N.aC(N.k),this.cordovaResolver=N.aC(Ye),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(R){var S=this;return(0,l.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._initialize(R)})()}_openPopup(R,S,K,_e){var W=this;return(0,l.Z)(function*(){return yield W.selectUnderlyingResolver(),W.assertedUnderlyingResolver._openPopup(R,S,K,_e)})()}_openRedirect(R,S,K,_e){var W=this;return(0,l.Z)(function*(){return yield W.selectUnderlyingResolver(),W.assertedUnderlyingResolver._openRedirect(R,S,K,_e)})()}_isIframeWebStorageSupported(R,S){this.assertedUnderlyingResolver._isIframeWebStorageSupported(R,S)}_originValidation(R){return this.assertedUnderlyingResolver._originValidation(R)}get _shouldInitProactively(){return fr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ft(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var R=this;return(0,l.Z)(function*(){if(R.underlyingResolver)return;const S=yield function No(){return xn.apply(this,arguments)}();R.underlyingResolver=S?R.cordovaResolver:R.browserResolver})()}}function Pn(k){return k.unwrap()}function _r(k){return er(k)}function er(k){const{_tokenResponse:R}=k instanceof te.ZR?k.customData:k;if(!R)return null;if(!(k instanceof te.ZR)&&"temporaryProof"in R&&"phoneNumber"in R)return N.P.credentialFromResult(k);const S=R.providerId;if(!S||S===N.p.PASSWORD)return null;let K;switch(S){case N.p.GOOGLE:K=N.V;break;case N.p.FACEBOOK:K=N.U;break;case N.p.GITHUB:K=N.W;break;case N.p.TWITTER:K=N.Z;break;default:const{oauthIdToken:_e,oauthAccessToken:W,oauthTokenSecret:ie,pendingToken:fe,nonce:xe}=R;return W||ie||_e||fe?fe?S.startsWith("saml.")?N.aO._create(S,fe):N.L._fromParams({providerId:S,signInMethod:S,pendingToken:fe,idToken:_e,accessToken:W}):new N.X(S).credential({idToken:_e,accessToken:W,rawNonce:xe}):null}return k instanceof te.ZR?K.credentialFromError(k):K.credentialFromResult(k)}function At(k,R){return R.catch(S=>{throw S instanceof te.ZR&&function Nn(k,R){var S;const K=null===(S=R.customData)||void 0===S?void 0:S._tokenResponse;if("auth/multi-factor-auth-required"===R?.code)R.resolver=new $r(k,N.aq(k,R));else if(K){const _e=er(R),W=R;_e&&(W.credential=_e,W.tenantId=K.tenantId||void 0,W.email=K.email||void 0,W.phoneNumber=K.phoneNumber||void 0)}}(k,S),S}).then(S=>{const _e=S.user;return{operationType:S.operationType,credential:_r(S),additionalUserInfo:N.ao(S),user:zt.getOrCreate(_e)}})}function yr(k,R){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,l.Z)(function*(k,R){const S=yield R;return{verificationId:S.verificationId,confirm:K=>At(k,S.confirm(K))}})).apply(this,arguments)}class $r{constructor(R,S){this.resolver=S,this.auth=function Rn(k){return k.wrapped()}(R)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(R){return At(Pn(this.auth),this.resolver.resolveSignIn(R))}}class zt{constructor(R){this._delegate=R,this.multiFactor=N.ar(R)}static getOrCreate(R){return zt.USER_MAP.has(R)||zt.USER_MAP.set(R,new zt(R)),zt.USER_MAP.get(R)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(R){return this._delegate.getIdTokenResult(R)}getIdToken(R){return this._delegate.getIdToken(R)}linkAndRetrieveDataWithCredential(R){return this.linkWithCredential(R)}linkWithCredential(R){var S=this;return(0,l.Z)(function*(){return At(S.auth,N.a0(S._delegate,R))})()}linkWithPhoneNumber(R,S){var K=this;return(0,l.Z)(function*(){return yr(K.auth,N.l(K._delegate,R,S))})()}linkWithPopup(R){var S=this;return(0,l.Z)(function*(){return At(S.auth,N.d(S._delegate,R,qn))})()}linkWithRedirect(R){var S=this;return(0,l.Z)(function*(){return yield Kn(N.aH(S.auth)),N.g(S._delegate,R,qn)})()}reauthenticateAndRetrieveDataWithCredential(R){return this.reauthenticateWithCredential(R)}reauthenticateWithCredential(R){var S=this;return(0,l.Z)(function*(){return At(S.auth,N.a1(S._delegate,R))})()}reauthenticateWithPhoneNumber(R,S){return yr(this.auth,N.r(this._delegate,R,S))}reauthenticateWithPopup(R){return At(this.auth,N.e(this._delegate,R,qn))}reauthenticateWithRedirect(R){var S=this;return(0,l.Z)(function*(){return yield Kn(N.aH(S.auth)),N.h(S._delegate,R,qn)})()}sendEmailVerification(R){return N.ae(this._delegate,R)}unlink(R){var S=this;return(0,l.Z)(function*(){return yield N.an(S._delegate,R),S})()}updateEmail(R){return N.aj(this._delegate,R)}updatePassword(R){return N.ak(this._delegate,R)}updatePhoneNumber(R){return N.u(this._delegate,R)}updateProfile(R){return N.ai(this._delegate,R)}verifyBeforeUpdateEmail(R,S){return N.af(this._delegate,R,S)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zt.USER_MAP=new WeakMap;const Yn=N.aA;let Dn=(()=>{class k{constructor(S,K){if(this.app=S,K.isInitialized())return this._delegate=K.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_e}=S.options;Yn(_e,"invalid-api-key",{appName:S.name}),Yn(_e,"invalid-api-key",{appName:S.name});const W=typeof window<"u"?qn:void 0;this._delegate=K.initialize({options:{persistence:Qn(_e,S.name),popupRedirectResolver:W}}),this._delegate._updateErrorMap(N.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(S){this._delegate.languageCode=S}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(S){this._delegate.tenantId=S}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(S,K){N.I(this._delegate,S,K)}applyActionCode(S){return N.a5(this._delegate,S)}checkActionCode(S){return N.a6(this._delegate,S)}confirmPasswordReset(S,K){return N.a4(this._delegate,S,K)}createUserWithEmailAndPassword(S,K){var _e=this;return(0,l.Z)(function*(){return At(_e._delegate,N.a8(_e._delegate,S,K))})()}fetchProvidersForEmail(S){return this.fetchSignInMethodsForEmail(S)}fetchSignInMethodsForEmail(S){return N.ad(this._delegate,S)}isSignInWithEmailLink(S){return N.ab(this._delegate,S)}getRedirectResult(){var S=this;return(0,l.Z)(function*(){Yn(ao(),S._delegate,"operation-not-supported-in-this-environment");const K=yield N.j(S._delegate,qn);return K?At(S._delegate,Promise.resolve(K)):{credential:null,user:null}})()}addFrameworkForLogging(S){!function yt(k,R){(0,N.aH)(k)._logFramework(R)}(this._delegate,S)}onAuthStateChanged(S,K,_e){const{next:W,error:ie,complete:fe}=tr(S,K,_e);return this._delegate.onAuthStateChanged(W,ie,fe)}onIdTokenChanged(S,K,_e){const{next:W,error:ie,complete:fe}=tr(S,K,_e);return this._delegate.onIdTokenChanged(W,ie,fe)}sendSignInLinkToEmail(S,K){return N.aa(this._delegate,S,K)}sendPasswordResetEmail(S,K){return N.a3(this._delegate,S,K||void 0)}setPersistence(S){var K=this;return(0,l.Z)(function*(){let _e;switch(function Zn(k,R){Qr(Object.values(kn).includes(R),k,"invalid-persistence-type"),(0,te.b$)()?Qr(R!==kn.SESSION,k,"unsupported-persistence-type"):(0,te.UG)()?Qr(R===kn.NONE,k,"unsupported-persistence-type"):Ar()?Qr(R===kn.NONE||R===kn.LOCAL&&(0,te.hl)(),k,"unsupported-persistence-type"):Qr(R===kn.NONE||Hr(),k,"unsupported-persistence-type")}(K._delegate,S),S){case kn.SESSION:_e=N.a;break;case kn.LOCAL:_e=(yield N.aC(N.i)._isAvailable())?N.i:N.b;break;case kn.NONE:_e=N.N;break;default:return N.av("argument-error",{appName:K._delegate.name})}return K._delegate.setPersistence(_e)})()}signInAndRetrieveDataWithCredential(S){return this.signInWithCredential(S)}signInAnonymously(){return At(this._delegate,N._(this._delegate))}signInWithCredential(S){return At(this._delegate,N.$(this._delegate,S))}signInWithCustomToken(S){return At(this._delegate,N.a2(this._delegate,S))}signInWithEmailAndPassword(S,K){return At(this._delegate,N.a9(this._delegate,S,K))}signInWithEmailLink(S,K){return At(this._delegate,N.ac(this._delegate,S,K))}signInWithPhoneNumber(S,K){return yr(this._delegate,N.s(this._delegate,S,K))}signInWithPopup(S){var K=this;return(0,l.Z)(function*(){return Yn(ao(),K._delegate,"operation-not-supported-in-this-environment"),At(K._delegate,N.c(K._delegate,S,qn))})()}signInWithRedirect(S){var K=this;return(0,l.Z)(function*(){return Yn(ao(),K._delegate,"operation-not-supported-in-this-environment"),yield Kn(K._delegate),N.f(K._delegate,S,qn)})()}updateCurrentUser(S){return this._delegate.updateCurrentUser(S)}verifyPasswordResetCode(S){return N.a7(this._delegate,S)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return k.Persistence=kn,k})();function tr(k,R,S){let K=k;"function"!=typeof k&&({next:K,error:R,complete:S}=k);const _e=K;return{next:ie=>_e(ie&&zt.getOrCreate(ie)),error:R,complete:S}}function Qn(k,R){const S=function dn(k,R){const S=ft();if(!S)return[];const K=N.aD(Wn,k,R);switch(S.getItem(K)){case kn.NONE:return[N.N];case kn.LOCAL:return[N.i,N.a];case kn.SESSION:return[N.a];default:return[]}}(k,R);if(typeof self<"u"&&!S.includes(N.i)&&S.push(N.i),typeof window<"u")for(const K of[N.b,N.a])S.includes(K)||S.push(K);return S.includes(N.N)||S.push(N.N),S}class dr{constructor(){this.providerId="phone",this._delegate=new N.P(Pn(H.Z.auth()))}static credential(R,S){return N.P.credential(R,S)}verifyPhoneNumber(R,S){return this._delegate.verifyPhoneNumber(R,S)}unwrap(){return this._delegate}}dr.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,dr.PROVIDER_ID=N.P.PROVIDER_ID;const xr=N.aA;class Jr{constructor(R,S,K=H.Z.app()){var _e;xr(null===(_e=K.options)||void 0===_e?void 0:_e.apiKey,"invalid-api-key",{appName:K.name}),this._delegate=new N.R(R,S,K.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $(k){k.INTERNAL.registerComponent(new ve.wA("auth-compat",R=>{const S=R.getProvider("app-compat").getImmediate(),K=R.getProvider("auth");return new Dn(S,K)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.Q,FacebookAuthProvider:N.U,GithubAuthProvider:N.W,GoogleAuthProvider:N.V,OAuthProvider:N.X,SAMLAuthProvider:N.Y,PhoneAuthProvider:dr,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:Jr,TwitterAuthProvider:N.Z,Auth:Dn,AuthCredential:N.J,Error:te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),k.registerVersion("@firebase/auth-compat","0.4.2")}(H.Z)},5861:(Ot,ke,F)=>{function l(N,te,pe,se,ve,Ce,we){try{var G=N[Ce](we),q=G.value}catch(J){return void pe(J)}G.done?te(q):Promise.resolve(q).then(se,ve)}function H(N){return function(){var te=this,pe=arguments;return new Promise(function(se,ve){var Ce=N.apply(te,pe);function we(q){l(Ce,se,ve,we,G,"next",q)}function G(q){l(Ce,se,ve,we,G,"throw",q)}we(void 0)})}}F.d(ke,{Z:()=>H})}},Ot=>{Ot(Ot.s=749)}]);